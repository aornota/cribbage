!function(t){function e(e){for(var r,u,a=e[0],s=e[1],l=e[2],f=0,h=[];f<a.length;f++)u=a[f],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&h.push(i[u][0]),i[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(c&&c(e);h.length;)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},i={0:0},o=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var c=s;o.push([238,1]),n()}({238:function(t,e,n){n(293),t.exports=n(292)},292:function(t,e,n){},293:function(t,e,n){"use strict";n.r(e),n.d(e,"Msg",(function(){return Tf})),n.d(e,"Msg$reflection",(function(){return Of})),n.d(e,"State",(function(){return Mf})),n.d(e,"State$reflection",(function(){return Rf}));n(19),n(20),n(21),n(45),n(37),n(38),n(7),n(35),n(9),n(18),n(6),n(11),n(14),n(12),n(159),n(108),n(109),n(51),n(124),n(160),n(28),n(198),n(161),n(162),n(125),n(248),n(126),n(127),n(129),n(163),n(166),n(55),n(167),n(168),n(169),n(250),n(63),n(71),n(207),n(172);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++)for(var u=o[i],a=0,s=Object.keys(u);a<s.length;a++){var l=s[a],c=Object.getOwnPropertyDescriptor(u,l);c&&Object.defineProperty(t,l,c)}return t}function c(t){return null!=t&&(Array.isArray(t)||ArrayBuffer.isView(t))}function f(t){return null!=t&&"function"==typeof t.Dispose}function h(t,e,n){return t.has(e)?[!0,t.get(e)]:[!1,n]}function p(t,e){return!e.has(t)&&(e.add(t),!0)}function d(t,e){for(var n=t.toString(10);n.length<e;)n="0"+n;return n}function y(t){var e=t;return"number"==typeof e.offset?e.offset:1===t.kind?0:-6e4*t.getTimezoneOffset()}var v=function(){var t=function(){function t(){a(this,t)}return i(t,null,[{key:"id",value:function(e){return t.idMap.has(e)||t.idMap.set(e,++t.count),t.idMap.get(e)}}]),t}();return t.idMap=new WeakMap,t.count=0,t}();function g(t){for(var e=0,n=5381,r=t.length;e<r;)n=33*n^t.charCodeAt(e++);return n}function w(t){return 2654435761*t|0}function m(t){return 0===t.length?0:t.reduce((function(t,e){return(t<<5)+t^e}))}function b(t){if(null==t)return 0;switch(s(t)){case"boolean":return t?1:0;case"number":return w(t);case"string":return g(t);default:return w(v.id(t))}}function C(t){if(null==t)return 0;switch(s(t)){case"boolean":return t?1:0;case"number":return w(t);case"string":return g(t);default:if(function(t){return null!=t&&"function"==typeof t.GetHashCode}(t))return t.GetHashCode();if(c(t)){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=C(t[r]);return m(n)}return g(String(t))}}function P(t,e,n){if(null==t)return null==e;if(null==e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function S(t,e){return P(t,e,V)}function V(t,e){return t===e||(null==t?null==e:null!=e&&("object"===s(t)&&(function(t){return null!=t&&"function"==typeof t.Equals}(t)?t.Equals(e):c(t)?c(e)&&S(t,e):t instanceof Date&&(e instanceof Date&&0===N(t,e)))))}function N(t,e){var n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+y(t),r=e.getTime()+y(e)),n===r?0:n<r?-1:1}function k(t,e){return t===e?0:t<e?-1:1}function x(t,e,n){if(null==t)return null==e?0:1;if(null==e)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(var r=0,i=0;r<t.length;r++)if(0!==(i=n(t[r],e[r])))return i;return 0}function E(t,e){return x(t,e,D)}function D(t,e){return t===e?0:null==t?null==e?0:-1:null==e?1:"object"!==s(t)?t<e?-1:1:function(t){return null!=t&&"function"==typeof t.CompareTo}(t)?t.CompareTo(e):c(t)&&c(e)?E(t,e):t instanceof Date&&e instanceof Date?N(t,e):1}function H(t,e,n){return t(e,n)>0?e:n}var A=0,L=1,T=2,O=3,M=4;function R(t,e){return t.replace(/[a-z]?[A-Z]/g,(function(t){return 1===t.length?t.toLowerCase():t.charAt(0)+e+t.charAt(1).toLowerCase()}))}function j(t,e){switch(e){case L:return t.charAt(0).toLowerCase()+t.slice(1);case T:return R(t,"_");case O:return R(t,"_").toUpperCase();case M:return R(t,"-");case A:default:return t}}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;function n(t){throw new Error("Cannot infer key and value of "+String(t))}var r,i={},u=e,a=o(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=A;if(null==s&&n(s),"function"==typeof s.toJSON&&(s=s.toJSON(),l=u),Array.isArray(s))switch(s.length){case 0:n(s);break;case 1:i[j(s[0],l)]=!0;break;case 2:var c=s[1];i[j(s[0],l)]=c;break;default:i[j(s[0],l)]=s.slice(1)}else"string"==typeof s?i[j(s,l)]=!0:n(s)}}catch(t){a.e(t)}finally{a.f()}return i}function F(t,e){if(null!=e){if(e.length>1)return e;var n;switch(t){case 2:n=function(t,n){return e(t)(n)};break;case 3:n=function(t,n,r){return e(t)(n)(r)};break;case 4:n=function(t,n,r,i){return e(t)(n)(r)(i)};break;case 5:n=function(t,n,r,i,o){return e(t)(n)(r)(i)(o)};break;case 6:n=function(t,n,r,i,o,u){return e(t)(n)(r)(i)(o)(u)};break;case 7:n=function(t,n,r,i,o,u,a){return e(t)(n)(r)(i)(o)(u)(a)};break;case 8:n=function(t,n,r,i,o,u,a,s){return e(t)(n)(r)(i)(o)(u)(a)(s)};break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+t)}return n.__CURRIED__=e,n}}function I(t,e){if(null!=e){if("__CURRIED__"in e)return e.__CURRIED__;switch(t){case 2:return function(t){return function(n){return e(t,n)}};case 3:return function(t){return function(n){return function(r){return e(t,n,r)}}};case 4:return function(t){return function(n){return function(r){return function(i){return e(t,n,r,i)}}}};case 5:return function(t){return function(n){return function(r){return function(i){return function(o){return e(t,n,r,i,o)}}}}};case 6:return function(t){return function(n){return function(r){return function(i){return function(o){return function(u){return e(t,n,r,i,o,u)}}}}}};case 7:return function(t){return function(n){return function(r){return function(i){return function(o){return function(u){return function(a){return e(t,n,r,i,o,u,a)}}}}}}};case 8:return function(t){return function(n){return function(r){return function(i){return function(o){return function(u){return function(a){return function(s){return e(t,n,r,i,o,u,a,s)}}}}}}}};default:throw new Error("Currying to more than 8-arity is not supported: "+t)}}}function G(t,e,n){if(null!=e){if("__CURRIED__"in e){e=e.__CURRIED__;for(var r=0;r<n.length;r++)e=e(n[r]);return e}switch(t){case 1:return function(t){return e.apply(void 0,n.concat([t]))};case 2:return function(t){return function(r){return e.apply(void 0,n.concat([t,r]))}};case 3:return function(t){return function(r){return function(i){return e.apply(void 0,n.concat([t,r,i]))}}};case 4:return function(t){return function(r){return function(i){return function(o){return e.apply(void 0,n.concat([t,r,i,o]))}}}};case 5:return function(t){return function(r){return function(i){return function(o){return function(u){return e.apply(void 0,n.concat([t,r,i,o,u]))}}}}};case 6:return function(t){return function(r){return function(i){return function(o){return function(u){return function(a){return e.apply(void 0,n.concat([t,r,i,o,u,a]))}}}}}};case 7:return function(t){return function(r){return function(i){return function(o){return function(u){return function(a){return function(s){return e.apply(void 0,n.concat([t,r,i,o,u,a,s]))}}}}}}};case 8:return function(t){return function(r){return function(i){return function(o){return function(u){return function(a){return function(s){return function(l){return e.apply(void 0,n.concat([t,r,i,o,u,a,s,l]))}}}}}}}};default:throw new Error("Partially applying to more than 8-arity is not supported: "+t)}}}function q(t,e,n){if(t.has(e))throw new Error("An item with the same key has already been added. Key: "+e);t.set(e,n)}function _(t,e){if(t.has(e))return t.get(e);throw new Error("The given key '".concat(e,"' was not present in the dictionary."))}function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B(t);if(e){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J(this,n)}}function J(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e,n){return e&&Y(t.prototype,e),n&&Y(t,n),t}function et(t,e){return null!=e&&Object.getPrototypeOf(t).constructor===Object.getPrototypeOf(e).constructor}function nt(t,e){return function(t,e){t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}(t,e||rt),t}var rt=function(){function t(){Q(this,t)}return tt(t,[{key:"toString",value:function(){return"{"+Object.entries(this).map((function(t){var e=$(t,2),n=e[0],r=e[1];return n+" = "+String(r)})).join(";\n ")+"}"}},{key:"GetHashCode",value:function(t){return b(null!=t?t:this)}},{key:"Equals",value:function(t,e){return t===(null!=e?e:this)}}]),t}();function it(t,e){if(t===e)return 0;if(null==e)return-1;for(;null!=t.tail;){if(null==e.tail)return 1;var n=D(t.head,e.head);if(0!==n)return n;t=t.tail,e=e.tail}return null==e.tail?0:-1}var ot=function(){function t(e,n){Q(this,t),this.head=e,this.tail=n}return tt(t,[{key:"toString",value:function(){return"["+Array.from(this).join("; ")+"]"}},{key:"toJSON",value:function(){return Array.from(this)}},{key:Symbol.iterator,value:function(){var t=this;return{next:function(){var e=null==t?void 0:t.head,n=null==(null==t?void 0:t.tail);return t=null==t?void 0:t.tail,{done:n,value:e}}}}},{key:"GetHashCode",value:function(){return m(Array.from(this).map(C))}},{key:"Equals",value:function(t){return 0===it(this,t)}},{key:"CompareTo",value:function(t){return it(this,t)}}]),t}(),ut=function(t){Z(n,t);var e=z(n);function n(t,r){var i;Q(this,n),(i=e.call(this)).tag=0|t,i.name=r;for(var o=arguments.length,u=new Array(o>2?o-2:0),a=2;a<o;a++)u[a-2]=arguments[a];return i.fields=u,i}return tt(n,[{key:"toString",value:function(){var t=this.fields.length;return 0===t?this.name:1===t?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map((function(t){return String(t)})).join(",")+")"}},{key:"toJSON",value:function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}},{key:"GetHashCode",value:function(){var t=this.fields.map((function(t){return C(t)}));return t.splice(0,0,w(this.tag)),m(t)}},{key:"Equals",value:function(t){return this===t||et(this,t)&&this.tag===t.tag&&S(this.fields,t.fields)}},{key:"CompareTo",value:function(t){return this===t?0:et(this,t)?this.tag===t.tag?E(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}]),n}(rt);function at(t,e){for(var n={},r=null==e?Object.keys(t):e(t),i=0;i<r.length;i++)n[r[i]]=t[r[i]];return n}function st(t,e,n){if(t===e)return!0;if(et(t,e)){for(var r=null==n?Object.keys(t):n(t),i=0;i<r.length;i++)if(!V(t[r[i]],e[r[i]]))return!1;return!0}return!1}function lt(t,e,n){if(t===e)return 0;if(et(t,e)){for(var r=null==n?Object.keys(t):n(t),i=0;i<r.length;i++){var o=D(t[r[i]],e[r[i]]);if(0!==o)return o}return 0}return-1}var ct=function(t){Z(n,t);var e=z(n);function n(){return Q(this,n),e.apply(this,arguments)}return tt(n,[{key:"toString",value:function(){return"{"+Object.entries(this).map((function(t){var e=$(t,2),n=e[0],r=e[1];return n+" = "+String(r)})).join(";\n ")+"}"}},{key:"toJSON",value:function(){return at(this)}},{key:"GetHashCode",value:function(){return m(Object.values(this).map((function(t){return C(t)})))}},{key:"Equals",value:function(t){return st(this,t)}},{key:"CompareTo",value:function(t){return lt(this,t)}}]),n}(rt);function ft(t){return Object.assign(Object.create(ct.prototype),t)}var ht=function(t){Z(n,t);var e=z(n);function n(t){var r;return Q(this,n),(r=e.call(this)).contents=t,r}return n}(ct),pt=nt((function(t){this.stack=Error().stack,this.message=t}),rt);function dt(t){return Object.keys(t).filter((function(t){return"message"!==t&&"stack"!==t}))}var yt=function(t){Z(n,t);var e=z(n);function n(){return Q(this,n),e.apply(this,arguments)}return tt(n,[{key:"toString",value:function(){var t,e=Object.entries(this).filter((function(t){var e=$(t,2),n=e[0];e[1];return"message"!==n&&"stack"!==n})),n=e.length;return 0===n?null!==(t=this.message)&&void 0!==t?t:"":1===n?this.message+" "+String(e[1]):this.message+" ("+e.map((function(t){var e=$(t,2),n=(e[0],e[1]);return String(n)})).join(",")+")"}},{key:"toJSON",value:function(){return at(this,dt)}},{key:"GetHashCode",value:function(){return m(Object.entries(this).filter((function(t){var e=$(t,2),n=e[0];e[1];return"message"!==n&&"stack"!==n})).map((function(t){var e=$(t,2);e[0];return C(e[1])})))}},{key:"Equals",value:function(t){return st(this,t,dt)}},{key:"CompareTo",value:function(t){return lt(this,t,dt)}}]),n}(pt);nt((function(){}),rt),n(209),n(134),n(253),n(254);function vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||gt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){if(t){if("string"==typeof t)return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(t,e):void 0}}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ct=function t(e,n,r,i){bt(this,t),this.declaringType=e,this.tag=n,this.name=r,this.fields=i},Pt=function(){function t(e,n,r,i,o,u){bt(this,t),this.fullname=e,this.generics=n,this.construct=r,this.fields=i,this.cases=o,this.enumCases=u}var e,n,r;return e=t,(n=[{key:"toString",value:function(){return function t(e){var n=null==e.generics||At(e)?[]:e.generics;return n.length>0?e.fullname+"["+n.map((function(e){return t(e)})).join(",")+"]":e.fullname}(this)}},{key:"Equals",value:function(t){return Vt(this,t)}},{key:"CompareTo",value:function(t){return Nt(this,t)}}])&&mt(e.prototype,n),r&&mt(e,r),t}();function St(t){return null!=t.generics?t.generics:[]}function Vt(t,e){return""===t.fullname?""===e.fullname&&P(Lt(t),Lt(e),(function(t,e){var n=vt(t,2),r=n[0],i=n[1],o=vt(e,2),u=o[0],a=o[1];return r===u&&Vt(i,a)})):t.fullname===e.fullname&&P(St(t),St(e),Vt)}function Nt(t,e){return t.fullname!==e.fullname?t.fullname<e.fullname?-1:1:x(St(t),St(e),Nt)}function kt(t,e,n,r){return new Pt(t,e,n,r)}function xt(t,e,n,r){var i=new Pt(t,e,n,void 0,(function(){return r().map((function(t,e){return"string"==typeof t?new Ct(i,e,t):new Ct(i,e,t[0],t[1])}))}));return i}function Et(t){return new Pt("Microsoft.FSharp.Core.FSharpOption`1",[t])}var Dt=new Pt("System.Object"),Ht=(new Pt("Microsoft.FSharp.Core.Unit"),new Pt("System.Char"),new Pt("System.String"),new Pt("System.Boolean"));new Pt("System.SByte"),new Pt("System.Byte"),new Pt("System.Int16"),new Pt("System.UInt16"),new Pt("System.Int32"),new Pt("System.UInt32"),new Pt("System.Single"),new Pt("System.Double"),new Pt("System.Decimal");function At(t){return t.fullname.endsWith("[]")}function Lt(t){if(null!=t.fields)return t.fields();throw new Error("".concat(t.fullname," is not an F# record type"))}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mt=function(){function t(e){Tt(this,t),this.value=e}var e,n,r;return e=t,(n=[{key:"toString",value:function(){return String(this.value)}},{key:"toJSON",value:function(){return this.value}},{key:"GetHashCode",value:function(){return C(this.value)}},{key:"Equals",value:function(e){return null!=e&&V(this.value,e instanceof t?e.value:e)}},{key:"CompareTo",value:function(e){return null==e?1:D(this.value,e instanceof t?e.value:e)}}])&&Ot(e.prototype,n),r&&Ot(e,r),t}();function Rt(t){return null==t||t instanceof Mt?new Mt(t):t}function jt(t){if(null==t)throw new Error("Option has no value");return t instanceof Mt?t.value:t}function Kt(t){return null==t?[]:[jt(t)]}function Ft(t,e){return null!=t?jt(t):e}n(214),n(136),n(255),n(48),n(174),n(215),n(176),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(260),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(137),n(219),n(261);var It={GetHashCode:function(){return m([this.s,this.e].concat(this.c))},Equals:function(t){return!this.cmp(t)},CompareTo:function(t){return this.cmp(t)}},Gt="[big.js] ",qt=Gt+"Invalid ",_t=qt+"decimal places",Ut=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Zt(t,e){var n,r,i;if(0===e&&1/e<0)e="-0";else if(!Ut.test(e+=""))throw Error(qt+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<n&&r<i&&"0"==e.charAt(r);)++r;if(r==i)t.c=[t.e=0];else for(t.e=n-r-1,t.c=[],n=0;r<i;)t.c[n++]=+e.charAt(r++);return t=Wt(t,Jt.DP,Jt.RM)}function Wt(t,e,n,r){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||void 0!==i[o+1]||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error("[big.js] Invalid rounding mode");if(o<1)i.length=1,r?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error("[big.js] Invalid rounding mode");return t}function zt(t,e,n,r){var i,o,u=t.constructor,a=!t.c[0];if(void 0!==n){if(n!==~~n||n<(3==e)||n>1e6)throw Error(3==e?qt+"precision":_t);for(n=r-(t=new u(t)).e,t.c.length>++r&&Wt(t,n,u.RM),2==e&&(r=t.e+n+1);t.c.length<r;)t.c.push(0)}if(i=t.e,n=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&r<=i||i<=u.NE||i>=u.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!a||4==e)?"-"+o:o}It.abs=function(){var t=new this.constructor(this);return t.s=1,t},It.cmp=function(t){var e,n=this.constructor,r=new n(this),i=(t=new n(t),r.c),o=t.c,u=r.s,a=t.s,s=r.e,l=t.e;if(!i[0]||!o[0])return i[0]?u:o[0]?-a:0;if(u!=a)return u;if(e=u<0,s!=l)return s>l^e?1:-1;for(a=Math.max(i.length,o.length),u=0;u<a;u++)if((s=u<i.length?i[u]:0)!=(l=u<o.length?o[u]:0))return s>l^e?1:-1;return 0},It.div=function(t){var e=this.constructor,n=new e(this),r=(t=new e(t),n.c),i=t.c,o=n.s==t.s?1:-1,u=e.DP;if(u!==~~u||u<0||u>1e6)throw Error(_t);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new e(0*o);var a,s,l,c,f,h=i.slice(),p=a=i.length,d=r.length,y=r.slice(0,a),v=y.length,g=t,w=g.c=[],m=0,b=u+(g.e=n.e-t.e)+1;for(g.s=o,o=b<0?0:b,h.unshift(0);v++<a;)y.push(0);do{for(l=0;l<10;l++){if(a!=(v=y.length))c=a>v?1:-1;else for(f=-1,c=0;++f<a;)if(i[f]!=y[f]){c=i[f]>y[f]?1:-1;break}if(!(c<0))break;for(s=v==a?i:h;v;){if(y[--v]<s[v]){for(f=v;f&&!y[--f];)y[f]=9;--y[f],y[v]+=10}y[v]-=s[v]}for(;!y[0];)y.shift()}w[m++]=c?l:++l,y[0]&&c?y[v]=r[p]||0:y=[r[p]]}while((p++<d||void 0!==y[0])&&o--);return w[0]||1==m||(w.shift(),g.e--),m>b&&Wt(g,u,e.RM,void 0!==y[0]),g},It.eq=function(t){return!this.cmp(t)},It.gt=function(t){return this.cmp(t)>0},It.gte=function(t){return this.cmp(t)>-1},It.lt=function(t){return this.cmp(t)<0},It.lte=function(t){return this.cmp(t)<1},It.minus=It.sub=function(t){var e,n,r,i,o=this.constructor,u=new o(this),a=(t=new o(t),u.s),s=t.s;if(a!=s)return t.s=-s,u.plus(t);var l=u.c.slice(),c=u.e,f=t.c,h=t.e;if(!l[0]||!f[0])return f[0]?(t.s=-s,t):new o(l[0]?u:0);if(a=c-h){for((i=a<0)?(a=-a,r=l):(h=c,r=f),r.reverse(),s=a;s--;)r.push(0);r.reverse()}else for(n=((i=l.length<f.length)?l:f).length,a=s=0;s<n;s++)if(l[s]!=f[s]){i=l[s]<f[s];break}if(i&&(r=l,l=f,f=r,t.s=-t.s),(s=(n=f.length)-(e=l.length))>0)for(;s--;)l[e++]=0;for(s=e;n>a;){if(l[--n]<f[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=f[n]}for(;0===l[--s];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t},It.mod=function(t){var e,n=this.constructor,r=new n(this),i=(t=new n(t),r.s),o=t.s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},It.plus=It.add=function(t){var e,n=this.constructor,r=new n(this),i=(t=new n(t),r.s),o=t.s;if(i!=o)return t.s=-o,r.minus(t);var u=r.e,a=r.c,s=t.e,l=t.c;if(!a[0]||!l[0])return l[0]?t:new n(a[0]?r:0*i);if(a=a.slice(),i=u-s){for(i>0?(s=u,e=l):(i=-i,e=a),e.reverse();i--;)e.push(0);e.reverse()}for(a.length-l.length<0&&(e=l,l=a,a=e),i=l.length,o=0;i;a[i]%=10)o=(a[--i]=a[i]+l[i]+o)/10|0;for(o&&(a.unshift(o),++s),i=a.length;0===a[--i];)a.pop();return t.c=a,t.e=s,t},It.pow=function(t){var e=this.constructor,n=new e(this),r=new e(1),i=new e(1),o=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(qt+"exponent");for(o&&(t=-t);1&t&&(r=r.times(n)),t>>=1;)n=n.times(n);return o?i.div(r):r},It.round=function(t,e){var n=this.constructor;if(void 0===t)t=0;else if(t!==~~t||t<-1e6||t>1e6)throw Error(_t);return Wt(new n(this),t,void 0===e?n.RM:e)},It.sqrt=function(){var t,e,n,r=this.constructor,i=new r(this),o=i.s,u=i.e,a=new r(.5);if(!i.c[0])return new r(i);if(o<0)throw Error(Gt+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((e=i.c.join("")).length+u&1||(e+="0"),u=((u+1)/2|0)-(u<0||1&u),t=new r(((o=Math.sqrt(e))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+u)):t=new r(o),u=t.e+(r.DP+=4);do{n=t,t=a.times(n.plus(i.div(n)))}while(n.c.slice(0,u).join("")!==t.c.slice(0,u).join(""));return Wt(t,r.DP-=4,r.RM)},It.times=It.mul=function(t){var e,n=this.constructor,r=new n(this),i=(t=new n(t),r.c),o=t.c,u=i.length,a=o.length,s=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=s+l,u<a&&(e=i,i=o,o=e,l=u,u=a,a=l),e=new Array(l=u+a);l--;)e[l]=0;for(s=a;s--;){for(a=0,l=u+s;l>s;)a=e[l]+o[s]*i[l-s-1]+a,e[l--]=a%10,a=a/10|0;e[l]=(e[l]+a)%10}for(a?++t.e:e.shift(),s=e.length;!e[--s];)e.pop();return t.c=e,t},It.toExponential=function(t){return zt(this,1,t,t)},It.toFixed=function(t){return zt(this,2,t,this.e+t)},It.toPrecision=function(t){return zt(this,3,t,t-1)},It.toString=function(){return zt(this)},It.valueOf=It.toJSON=function(){return zt(this,4)};var Jt=function t(){function e(n){var r=this;if(!(r instanceof e))return void 0===n?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(t){if((t=Wt(t,28,0)).c.length>1&&!t.c[0]){var e=t.c.findIndex((function(t){return t}));t.c=t.c.slice(e),t.e=t.e-e}}(r)):Zt(r,n),r.constructor=e}return e.prototype=It,e.DP=28,e.RM=1,e.NE=-29,e.PE=29,e.version="5.2.2",e}(),Bt=Jt;var $t=Bt;new Bt(0),new Bt(1),new Bt(-1),new Bt("79228162514264337593543950335"),new Bt("-79228162514264337593543950335");var Xt;n(263),n(178),n(221),n(265);function Qt(t){return-2147483648===t?t:-t}!function(t){t[t.AllowHexSpecifier=512]="AllowHexSpecifier"}(Xt||(Xt={}));var Yt=null;try{Yt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function te(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function ee(t){return!0===(t&&t.__isLong__)}te.prototype.GetHashCode=function(){var t=this.unsigned?1:0;return t=((t=(t<<5)+t^this.high)<<5)+t^this.low},te.prototype.Equals=function(t){return Ee(this,t)},te.prototype.CompareTo=function(t){return Le(this,t)},te.prototype.toString=function(t){return Ve(this,t)},te.prototype.toJSON=function(){return Ve(this)},te.prototype.__isLong__,Object.defineProperty(te.prototype,"__isLong__",{value:!0});var ne={},re={};function ie(t,e){var n,r,i;return e?(i=0<=(t>>>=0)&&t<256)&&(r=re[t])?r:(n=ue(t,(0|t)<0?-1:0,!0),i&&(re[t]=n),n):(i=-128<=(t|=0)&&t<128)&&(r=ne[t])?r:(n=ue(t,t<0?-1:0,!1),i&&(ne[t]=n),n)}function oe(t,e){if(isNaN(t))return e?ye:de;if(e){if(t<0)return ye;if(t>=fe)return be}else{if(t<=-he)return Ce;if(t+1>=he)return me}return t<0?Te(oe(-t,e)):ue(t%ce|0,t/ce|0,e)}function ue(t,e,n){return new te(t,e,n)}var ae=Math.pow;function se(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return de;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r=t.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return Te(se(t.substring(1),e,n));for(var i=oe(ae(n,8)),o=de,u=0;u<t.length;u+=8){var a=Math.min(8,t.length-u),s=parseInt(t.substring(u,u+a),n);if(a<8)o=Oe(Re(o,oe(ae(n,a))),oe(s));else o=Oe(o=Re(o,i),oe(s))}return o.unsigned=e,o}function le(t,e){return"number"==typeof t?oe(t,e):"string"==typeof t?se(t,e):ue(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}var ce=4294967296,fe=ce*ce,he=fe/2,pe=ie(1<<24),de=ie(0),ye=ie(0,!0),ve=ie(1),ge=ie(1,!0),we=ie(-1),me=ue(-1,2147483647,!1),be=ue(-1,-1,!0),Ce=ue(0,-2147483648,!1);function Pe(t){return t.unsigned?t.low>>>0:t.low}function Se(t){return t.unsigned?(t.high>>>0)*ce+(t.low>>>0):t.high*ce+(t.low>>>0)}function Ve(t,e){if((e=e||10)<2||36<e)throw RangeError("radix");if(Ne(t))return"0";if(ke(t)){if(Ee(t,Ce)){var n=oe(e),r=je(t,n),i=Me(Re(r,n),t);return Ve(r,e)+Pe(i).toString(e)}return"-"+Ve(Te(t),e)}for(var o=oe(ae(e,6),t.unsigned),u=t,a="";;){var s=je(u,o),l=(Pe(Me(u,Re(s,o)))>>>0).toString(e);if(Ne(u=s))return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}}function Ne(t){return 0===t.high&&0===t.low}function ke(t){return!t.unsigned&&t.high<0}function xe(t){return 1==(1&t.low)}function Ee(t,e){return ee(e)||(e=le(e)),(t.unsigned===e.unsigned||t.high>>>31!=1||e.high>>>31!=1)&&(t.high===e.high&&t.low===e.low)}function De(t,e){return Le(t,e)<0}function He(t,e){return Le(t,e)>0}function Ae(t,e){return Le(t,e)>=0}function Le(t,e){if(ee(e)||(e=le(e)),Ee(t,e))return 0;var n=ke(t),r=ke(e);return n&&!r?-1:!n&&r?1:t.unsigned?e.high>>>0>t.high>>>0||e.high===t.high&&e.low>>>0>t.low>>>0?-1:1:ke(Me(t,e))?-1:1}function Te(t){return!t.unsigned&&Ee(t,Ce)?Ce:Oe(Ke(t),ve)}function Oe(t,e){ee(e)||(e=le(e));var n=t.high>>>16,r=65535&t.high,i=t.low>>>16,o=65535&t.low,u=e.high>>>16,a=65535&e.high,s=e.low>>>16,l=0,c=0,f=0,h=0;return f+=(h+=o+(65535&e.low))>>>16,c+=(f+=i+s)>>>16,l+=(c+=r+a)>>>16,l+=n+u,ue((f&=65535)<<16|(h&=65535),(l&=65535)<<16|(c&=65535),t.unsigned)}function Me(t,e){return ee(e)||(e=le(e)),Oe(t,Te(e))}function Re(t,e){if(Ne(t))return t.unsigned?ye:de;if(ee(e)||(e=le(e)),Yt)return ue(Yt.mul(t.low,t.high,e.low,e.high),Yt.get_high(),t.unsigned);if(Ne(e))return t.unsigned?ye:de;if(Ee(t,Ce))return xe(e)?Ce:de;if(Ee(e,Ce))return xe(t)?Ce:de;if(ke(t))return ke(e)?Re(Te(t),Te(e)):Te(Re(Te(t),e));if(ke(e))return Te(Re(t,Te(e)));if(De(t,pe)&&De(e,pe))return oe(Se(t)*Se(e),t.unsigned);var n=t.high>>>16,r=65535&t.high,i=t.low>>>16,o=65535&t.low,u=e.high>>>16,a=65535&e.high,s=e.low>>>16,l=65535&e.low,c=0,f=0,h=0,p=0;return h+=(p+=o*l)>>>16,f+=(h+=i*l)>>>16,h&=65535,f+=(h+=o*s)>>>16,c+=(f+=r*l)>>>16,f&=65535,c+=(f+=i*s)>>>16,f&=65535,c+=(f+=o*a)>>>16,c+=n*l+r*s+i*a+o*u,ue((h&=65535)<<16|(p&=65535),(c&=65535)<<16|(f&=65535),t.unsigned)}function je(t,e){if(ee(e)||(e=le(e)),Ne(e))throw Error("division by zero");var n,r,i;if(Yt)return t.unsigned||-2147483648!==t.high||-1!==e.low||-1!==e.high?ue((t.unsigned?Yt.div_u:Yt.div_s)(t.low,t.high,e.low,e.high),Yt.get_high(),t.unsigned):t;if(Ne(t))return t.unsigned?ye:de;if(t.unsigned){if(e.unsigned||(e=function(t){return t.unsigned?t:ue(t.low,t.high,!0)}(e)),He(e,t))return ye;if(He(e,Ge(t,1)))return ge;i=ye}else{if(Ee(t,Ce))return Ee(e,ve)||Ee(e,we)?Ce:Ee(e,Ce)?ve:Ee(n=Fe(je(Ie(t,1),e),1),de)?ke(e)?ve:we:i=Oe(n,je(r=Me(t,Re(e,n)),e));if(Ee(e,Ce))return t.unsigned?ye:de;if(ke(t))return ke(e)?je(Te(t),Te(e)):Te(je(Te(t),e));if(ke(e))return Te(je(t,Te(e)));i=de}for(r=t;Ae(r,e);){n=Math.max(1,Math.floor(Se(r)/Se(e)));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:ae(2,o-48),a=oe(n),s=Re(a,e);ke(s)||He(s,r);)s=Re(a=oe(n-=u,t.unsigned),e);Ne(a)&&(a=ve),i=Oe(i,a),r=Me(r,s)}return i}function Ke(t){return ue(~t.low,~t.high,t.unsigned)}function Fe(t,e){return ee(e)&&(e=Pe(e)),0==(e&=63)?t:e<32?ue(t.low<<e,t.high<<e|t.low>>>32-e,t.unsigned):ue(0,t.low<<e-32,t.unsigned)}function Ie(t,e){return ee(e)&&(e=Pe(e)),0==(e&=63)?t:e<32?ue(t.low>>>e|t.high<<32-e,t.high>>e,t.unsigned):ue(t.high>>e-32,t.high>=0?0:-1,t.unsigned)}function Ge(t,e){if(ee(e)&&(e=Pe(e)),0===(e&=63))return t;var n=t.high;return e<32?ue(t.low>>>e|n<<32-e,n>>>e,t.unsigned):ue(32===e?n:n>>>e-32,0,t.unsigned)}var qe=te,_e=Me,Ue=Re,Ze=Fe,We=Le,ze=ue,Je=function(t,e,n){return n?function(t,e){return new te(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)}(t,e):function(t,e){return new te(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}(t,e)},Be=function(t,e){return e?function(t){var e=t.high,n=t.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}(t):function(t){var e=t.high,n=t.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,n>>>24,n>>>16&255,n>>>8&255,255&n]}(t)},$e=Se,Xe=Ve;function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.iter=e}var e,n,r;return e=t,(n=[{key:"MoveNext",value:function(){var t=this.iter.next();return this.current=t.value,!t.done}},{key:"Reset",value:function(){throw new Error("JS iterators cannot be reset")}},{key:"Dispose",value:function(){}},{key:"Current",get:function(){return this.current}}])&&Ye(e.prototype,n),r&&Ye(e,r),t}();function en(t){return new tn(t[Symbol.iterator]())}function nn(t){return{next:function(){return t.MoveNext()?{done:!1,value:t.Current}:{done:!0,value:void 0}}}}function rn(t){var e,n=(Qe(e={},Symbol.iterator,t),Qe(e,"toString",(function(){return"seq ["+Array.from(n).join("; ")+"]"})),e);return n}function on(t,e){return sn((function(){var n=!1,r=[t[Symbol.iterator](),void 0];return Vn((function(){var t,i,o;if(!n){if(null!=(o=null===(t=r[0])||void 0===t?void 0:t.next())&&!o.done)return[o.value,r];n=!0,r=[void 0,e[Symbol.iterator]()]}return null==(o=null===(i=r[1])||void 0===i?void 0:i.next())||o.done?void 0:[o.value,r]}),r)}))}function un(t){return sn((function(){var e,n=t[Symbol.iterator]();return Vn((function(t){for(var r=!1;!r;)if(null==t){var i=n.next();i.done?r=!0:t=i.value[Symbol.iterator]()}else{var o=t.next();o.done?t=void 0:(e=o.value,r=!0)}return null!=t?[e,t]:void 0}),void 0)}))}function an(t,e){return un(yn(t,e))}function sn(t){return rn((function(){return t()[Symbol.iterator]()}))}function ln(t){return[t]}function cn(t,e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(t,e);for(var r,i=0,o=n[Symbol.iterator]();!(r=o.next()).done;i++)e=t(e,r.value,i);return e}function fn(t,e,n,r){for(var i,o,u=n[Symbol.iterator](),a=r[Symbol.iterator](),s=0;i=u.next(),o=a.next(),!i.done&&!o.done;s++)e=t(e,i.value,o.value,s);return e}function hn(t,e){cn((function(e,n){t(n)}),void 0,e)}function pn(t,e){cn((function(e,n,r){t(null!=r?r:0,n)}),void 0,e)}function dn(t){return Array.isArray(t)||ArrayBuffer.isView(t)?t.length:cn((function(t,e){return t+1}),0,t)}function yn(t,e){return sn((function(){return Vn((function(e){var n=e.next();return n.done?void 0:[t(n.value),e]}),e[Symbol.iterator]())}))}function vn(t,e){return sn((function(){var n=0;return Vn((function(e){var r=e.next();return r.done?void 0:[t(n++,r.value),e]}),e[Symbol.iterator]())}))}function gn(t,e,n){return sn((function(){var r=e[Symbol.iterator](),i=n[Symbol.iterator]();return Vn((function(){var e=r.next(),n=i.next();return e.done||n.done?void 0:[t(e.value,n.value),void 0]}),void 0)}))}function wn(t,e,n){if(0===e)throw new Error("Step cannot be 0");return sn((function(){return Vn((function(t){return e>0&&t<=n||e<0&&t>=n?[t,t+e]:void 0}),t)}))}function mn(t,e){return rn((function(){for(var n=e[Symbol.iterator](),r=1;r<=t;r++)if(n.next().done)throw new Error("Seq has not enough elements");return n}))}function bn(t,e,n){return cn((function(e,r){return n.Add(e,t(r))}),n.GetZero(),e)}function Cn(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return sn((function(){var r=e[Symbol.iterator]();return Vn((function(e){if(e<t){var i=r.next();if(!i.done)return[i.value,e+1];if(!n)throw new Error("Seq has not enough elements")}}),0)}))}function Pn(t,e){return Cn(t,e,!0)}function Sn(t,e,n){for(var r=0,i=e[Symbol.iterator]();;r++){var o=i.next();if(o.done)break;if(t(o.value,r))return Rt(o.value)}return void 0===n?void 0:Rt(n)}function Vn(t,e){return rn((function(){var n=e;return{next:function(){var e=t(n);if(null!=e){var r=jt(e);if(null!=r)return n=r[1],{done:!1,value:r[0]}}return{done:!0,value:void 0}}}}))}n(266),n(267),n(268),n(222),n(223),n(179),n(269),n(270),n(271),n(272),n(274);function Nn(t){var e=t<0,n=(t=Math.abs(t))%36e5/6e4;return(e?"-":"+")+d(~~(t/36e5),2)+":"+d(n,2)}function kn(t,e){var n=t.toISOString();return"first"===e?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function xn(t,e,n){return e.replace(/(\w)\1*/g,(function(e){var r=Number.NaN;switch(e.substring(0,1)){case"y":var i=n?t.getUTCFullYear():t.getFullYear();r=e.length<4?i%100:i;break;case"M":r=(n?t.getUTCMonth():t.getMonth())+1;break;case"d":r=n?t.getUTCDate():t.getDate();break;case"H":r=n?t.getUTCHours():t.getHours();break;case"h":var o=n?t.getUTCHours():t.getHours();r=o>12?o%12:o;break;case"m":r=n?t.getUTCMinutes():t.getMinutes();break;case"s":r=n?t.getUTCSeconds():t.getSeconds();break;case"f":r=n?t.getUTCMilliseconds():t.getMilliseconds()}return Number.isNaN(r)?e:r<10&&e.length>1?"0"+r:""+r}))}function En(t,e){var n,r,i,o,u,a,s=new Date(t.getTime()+(null!==(n=t.offset)&&void 0!==n?n:0));if("string"!=typeof e)return s.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Nn(null!==(r=t.offset)&&void 0!==r?r:0);if(1!==e.length)return xn(s,e,!0);switch(e){case"D":case"d":return kn(s,"first");case"T":case"t":return kn(s,"second");case"O":case"o":return o=s,u=null!==(i=t.offset)&&void 0!==i?i:0,(a=o.toISOString()).substring(0,a.length-1)+Nn(u);default:throw new Error("Unrecognized Date print format")}}function Dn(t,e){var n=1===t.kind;if("string"!=typeof e)return n?t.toUTCString():t.toLocaleString();if(1!==e.length)return xn(t,e,n);switch(e){case"D":case"d":return n?kn(t,"first"):t.toLocaleDateString();case"T":case"t":return n?kn(t,"second"):t.toLocaleTimeString();case"O":case"o":return function(t,e){if(e)return t.toISOString();var n=null==t.kind||2===t.kind;return d(t.getFullYear(),4)+"-"+d(t.getMonth()+1,2)+"-"+d(t.getDate(),2)+"T"+d(t.getHours(),2)+":"+d(t.getMinutes(),2)+":"+d(t.getSeconds(),2)+"."+d(t.getMilliseconds(),3)+(n?Nn(-6e4*t.getTimezoneOffset()):"")}(t,n);default:throw new Error("Unrecognized Date print format")}}function Hn(t,e,n){return null!=t.offset?En(t,e):Dn(t,e)}function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ln=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/,Tn=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function On(t){return"number"==typeof t||t instanceof qe||t instanceof $t}function Mn(t,e){return t instanceof qe?We(t,e)<0:t instanceof $t?t.cmp(e)<0:t<e}function Rn(t,e){return t instanceof qe?Ue(t,e):t instanceof $t?t.mul(e):t*e}function jn(t,e){return t instanceof qe?String(t)+(0).toFixed(e).substr(1):t.toFixed(e)}function Kn(t,e){return t instanceof qe?String(t)+(0).toPrecision(e).substr(1):t.toPrecision(e)}function Fn(t,e){return t instanceof qe?String(t)+(0).toExponential(e).substr(1):t.toExponential(e)}function In(t){return t instanceof qe?Xe(t.unsigned?t:Je(Be(t),!0),16):(Number(t)>>>0).toString(16)}function Gn(t){return{input:t,cont:(e=t,function(t){return Ln.test(e)?function t(e,n){return function(){for(var r=e,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];for(var a=0,s=o;a<s.length;a++){var l=s[a];r=_n(r,l)}return Ln.test(r)?t(r,n):n(r.replace(/%%/g,"%"))}}(e,t):t(e)})};var e}function qn(t){return t.cont((function(t){return t}))}function _n(t,e){return t.replace(Ln,(function(t,n,r,i,o,u){var a="";if(On(e))switch("x"!==u.toLowerCase()&&(Mn(e,0)?(e=Rn(e,-1),a="-"):r.indexOf(" ")>=0?a=" ":r.indexOf("+")>=0&&(a="+")),o=null==o?null:parseInt(o,10),u){case"f":case"F":e=jn(e,o=null!=o?o:6);break;case"g":case"G":e=null!=o?Kn(e,o):Kn(e);break;case"e":case"E":e=null!=o?Fn(e,o):Fn(e);break;case"x":e=In(e);break;case"X":e=In(e).toUpperCase();break;default:e=String(e)}if(i=parseInt(i,10),isNaN(i))e=a+e;else{var s=r.indexOf("0")>=0,l=r.indexOf("-")>=0,c=l||!s?" ":"0";e="0"===c?a+(e=Wn(e,i-a.length,c,l)):Wn(a+e,i,c,l)}return(n+e).replace(/%/g,"%%")}))}function Un(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return"object"===An(t)&&n.length>0&&(t=n[0],n.shift()),t.replace(Tn,(function(t,e,r,i,o,u){var a=n[e];if(On(a))switch(o=null==o?null:parseInt(o,10),i){case"f":case"F":a=jn(a,o=null!=o?o:2);break;case"g":case"G":a=null!=o?Kn(a,o):Kn(a);break;case"e":case"E":a=null!=o?Fn(a,o):Fn(a);break;case"p":case"P":o=null!=o?o:2,a=jn(Rn(a,100),o)+" %";break;case"d":case"D":a=null!=o?Wn(String(a),o,"0"):String(a);break;case"x":case"X":a=null!=o?Wn(In(a),o,"0"):In(a),"X"===i&&(a=a.toUpperCase());break;default:if(u){var s="";a=u.replace(/(0+)(\.0+)?/,(function(t,e,n){return Mn(a,0)&&(a=Rn(a,-1),s="-"),Wn(a=jn(a,null!=n?n.length-1:0),(e||"").length-s.length+(null!=n?n.length:0),"0")})),a=s+a}}else a instanceof Date&&(a=Hn(a,u||i));return r=parseInt((r||" ").substring(1),10),isNaN(r)||(a=Wn(String(a),Math.abs(r)," ",r<0)),a}))}function Zn(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function Wn(t,e,n,r){n=n||" ",e-=t.length;for(var i=0;i<e;i++)t=r?t+n:n+t;return t}n(138);var zn=nt((function(t,e){var n=new ht(null);this.comparer=e,n.contents=this,this.hashMap=new Map([]),this["init@20-1"]=1,hn((function(t){Qn(n.contents,t[0],t[1])}),t)}));function Jn(t,e){var n=0|t.comparer.GetHashCode(e),r=h(t.hashMap,n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return t.comparer.Equals(e,n[0])}))]:[!1,n,-1]}function Bn(t,e){var n=Jn(t,e);switch(n[0]&&n[2]>-1?0:1){case 0:return _(t.hashMap,n[1])[n[2]];case 1:return}}function $n(t){t.hashMap.clear()}function Xn(t){return 0|bn((function(t){return t.length}),t.hashMap.values(),{GetZero:function(){return 0},Add:function(t,e){return t+e}})}function Qn(t,e,n){var r=Jn(t,e);switch(r[0]&&r[2]>-1?0:1){case 0:var i=Un("An item with the same key has already been added. Key: {0}",e);throw new Error(i);case 1:if(r[0])_(t.hashMap,r[1]).push([e,n]);else t.hashMap.set(r[1],[[e,n]])}}function Yn(t,e){var n=Jn(t,e);switch(n[0]&&n[2]>-1?0:1){case 0:return _(t.hashMap,n[1]).splice(n[2],1),!0;case 1:return!1}}zn.prototype[Symbol.iterator]=function(){var t=this;return nn(en(sn((function(){return an((function(t){return yn((function(t){return t}),t)}),t.hashMap.values())}))))},zn.prototype.Add=function(t){Qn(this,t[0],t[1])},zn.prototype.Clear=function(){$n(this)},zn.prototype.Contains=function(t){var e=Bn(this,t[0]);switch(null!=e&&V(e[1],t[1])?0:1){case 0:return!0;case 1:return!1}},zn.prototype.CopyTo=function(t,e){pn((function(n,r){t[e+n]=r}),this)},Object.defineProperty(zn.prototype,"Count",{get:function(){return 0|Xn(this)}}),Object.defineProperty(zn.prototype,"IsReadOnly",{get:function(){return!1}}),zn.prototype.Remove=function(t){var e=Bn(this,t[0]);if(null!=e){if(V(e[1],t[1]))Yn(this,t[0]);return!0}return!1},Object.defineProperty(zn.prototype,"size",{get:function(){return 0|Xn(this)}}),zn.prototype.clear=function(){$n(this)},zn.prototype.delete=function(t){return Yn(this,t)},zn.prototype.entries=function(){return yn((function(t){return t}),this)},zn.prototype.get=function(t){return function(t,e){var n=Bn(t,e);if(null!=n)return n[1];throw new Error("The item was not found in collection")}(this,t)},zn.prototype.has=function(t){return function(t,e){var n=Jn(t,e);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,t)},zn.prototype.keys=function(){return yn((function(t){return t[0]}),this)},zn.prototype.set=function(t,e){return function(t,e,n){var r=Jn(t,e);switch(r[0]&&r[2]>-1?0:1){case 0:_(t.hashMap,r[1])[r[2]]=[e,n];break;case 1:if(r[0])_(t.hashMap,r[1]).push([e,n]);else t.hashMap.set(r[1],[[e,n]])}}(this,t,e),this},zn.prototype.values=function(){return yn((function(t){return t[1]}),this)};var tr=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function er(t){return function t(e,n){t:for(;;){var r=e,i=n;switch(i.tag){case 1:return r+1|0;case 2:e=t(r+1,i.fields[2]),n=i.fields[3];continue t;default:return 0|r}break}}(0,t)}var nr=nt((function(t,e){this.stack=t,this.started=e}),ct);function rr(t){for(;;){var e=t;if(null==e.tail)return new ot;if(1===e.head.tag)return e;2!==e.head.tag?t=e.tail:t=new ot(e.head.fields[2],new ot(new tr(1,"MapOne",e.head.fields[0],e.head.fields[1]),new ot(e.head.fields[3],e.tail)))}}function ir(t){return new nr(rr(new ot(t,new ot)),!1)}function or(t){if(t.started){var e=t.stack;if(null==e.tail)return function(){throw new Error("enumeration already finished")}();if(1===e.head.tag)return[e.head.fields[0],e.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}var ur=nt((function(t){this.s=t,this.i=ir(this.s)}));function ar(t){return function(t){return this instanceof ur?ur.call(this,t):new ur(t)}(t)}function sr(t){return Vn((function(t){return t.MoveNext()?[t.Current,t]:void 0}),ar(t))}Object.defineProperty(ur.prototype,"Current",{get:function(){return or(this.i)}}),ur.prototype.MoveNext=function(){return function(t){if(t.started){var e=t.stack;if(null==e.tail)return!1;if(1===e.head.tag)return t.stack=rr(e.tail),!(null==t.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return t.started=!0,!(null==t.stack.tail)}(this.i)},ur.prototype.Reset=function(){this.i=ir(this.s)},ur.prototype.Dispose=function(){};var lr=nt((function(t,e){this.comparer=t,this.tree=e}));function cr(t){return t.tree}function fr(t,e){return function(t,e,n){t:for(;;){var r=t,i=e,o=n;switch(o.tag){case 1:if(0===(0|r.Compare(i,o.fields[0])))return o.fields[1];throw new Error("key not found");case 2:var u=0|r.Compare(i,o.fields[0]);if(u<0){t=r,e=i,n=o.fields[2];continue t}if(0===u)return o.fields[1];t=r,e=i,n=o.fields[3];continue t;default:throw new Error("key not found")}break}}(t.comparer,e,t.tree)}function hr(t){return er(t.tree)}function pr(t,e){return function(t,e,n){t:for(;;){var r=t,i=e,o=n;switch(o.tag){case 1:return 0===r.Compare(i,o.fields[0]);case 2:var u=0|r.Compare(i,o.fields[0]);if(u<0){t=r,e=i,n=o.fields[2];continue t}if(0===u)return!0;t=r,e=i,n=o.fields[3];continue t;default:return!1}break}}(t.comparer,e,t.tree)}function dr(t,e){return function(t,e){return this instanceof zn?zn.call(this,t,e):new zn(t,e)}(t,e)}lr.prototype.toString=function(){return"map ["+Zn("; ",yn((function(t){return Un("({0}, {1})",t[0],t[1])}),this))+"]"},lr.prototype.GetHashCode=function(){for(var t=function(t,e){return(t<<1)+e+631},e=0,n=ar(cr(this));n.MoveNext();){var r=n.Current;e=t(e,C(r[0])),e=t(e,C(r[1]))}return 0|Math.abs(e)},lr.prototype.Equals=function(t){return 0===this.CompareTo(t)},lr.prototype[Symbol.iterator]=function(){return nn(ar(this.tree))},lr.prototype.CompareTo=function(t){var e=0,n=!1,r=ar(cr(this));try{var i=ar(cr(t));try{for(;!n&&0===e;){var o=[r.MoveNext(),i.MoveNext()];if(o[0])if(o[1]){var u=r.Current,a=i.Current,s=0|this.comparer.Compare(u[0],a[0]);e=0!==s?s:D(u[1],a[1])}else e=1;else o[1]?e=-1:n=!0}return 0|e}finally{f(i)&&i.Dispose()}}finally{f(r)&&r.Dispose()}},Object.defineProperty(lr.prototype,"size",{get:function(){return 0|hr(this)}}),lr.prototype.clear=function(){throw new Error("Map cannot be mutated")},lr.prototype.delete=function(t){throw new Error("Map cannot be mutated")},lr.prototype.entries=function(){return sr(cr(this))},lr.prototype.get=function(t){return fr(this,t)},lr.prototype.has=function(t){return pr(this,t)},lr.prototype.keys=function(){return yn((function(t){return t[0]}),sr(cr(this)))},lr.prototype.set=function(t,e){throw new Error("Map cannot be mutated")},lr.prototype.values=function(){return yn((function(t){return t[1]}),sr(cr(this)))};var yr=nt((function(t,e){var n=new ht(null);this.comparer=e,n.contents=this,this.hashMap=new Map([]),this["init@21-2"]=1,hn((function(t){br(n.contents,t)}),t)}));function vr(t,e){return this instanceof yr?yr.call(this,t,e):new yr(t,e)}function gr(t,e){var n=0|t.comparer.GetHashCode(e),r=h(t.hashMap,n,null);return r[0]?[!0,n,r[1].findIndex((function(n){return t.comparer.Equals(e,n)}))]:[!1,n,-1]}function wr(t){t.hashMap.clear()}function mr(t){return 0|bn((function(t){return t.length}),t.hashMap.values(),{GetZero:function(){return 0},Add:function(t,e){return t+e}})}function br(t,e){var n=gr(t,e);switch(n[0]&&n[2]>-1?0:1){case 0:return!1;case 1:if(n[0]){_(t.hashMap,n[1]).push(e);return!0}return t.hashMap.set(n[1],[e]),!0}}function Cr(t,e){var n=gr(t,e);switch(n[0]&&n[2]>-1?0:1){case 0:return!0;case 1:return!1}}function Pr(t,e){var n=gr(t,e);switch(n[0]&&n[2]>-1?0:1){case 0:return _(t.hashMap,n[1]).splice(n[2],1),!0;case 1:return!1}}yr.prototype[Symbol.iterator]=function(){var t=this;return nn(en(sn((function(){return an((function(t){return yn((function(t){return t}),t)}),t.hashMap.values())}))))},yr.prototype.Add=function(t){br(this,t)},yr.prototype.Clear=function(){wr(this)},yr.prototype.Contains=function(t){return Cr(this,t)},yr.prototype.CopyTo=function(t,e){pn((function(n,r){t[e+n]=r}),this)},Object.defineProperty(yr.prototype,"Count",{get:function(){return 0|mr(this)}}),Object.defineProperty(yr.prototype,"IsReadOnly",{get:function(){return!1}}),yr.prototype.Remove=function(t){return Pr(this,t)},Object.defineProperty(yr.prototype,"size",{get:function(){return 0|mr(this)}}),yr.prototype.add=function(t){br(this,t);return this},yr.prototype.add_=function(t){return br(this,t)},yr.prototype.clear=function(){wr(this)},yr.prototype.delete=function(t){return Pr(this,t)},yr.prototype.has=function(t){return Cr(this,t)},yr.prototype.keys=function(){return yn((function(t){return t}),this)},yr.prototype.values=function(){return yn((function(t){return t}),this)},yr.prototype.entries=function(){return yn((function(t){return[t,t]}),this)};var Sr=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function Vr(t){return function t(e,n){t:for(;;){var r=e,i=n;switch(r.tag){case 2:return i+1|0;case 0:return 0|i;default:e=r.fields[1],n=t(r.fields[2],i+1);continue t}break}}(t,0)}function Nr(t){return new Sr(2,"SetOne",t)}function kr(t,e,n,r){return new Sr(1,"SetNode",t,e,n,r)}function xr(t){switch(t.tag){case 2:return 1;case 1:return 0|t.fields[3];default:return 0}}function Er(t,e,n){switch(0===t.tag&&0===n.tag?0:1){case 0:return Nr(e);case 1:var r=0|xr(t),i=0|xr(n);return kr(e,t,n,(0|(r<i?i:r))+1)}}function Dr(t,e,n){var r=0|xr(t),i=0|xr(n);if(i>r+2){if(1===n.tag){if(xr(n.fields[1])>r+1){if(1===n.fields[1].tag)return Er(Er(t,e,n.fields[1].fields[1]),n.fields[1].fields[0],Er(n.fields[1].fields[2],n.fields[0],n.fields[2]));throw new Error("rebalance")}return Er(Er(t,e,n.fields[1]),n.fields[0],n.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===t.tag){if(xr(t.fields[2])>i+1){if(1===t.fields[2].tag)return Er(Er(t.fields[1],t.fields[0],t.fields[2].fields[1]),t.fields[2].fields[0],Er(t.fields[2].fields[2],e,n));throw new Error("rebalance")}return Er(t.fields[1],t.fields[0],Er(t.fields[2],e,n))}throw new Error("rebalance")}return Er(t,e,n)}function Hr(t,e,n){switch(n.tag){case 2:var r=0|t.Compare(e,n.fields[0]);return r<0?kr(e,new Sr(0,"SetEmpty"),n,2):0===r?n:kr(e,n,new Sr(0,"SetEmpty"),2);case 0:return Nr(e);default:var i=0|t.Compare(e,n.fields[0]);return i<0?Dr(Hr(t,e,n.fields[1]),n.fields[0],n.fields[2]):0===i?n:Dr(n.fields[1],n.fields[0],Hr(t,e,n.fields[2]))}}function Ar(t,e,n,r){var i,o,u,a,s,l,c,f,h,p,d,y,v,g,w;switch(2===e.tag?0===r.tag?(i=1,u=e):(r.tag,i=2,a=e.fields[0],s=r):1===e.tag?2===r.tag?(i=3,l=r.fields[0],c=e):1===r.tag?(i=4,f=e.fields[3],h=r.fields[3],p=e.fields[0],d=r.fields[0],y=e.fields[1],v=e.fields[2],g=r.fields[1],w=r.fields[2]):(i=1,u=e):(i=0,o=r),i){case 0:return Hr(t,n,o);case 1:return Hr(t,n,u);case 2:return Hr(t,n,Hr(t,a,s));case 3:return Hr(t,n,Hr(t,l,c));case 4:return f+2<h?Dr(Ar(t,e,n,g),d,w):h+2<f?Dr(y,p,Ar(t,v,n,r)):Er(e,n,r)}}function Lr(t,e,n){switch(n.tag){case 2:var r=0|t.Compare(n.fields[0],e);return r<0?[n,!1,new Sr(0,"SetEmpty")]:0===r?[new Sr(0,"SetEmpty"),!0,new Sr(0,"SetEmpty")]:[new Sr(0,"SetEmpty"),!1,n];case 0:return[new Sr(0,"SetEmpty"),!1,new Sr(0,"SetEmpty")];default:var i=0|t.Compare(e,n.fields[0]);if(i<0){var o=Lr(t,e,n.fields[1]);return[o[0],o[1],Ar(t,o[2],n.fields[0],n.fields[2])]}if(0===i)return[n.fields[1],!0,n.fields[2]];var u=Lr(t,e,n.fields[2]);return[Ar(t,n.fields[1],n.fields[0],u[0]),u[1],u[2]]}}function Tr(t,e,n){switch(n.tag){case 2:return 0===(0|t.Compare(e,n.fields[0]))?new Sr(0,"SetEmpty"):n;case 1:var r=0|t.Compare(e,n.fields[0]);if(r<0)return Dr(Tr(t,e,n.fields[1]),n.fields[0],n.fields[2]);if(0===r){if(0===n.fields[1].tag)return n.fields[2];if(0===n.fields[2].tag)return n.fields[1];var i=function t(e){switch(e.tag){case 2:return[e.fields[0],new Sr(0,"SetEmpty")];case 1:if(0===e.fields[1].tag)return[e.fields[0],e.fields[2]];var n=t(e.fields[1]);return[n[0],Er(n[1],e.fields[0],e.fields[2])];default:throw new Error("internal error: Set.spliceOutSuccessor")}}(n.fields[2]);return Er(n.fields[1],i[0],i[1])}return Dr(n.fields[1],n.fields[0],Tr(t,e,n.fields[2]));default:return n}}function Or(t,e,n){t:for(;;){var r=t,i=e,o=n;switch(o.tag){case 2:return 0===r.Compare(i,o.fields[0]);case 0:return!1;default:var u=0|r.Compare(i,o.fields[0]);if(u<0){t=r,e=i,n=o.fields[1];continue t}if(0===u)return!0;t=r,e=i,n=o.fields[2];continue t}break}}function Mr(t,e){t:for(;;){var n=t,r=e;switch(r.tag){case 2:return n(r.fields[0]);case 0:return!0;default:if(n(r.fields[0])&&Mr(n,r.fields[1])){t=n,e=r.fields[2];continue t}return!1}break}}function Rr(t,e){t:for(;;){var n=t,r=e;switch(r.tag){case 2:return n(r.fields[0]);case 0:return!1;default:if(n(r.fields[0])||Rr(n,r.fields[1]))return!0;t=n,e=r.fields[2];continue t}break}}function jr(t,e,n){return!!Mr((function(e){return Or(t,e,n)}),e)&&Rr((function(n){return!Or(t,n,e)}),n)}function Kr(t,e,n){return function t(e,n,r){t:for(;;){var i=e,o=n,u=r;switch(o.tag){case 2:return Tr(i,o.fields[0],u);case 0:return u;default:e=i,n=o.fields[1],r=t(i,o.fields[2],Tr(i,o.fields[0],u));continue t}break}}(t,n,e)}function Fr(t,e,n){return function t(e,n,r,i){t:for(;;){var o=e,u=n,a=r,s=i;switch(a.tag){case 2:return Or(o,a.fields[0],u)?Hr(o,a.fields[0],s):s;case 0:return s;default:var l=t(o,u,a.fields[2],s),c=Or(o,a.fields[0],u)?Hr(o,a.fields[0],l):l;e=o,n=u,r=a.fields[1],i=c;continue t}break}}(t,n,e,new Sr(0,"SetEmpty"))}function Ir(t,e,n,r,i){return e(n)?[Hr(t,n,r),i]:[r,Hr(t,n,i)]}function Gr(t,e,n){var r=[new Sr(0,"SetEmpty"),new Sr(0,"SetEmpty")];return function t(e,n,r,i,o){t:for(;;){var u=e,a=n,s=r,l=i,c=o;switch(s.tag){case 2:return Ir(u,a,s.fields[0],l,c);case 0:return[l,c];default:var f=t(u,a,s.fields[2],l,c),h=Ir(u,a,s.fields[0],f[0],f[1]);e=u,n=a,r=s.fields[1],i=h[0],o=h[1];continue t}break}}(t,e,n,r[0],r[1])}var qr=nt((function(t,e){this.stack=t,this.started=e}),ct);function _r(t){for(;;){var e=t;if(null==e.tail)return new ot;if(2===e.head.tag)return e;1!==e.head.tag?t=e.tail:t=new ot(e.head.fields[1],new ot(Nr(e.head.fields[0]),new ot(e.head.fields[2],e.tail)))}}function Ur(t){return new qr(_r(new ot(t,new ot)),!1)}function Zr(t){if(t.started){var e=t.stack;if(null==e.tail)return function(){throw new Error("Enumeration already started")}();if(2===e.head.tag)return e.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}var Wr=nt((function(t){this.s=t,this.i=Ur(this.s)}));function zr(t){return function(t){return this instanceof Wr?Wr.call(this,t):new Wr(t)}(t)}function Jr(t,e,n){return 0===e.tag?0===n.tag?0:-1:0===n.tag?1:0|function(t,e,n){t:for(;;){var r,i,o,u,a,s,l,c,f,h,p,d,y,v,g,w,m,b,C,P,S,V,N,k,x,E,D,H,A,L,T,O,M,R,j,K,F=t,I=e,G=n;switch(null!=I.tail?null!=G.tail?2===G.head.tag?2===I.head.tag?(r=4,u=I.head.fields[0],a=G.head.fields[0],s=I.tail,l=G.tail):1===I.head.tag?0===I.head.fields[1].tag?(r=6,y=I.head.fields[1],v=I.head.fields[0],g=I.head.fields[2],w=G.head.fields[0],m=I.tail,b=G.tail):(r=9,D=I.head.fields[0],H=I.head.fields[1],A=I.head.fields[2],L=I.tail):(r=10,T=G.head.fields[0],O=G.tail):1===G.head.tag?0===G.head.fields[1].tag?2===I.head.tag?(r=5,c=I.head.fields[0],f=G.head.fields[0],h=G.head.fields[2],p=I.tail,d=G.tail):1===I.head.tag?0===I.head.fields[1].tag?(r=7,C=I.head.fields[0],P=I.head.fields[2],S=G.head.fields[0],V=G.head.fields[2],N=I.tail,k=G.tail):(r=9,D=I.head.fields[0],H=I.head.fields[1],A=I.head.fields[2],L=I.tail):(r=11,M=G.head.fields[0],R=G.head.fields[1],j=G.head.fields[2],K=G.tail):2===I.head.tag?(r=8,x=I.head.fields[0],E=I.tail):1===I.head.tag?(r=9,D=I.head.fields[0],H=I.head.fields[1],A=I.head.fields[2],L=I.tail):(r=11,M=G.head.fields[0],R=G.head.fields[1],j=G.head.fields[2],K=G.tail):2===I.head.tag?(r=8,x=I.head.fields[0],E=I.tail):1===I.head.tag?(r=9,D=I.head.fields[0],H=I.head.fields[1],A=I.head.fields[2],L=I.tail):(r=3,i=I.tail,o=G.tail):r=2:r=null!=G.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:t=F,e=i,n=o;continue t;case 4:var q=0|F.Compare(u,a);if(0!==q)return 0|q;t=F,e=s,n=l;continue t;case 5:var _=0|F.Compare(c,f);if(0!==_)return 0|_;t=F,e=new ot(new Sr(0,"SetEmpty"),p),n=new ot(h,d);continue t;case 6:var U=0|F.Compare(v,w);if(0!==U)return 0|U;t=F,e=new ot(g,m),n=new ot(y,b);continue t;case 7:var Z=0|F.Compare(C,S);if(0!==Z)return 0|Z;t=F,e=new ot(P,N),n=new ot(V,k);continue t;case 8:t=F,e=new ot(new Sr(0,"SetEmpty"),new ot(Nr(x),E)),n=G;continue t;case 9:t=F,e=new ot(H,new ot(kr(D,new Sr(0,"SetEmpty"),A,0),L)),n=G;continue t;case 10:t=F,e=I,n=new ot(new Sr(0,"SetEmpty"),new ot(Nr(T),O));continue t;case 11:t=F,e=I,n=new ot(R,new ot(kr(M,new Sr(0,"SetEmpty"),j,0),K));continue t}break}}(t,new ot(e,new ot),new ot(n,new ot))}function Br(t,e){var n=en(e);try{return function(t,e,n){for(;;){var r=t,i=e,o=n;if(!o.MoveNext())return i;t=r,e=Hr(r,o.Current,i),n=o}}(t,new Sr(0,"SetEmpty"),n)}finally{f(n)&&n.Dispose()}}Object.defineProperty(Wr.prototype,"Current",{get:function(){return Zr(this.i)}}),Wr.prototype.MoveNext=function(){return function(t){if(t.started){var e=t.stack;if(null==e.tail)return!1;if(2===e.head.tag)return t.stack=_r(e.tail),!(null==t.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return t.started=!0,!(null==t.stack.tail)}(this.i)},Wr.prototype.Reset=function(){this.i=Ur(this.s)},Wr.prototype.Dispose=function(){};var $r=nt((function(t,e){this.comparer=t,this.tree=e}));function Xr(t,e){return this instanceof $r?$r.call(this,t,e):new $r(t,e)}function Qr(t){return t.comparer}function Yr(t){return t.tree}function ti(t){return Vr(Yr(t))}function ei(t,e){return Or(Qr(t),e,Yr(t))}function ni(t,e){return 0===Yr(e).tag?t:0===Yr(t).tag?e:Xr(Qr(t),function t(e,n,r){var i,o,u,a,s,l,c,f,h,p,d,y,v,g,w;switch(0===n.tag?(i=1,p=r):2===n.tag?0===r.tag?(i=2,d=n):(r.tag,i=3,y=n.fields[0],v=r):0===r.tag?(i=2,d=n):2===r.tag?(i=4,g=r.fields[0],w=n):(i=0,o=n.fields[3],u=r.fields[3],a=n.fields[0],s=r.fields[0],l=n.fields[1],c=n.fields[2],f=r.fields[1],h=r.fields[2]),i){case 0:if(o>u){var m=Lr(e,a,r);return Ar(e,t(e,l,m[0]),a,t(e,c,m[2]))}var b=Lr(e,s,n);return Ar(e,t(e,f,b[0]),s,t(e,h,b[2]));case 1:return p;case 2:return d;case 3:return Hr(e,y,v);case 4:return Hr(e,g,w)}}(Qr(t),Yr(t),Yr(e)))}function ri(t,e){return 0===Yr(e).tag?e:0===Yr(t).tag?t:Xr(Qr(t),Fr(Qr(t),Yr(t),Yr(e)))}function ii(t,e){return ni(t,e)}function oi(t,e){return ri(t,e)}function ui(t){return Xr(t,new Sr(0,"SetEmpty"))}function ai(t,e){return function(t,e){if(0===Yr(t).tag)return[t,t];var n=Gr(Qr(t),e,Yr(t));return[Xr(Qr(t),n[0]),Xr(Qr(t),n[1])]}(e,t)}function si(t,e){return Xr(e,Br(e,t))}function li(t,e){return r=e,0===Yr(n=t).tag||0===Yr(r).tag?n:Xr(Qr(n),Kr(Qr(n),Yr(n),Yr(r)));var n,r}function ci(t,e){return r=e,jr(Qr(n=t),Yr(n),Yr(r));var n,r}function fi(t,e){return vr(t,e)}$r.prototype.toString=function(){return"set ["+(Zn("; ",yn((function(t){return String(t)}),this))+"]")},$r.prototype.GetHashCode=function(){for(var t=0,e=zr(Yr(this));e.MoveNext();){t=((0|t)<<1)+(0|C(e.Current))+631}return 0|Math.abs(t)},$r.prototype.Equals=function(t){return 0===Jr(Qr(this),Yr(this),Yr(t))},$r.prototype.CompareTo=function(t){return 0|Jr(Qr(this),Yr(this),Yr(t))},$r.prototype[Symbol.iterator]=function(){return nn(zr(Yr(this)))};function hi(t,e,n,r){return t.fill(r,e,e+n),t}function pi(t,e,n,r){return function(t,e,n,r){var i=e;if(n.length!==r.length)throw new Error("Arrays have different lengths");for(var o=0;o<=n.length-1;o++)i=t(o,i,n[o],r[o]);return i}((function(e,n,r,i){return t(n,r,i)}),e,n,r)}function di(t,e){return e.from(t)}function yi(t,e){return e.from(t)}function vi(t){if(null!=t.tail)return t.head;throw new Error("List was empty")}function gi(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o.tail)return i;t=r,e=r(i,o.head),n=o.tail}}function wi(t){return gi((function(t,e){return new ot(e,t)}),new ot,t)}function mi(t){return wi(cn((function(t,e){return new ot(e,t)}),new ot,t))}function bi(t,e,n,r){return fn(t,e,n,r)}function Ci(t){return gi((function(t,e){return t+1}),0,t)}function Pi(t,e){return mi(an(t,e))}function Si(t,e){return wi(gi((function(e,n){return new ot(t(n),e)}),new ot,e))}function Vi(t,e){gi((function(e,n){t(n)}),void 0,e)}function Ni(t){for(var e=new ot,n=function(t){if(c(t))return t.length;var e,n=0,r=o(t);try{for(r.s();!(e=r.n()).done;){e.value;n++}}catch(t){r.e(t)}finally{r.f()}return n}(t)-1;n>=0;n--)e=new ot(t[n],e);return e}function ki(t,e){return wi(gi((function(e,n){return t(n)?new ot(n,e):e}),new ot,e))}function xi(t,e){return wi(gi((function(e,n){var r=t(n);if(null==r)return e;var i=jt(r);return new ot(i,e)}),new ot,e))}function Ei(t,e,n){return function(e){for(;;){var r=e;if(null==r.tail)return!1;if(n.Equals(t,r.head))return!0;e=r.tail}}(e)}function Di(t,e){if(null!=e.tail)return gi(t,e.head,e.tail);throw new Error("List was empty")}function Hi(t,e){return n=function(t,e){return[t,e]},r=t,i=e,wi(bi((function(t,e,r){return new ot(n(e,r),t)}),new ot,r,i));var n,r,i}function Ai(t,e,n){var r=yi(e,Array);return r.sort((function(e,r){return n.Compare(t(e),t(r))})),Ni(r)}function Li(t,e,n){return gi((function(e,r){return n.Add(e,t(r))}),n.GetZero(),e)}function Ti(t,e,n){return Di((function(e,r){return n.Compare(t(r),t(e))>0?r:e}),e)}function Oi(t,e){var n,r,i;if(t<0)throw new Error("The input must be non-negative.");switch(0===t?n=0:1===t&&null!=e.tail?n=1:(n=2,r=t,i=e),n){case 0:return e;case 1:return e.tail;case 2:return function(t,e){for(;;){var n=t,r=e;if(0===n)return r;if(null==r.tail)throw new Error("The input sequence has an insufficient number of elements.");t=n-1,e=r.tail}}(r,i)}}function Mi(t,e,n,r){for(;;){var i=t,o=e,u=n,a=r;if(0===o)return[wi(u),a];if(null==a.tail){if(i)throw new Error("The input sequence has an insufficient number of elements.");return[wi(u),a]}t=i,e=o-1,n=new ot(a.head,u),r=a.tail}}function Ri(t,e){if(t<0)throw new Error("The input must be non-negative.");var n,r,i;switch(0===t?n=0:1===t&&null!=e.tail?n=1:(n=2,r=t,i=e),n){case 0:return new ot;case 1:return new ot(e.head,new ot);case 2:return Mi(!0,r,new ot,i)[0]}}function ji(t,e){return n=function(t){return t},r=t,i=fi([],e),ki((function(t){return p(n(t),i)}),r);var n,r,i}function Ki(t,e,n){var r=dr([],n),i=new ot;Vi((function(e){var n=t(e),o=h(r,n,null);o[0]?r.set(n,new ot(e,o[1])):(q(r,n,new ot(e,new ot)),i=new ot(n,i))}),e);var o=new ot;return Vi((function(t){o=new ot([t,wi(_(r,t))],o)}),i),o}n(277),n(180);function Fi(t){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){return!e||"object"!==Fi(e)&&"function"!=typeof e?Gi(t):e}function Gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qi(t){var e="function"==typeof Map?new Map:void 0;return(qi=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _i(t,arguments,Wi(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Zi(r,t)})(t)}function _i(t,e,n){return(_i=Ui()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Zi(i,n.prototype),i}).apply(null,arguments)}function Ui(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Zi(t,e){return(Zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wi(t){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||Ji(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ji(t,e){if(t){if("string"==typeof t)return Bi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(t,e):void 0}}function Bi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qi(t,e,n){return e&&Xi(t.prototype,e),n&&Xi(t,n),t}var Yi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$i(this,t),this._id=0,this._cancelled=e,this._listeners=new Map}return Qi(t,[{key:"cancel",value:function(){if(!this._cancelled){this._cancelled=!0;var t,e=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ji(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw o}}}}(this._listeners);try{for(e.s();!(t=e.n()).done;){(0,zi(t.value,2)[1])()}}catch(t){e.e(t)}finally{e.f()}}}},{key:"addListener",value:function(t){var e=this._id;return this._listeners.set(this._id++,t),e}},{key:"removeListener",value:function(t){return this._listeners.delete(t)}},{key:"register",value:function(t,e){var n=this,r=this.addListener(null==e?t:function(){return t(e)});return{Dispose:function(){n.removeListener(r)}}}},{key:"isCancelled",get:function(){return this._cancelled}}]),t}(),to=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zi(t,e)}(i,t);var e,n,r=(e=i,n=Ui(),function(){var t,r=Wi(e);if(n){var i=Wi(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return Ii(this,t)});function i(){var t;return $i(this,i),t=r.call(this,"The operation was canceled"),Object.setPrototypeOf(Gi(t),i.prototype),t}return i}(qi(Error)),eo=function(){function t(){$i(this,t),this.callCount=0}return Qi(t,[{key:"incrementAndCheck",value:function(){return this.callCount++>t.maxTrampolineCallCount}},{key:"hijack",value:function(t){this.callCount=0,setTimeout(t,0)}}],[{key:"maxTrampolineCallCount",get:function(){return 2e3}}]),t}();function no(t){return function(e){if(e.cancelToken.isCancelled)e.onCancel(new to);else if(e.trampoline.incrementAndCheck())e.trampoline.hijack((function(){try{t(e)}catch(t){e.onError(t)}}));else try{t(e)}catch(t){e.onError(t)}}}function ro(t,e){return no((function(n){t({onSuccess:function(t){try{e(t)(n)}catch(t){n.onError(t)}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})}))}function io(t){return no((function(e){return e.onSuccess(t)}))}var oo=new(function(){function t(){$i(this,t)}return Qi(t,[{key:"Bind",value:function(t,e){return ro(t,e)}},{key:"Combine",value:function(t,e){return this.Bind(t,(function(){return e}))}},{key:"Delay",value:function(t){return no((function(e){return t()(e)}))}},{key:"For",value:function(t,e){var n=t[Symbol.iterator](),r=n.next();return this.While((function(){return!r.done}),this.Delay((function(){var t=e(r.value);return r=n.next(),t})))}},{key:"Return",value:function(t){return io(t)}},{key:"ReturnFrom",value:function(t){return t}},{key:"TryFinally",value:function(t,e){return no((function(n){t({onSuccess:function(t){e(),n.onSuccess(t)},onError:function(t){e(),n.onError(t)},onCancel:function(t){e(),n.onCancel(t)},cancelToken:n.cancelToken,trampoline:n.trampoline})}))}},{key:"TryWith",value:function(t,e){return no((function(n){t({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:function(t){try{e(t)(n)}catch(t){n.onError(t)}}})}))}},{key:"Using",value:function(t,e){return this.TryFinally(e(t),(function(){return t.Dispose()}))}},{key:"While",value:function(t,e){var n=this;return t()?this.Bind(e,(function(){return n.While(t,e)})):this.Return(void 0)}},{key:"Zero",value:function(){return no((function(t){return t.onSuccess(void 0)}))}}]),t}());function uo(t){}var ao=new Yi;function so(t){return no((function(e){return t([e.onSuccess,e.onError,e.onCancel])}))}function lo(t,e){return function(t,e){return co(t,e)}(t,e)}function co(t,e,n,r,i){"function"!=typeof e&&(i=e,e=void 0);var o=new eo;t({onSuccess:e||uo,onError:n||uo,onCancel:r||uo,cancelToken:i||ao,trampoline:o})}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ho=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._subscriber=e,this.delegates=n||new Array}var e,n,r;return e=t,(n=[{key:"Add",value:function(t){this._addHandler(t)}},{key:"Trigger",value:function(t){hn((function(e){return e(t)}),this.delegates)}},{key:"AddHandler",value:function(t){null==this._dotnetDelegates&&(this._dotnetDelegates=new Map);var e=function(e){return t(null,e)};this._dotnetDelegates.set(t,e),this._addHandler(e)}},{key:"RemoveHandler",value:function(t){if(null!=this._dotnetDelegates){var e=this._dotnetDelegates.get(t);null!=e&&(this._dotnetDelegates.delete(t),this._removeHandler(e))}}},{key:"Subscribe",value:function(t){return"function"==typeof t?this._subscribeFromCallback(t):this._subscribeFromObserver(t)}},{key:"_addHandler",value:function(t){this.delegates.push(t)}},{key:"_removeHandler",value:function(t){var e=this.delegates.indexOf(t);e>-1&&this.delegates.splice(e,1)}},{key:"_subscribeFromObserver",value:function(t){var e=this;if(this._subscriber)return this._subscriber(t);var n=t.OnNext;return this._addHandler(n),{Dispose:function(){e._removeHandler(n)}}}},{key:"_subscribeFromCallback",value:function(t){var e=this;return this._addHandler(t),{Dispose:function(){e._removeHandler(t)}}}},{key:"Publish",get:function(){return this}}])&&fo(e.prototype,n),r&&fo(e,r),t}();var po=ho;function yo(t,e){console.error(Rt(t),e)}function vo(t,e,n){Vi((function(n){try{n(e)}catch(e){t(e)}}),n)}function go(){return new ot}function wo(t){return e=t,wi(cn((function(t,e){return gi((function(t,e){return new ot(e,t)}),t,e)}),new ot,e));var e}var mo=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var bo=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var Co=nt((function(t){this.UseDarkTheme=t}),ct);function Po(t,e){var n,r,i=localStorage.getItem(String(t));return n=function(t){try{return Rt(e(t))}catch(t){return}},null!=(r=null==i?void 0:i)?n(jt(r)):void 0}function So(t){return"true"===t.toLocaleLowerCase()}function Vo(t,e){var n,r,i=null==e.UseDarkTheme||!e.UseDarkTheme;return n=new mo(0,"UseDarkTheme"),r=String(i),localStorage.setItem(String(n),r),[new Co(i),go()]}var No=n(319),ko=No.a,xo=(No.a,n(320)),Eo=n(328),Do=n(234),Ho=n(143),Ao=xo.a,Lo=(xo.a,xo.a,xo.a,Eo.a,Eo.a,Do.a),To=Do.a,Oo=(Ho.a,nt((function(){})));function Mo(t,e){return K(e,0)}var Ro=n(0),jo=n.n(Ro).a,Ko=Ro.createElement;function Fo(t,e){return[t,e]}function Io(t,e){return[t,e]}function Go(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw o}}}}function qo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _o=nt((function(t,e,n,r,i){this.PaletteType=t,this.Primary=e,this.Secondary=n,this.PrimaryContrastText=r,this.Error=i}),ct);var Uo=To();function Zo(t){return e=t?new _o("dark","#105010","#101050","#fff","#501010"):new _o("light","#afefef","#efefaf","#000","#efafef"),r=mi(sn((function(){var t="dark"===e.PaletteType;return on(ln(t?["palette.type","dark"]:["palette.type","light"]),sn((function(){return on(ln(["palette.primary.main",e.Primary]),sn((function(){return on(ln(["palette.primary.contrastText",e.PrimaryContrastText]),sn((function(){return on(ln(["palette.secondary.main",e.Secondary]),sn((function(){return on(ln(["palette.error.main",e.Error]),sn((function(){return on(ln(["overrides.MuiPaper.elevation2",K(mi(sn((function(){return on(ln(Io("box-shadow",Uo.shadows[8])),sn((function(){return ln(Io("backgroundColor",t?"#303030":Uo.palette.background.default))})))}))),0)]),sn((function(){return on(ln(["overrides.MuiTableCell.footer",K(Ni([Io("borderRadius",4),Io("borderWidth",0)]),0)]),sn((function(){return on(ln(["overrides.MuiTableCell.head",K(mi(sn((function(){return ln(Io("backgroundColor",t?"#303030 !important":Uo.palette.background.default+"!important"))}))),0)]),sn((function(){return on(ln(["overrides.MuiTableCell.root",K(mi(sn((function(){return ln(Io("backgroundColor",t?"#303030 !important":Uo.palette.background.default+"!important"))}))),0)]),sn((function(){return ln(["overrides.MuiTable.root",K(mi(sn((function(){return ln(Io("backgroundColor",t?"#303030 !important":Uo.palette.background.default+"!important"))}))),0)])})))})))})))})))})))})))})))})))})))}))),n=function(){function t(e,n,r){var i=n.indexOf(".");if(-1===i)e[n]=r;else{var o=n.substring(0,i),u=n.substring(i+1);void 0===e[o]&&(e[o]={}),t(e[o],u,r)}}var e,n={},i=Go(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;t(n,o[0],o[1])}}catch(t){i.e(t)}finally{i.f()}return n}(),Lo.apply(void 0,[n].concat([]));var e,n,r}var Wo=Ao((function(t){var e,n;!function(){this instanceof Oo?Oo.call(this):new Oo}();return n=ft({appBar:Mo(0,Ni([(e=t.zIndex.drawer+1|0,Io("zIndex",e)),Io("cursor","default"),Io("display","grid")])),root:Mo(0,Ni([Io("display","flex"),Io("height","inherit"),Io("userSelect","none")])),title:Mo(0,new ot(("100%",Io("width","100%")),new ot)),toolbar:Mo(0,mi(sn((function(){return Object.entries(t.mixins.toolbar)}))))}),Object.assign({},n)})),zo=n(322);function Jo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw o}}}}function Bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $o=Ro.createElement;Ro.createElement;function Xo(t,e){return $o(t,function(){function t(e,n,r){var i=n.indexOf(".");if(-1===i)e[n]=r;else{var o=n.substring(0,i),u=n.substring(i+1);void 0===e[o]&&(e[o]={}),t(e[o],u,r)}}var n,r={},i=Jo(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t(r,o[0],o[1])}}catch(t){i.e(t)}finally{i.f()}return r}())}var Qo=n(323),Yo=n(229),tu=n.n(Yo),eu=n(230),nu=n.n(eu),ru=n(231),iu=n.n(ru),ou=n(327),uu=n(326),au=n(233),su=n.n(au),lu=n(324),cu=n(329),fu=n(325);nt((function(){}));function hu(t,e,n){return hn((function(e){t.displayName=e}),Kt(e)),function(e){var r;return r=pu(n,e),jo.createElement(t,r)}}function pu(t,e){if(null==t)return e;var n=t;return e.key=n(e),e}nt((function(){}));var du=nt((function(t){this.Data0=0|t}),yt);var yu=nt((function(t,e){this.Total=t,this.Count=0|e}),ct);function vu(t){return function(t,e){if(e<=0)throw new du(e);return new yu(t,e)}((e=t,gi((function(t,e){return n.Add(t,e)}),(n={GetZero:function(){return 0},Add:function(t,e){return t+e}}).GetZero(),e)),Ci(t));var e,n}function gu(t){return mi(sn((function(){return an((function(t){return ln((e=0,n=2147483647,Math.floor(Math.random()*(n-e))+e));var e,n}),wn(1,1,t))})))}function wu(t,e,n){return sn((function(){return null==n.tail?0===e?ln(t):[]:on(e>0?wu(new ot(n.head,t),e-1,n.tail):[],sn((function(){return e>=0?wu(t,e,n.tail):[]})))}))}var mu=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function bu(t){switch(t.tag){case 1:return"Queen";case 2:return"Jack";case 3:return"Ten";case 4:return"Nine";case 5:return"Eight";case 6:return"Seven";case 7:return"Six";case 8:return"Five";case 9:return"Four";case 10:return"Three";case 11:return"Two";case 12:return"Ace";default:return"King"}}function Cu(t){return 1*(1===t.tag||2===t.tag||3===t.tag?10:4===t.tag?9:5===t.tag?8:6===t.tag?7:7===t.tag?6:8===t.tag?5:9===t.tag?4:10===t.tag?3:11===t.tag?2:12===t.tag?1:10)}function Pu(t){switch(t.tag){case 0:return 13;case 1:return 12;case 2:return 11;default:return 0|Cu(t)}}var Su=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var Vu=nt((function(t){this.Data0=t}),yt);var Nu=nt((function(t){this.Data0=t}),yt);var ku=nt((function(t){this.Data0=t}),yt);var xu=nt((function(t){this.Data0=t}),yt);var Eu=nt((function(t){this.Data0=t}),yt);var Du=nt((function(t){this.Data0=t}),yt);var Hu=si(Pi((function(t){return Si((function(e){return[e,t]}),Ni([new mu(0,"King"),new mu(1,"Queen"),new mu(2,"Jack"),new mu(3,"Ten"),new mu(4,"Nine"),new mu(5,"Eight"),new mu(6,"Seven"),new mu(7,"Six"),new mu(8,"Five"),new mu(9,"Four"),new mu(10,"Three"),new mu(11,"Two"),new mu(12,"Ace")]))}),Ni([new Su(0,"Spade"),new Su(1,"Heart"),new Su(2,"Diamond"),new Su(3,"Club")])),{Compare:E});function Au(t){return 0|Li((function(t){return Cu(t[0])}),t,{GetZero:function(){return 0},Add:function(t,e){return t+e}})}function Lu(t,e){var n=function(t){switch(t.tag){case 1:return"Q";case 2:return"J";case 3:return"T";case 4:return"9";case 5:return"8";case 6:return"7";case 7:return"6";case 8:return"5";case 9:return"4";case 10:return"3";case 11:return"2";case 12:return"A";default:return"K"}}(t),r=function(t){switch(t.tag){case 1:return"h";case 2:return"d";case 3:return"c";default:return"s"}}(e);return qn(Gn("%c%c"))(n)(r)}function Tu(t){var e,n,r;return e=mi(t),n={Compare:E},(r=yi(e,Array)).sort((function(t,e){return n.Compare(t,e)})),Zn(" ",Si((function(t){return Lu(t[0],t[1])}),Ni(r)))}function Ou(t,e,n){var r,i,o,u,a;if(Ci(e)<t)throw new Du((r=Zn(" ",Si((function(t){return Lu(t[0],t[1])}),e)),qn(Gn("Deck (%s) contains fewer than %i Card/s"))(r)(t)));if(ti(a=oi(n,u=si(Ri(t,e),{Compare:E})))>0)throw new xu((i=Tu(a),o=Tu(n),qn(Gn("One or more dealt Cards (%s) are already in Hand (%s)"))(i)(o)));return[Oi(t,e),ii(n,u)]}function Mu(t,e){var n,r,i;if(ti(i=li(e,t))>0)throw new Eu((n=Tu(i),r=Tu(t),qn(Gn("One or more Cards (%s) are not in Hand (%s)"))(n)(r)));return li(t,e)}function Ru(t,e){var n,r,i,o,u,a,s;if(0!==ti(t)&&2!==ti(t))throw new Vu((n=Tu(t),r=0|ti(t),qn(Gn("Can only add to Crib (%s) when it contains 0 or 2 Cards (not %i)"))(n)(r)));if(2!==ti(e))throw new Nu((i=0|ti(e),o=Tu(e),qn(Gn("Can only add 2 Cards to Crib (not %i: %s)"))(i)(o)));if(ti(s=oi(t,e))>0)throw new ku((u=Tu(s),a=Tu(t),qn(Gn("One or more Cards (%s) are already in Crib (%s)"))(u)(a)));return ii(t,e)}function ju(t,e){var n,r;if(ti(e)<t)throw new Du((n=Tu(e),qn(Gn("Cards (%s) contains fewer than %i Card/s"))(n)(t)));return ti(e)===t?e:(r=mi(e),si(Ri(t,Si((function(t){return t[1]}),Ai((function(t){return t[0]}),Hi(gu(ti(e)),r),{Compare:k}))),{Compare:E}))}var Ku=nt((function(t){this.Data0=t}),yt);var Fu=nt((function(t){this.Data0=t}),yt);var Iu=nt((function(t){this.Data0=t}),yt);var Gu=nt((function(t){this.Data0=t}),yt);var qu=nt((function(t){this.Data0=t}),yt);function _u(t){var e,n=0|Ci(t);if(n>2){if(Ci(ji(e=Si((function(t){return t[0]}),t),{Equals:V,GetHashCode:C}))===n){var r=[Ti((function(t){return Pu(t)}),e,{Compare:k}),(i=function(t){return Pu(t)},o=e,u={Compare:k},Di((function(t,e){return u.Compare(i(e),i(t))>0?t:e}),o))];return Pu(r[0])-Pu(r[1])+1===n?[r[0],r[1]]:void 0}}else var i,o,u}var Uu=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function Zu(t,e){var n,r,i;if(null!=e){if(null==t.tail)return new ot;var o=e;if(Ei(o,t,{Equals:S,GetHashCode:C}))throw new Fu((n=Lu(o[0],o[1]),qn(Gn("%s has already been played"))(n)));var u=0|Au(t);if(u+Cu(o[0])>31)throw new Iu((r=Lu(o[0],o[1]),i=0|u,qn(Gn("Cannot play %s when running total is %i"))(r)(i)));var a=u+Cu(o[0])|0,s=function(t){t:for(;;){var e=t,n=0|Ci(e);if(n>3){var r=_u(e);if(null==r){t=Ri(n-1|0,e);continue t}var i=r[1];return[r[0],i]}return 3===n?_u(e):void 0}};return mi(sn((function(){var e,n,r;return on(null!=t.tail&&V(t.head[0],o[0])?null!=t.tail.tail&&V(t.tail.head[0],o[0])?null!=t.tail.tail.tail&&V(t.tail.tail.head[0],o[0])?ln(new Uu(2,"FourOfAKind",o[0])):ln(new Uu(1,"ThreeOfAKind",o[0])):ln(new Uu(0,"PeggingPair",o[0])):null==(e=s(new ot(o,t)))?[]:(n=e[1],r=e[0],ln(new Uu(3,"PeggingRun",r,n))),sn((function(){return 15===a?ln(new Uu(4,"PeggingFifteen")):31===a?ln(new Uu(5,"ThirtyOne")):[]})))})))}if(null==t.tail)throw new Ku("Cannot play None when no Cards pegged");return new ot(new Uu(6,"Go"),new ot)}function Wu(t){return 1*(4===t.tag||5===t.tag?2:1===t.tag?6:2===t.tag?12:3===t.tag?Pu(t.fields[0])-Pu(t.fields[1])+1:6===t.tag?1:2)}function zu(t,e){return ji(Pi((function(e){var n=0|Ci(e);switch(n){case 0:case 1:return t;default:var r=0|Au(e);return 15===r?new ot(si(e,{Compare:E}),t):r<15?t:zu(t,mi(wu(new ot,n-1,e)))}}),e),{Equals:function(t,e){return t.Equals(e)},GetHashCode:C})}var Ju=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var Bu=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function $u(t,e,n){var r,i,o,u,a;if(4!==ti(e))throw new Gu((r=t?"Crib":"Hand",i=Tu(e),qn(Gn("%s (%s) does not contain 4 Cards"))(r)(i)));if(ei(e,n))throw new qu((o=t?"Crib":"Hand",u=Tu(e),a=Lu(n[0],n[1]),qn(Gn("%s (%s) must not contain cut Card (%s)"))(o)(u)(a)));var s,l,c=new ot(n,mi(e));return l=ji(Si((function(t){return t[0]}),c),{Equals:V,GetHashCode:C}),s=Ci(l),mi(sn((function(){return on(Si((function(t){return new Ju(0,"Fifteen",t)}),zu(new ot,new ot(c,new ot))),sn((function(){var t;return on(s<5?(t=Si((function(t){return t[1]}),Ki((function(t){return t[0]}),c,{Equals:V,GetHashCode:C})),Si((function(t){var e;return e=si(t,{Compare:E}),new Ju(1,"Pair",e)}),Pi((function(t){return mi(wu(new ot,2,t))}),ki((function(t){return Ci(t)>1}),t)))):[],sn((function(){var t,r;return on(s>2?(t=c,Si((function(t){return new Ju(2,"Run",t)}),ki((function(t){return!function(t,e){for(;;){var n=t,r=e;if(null==r.tail)return!1;if(n(r.head))return!0;t=n,e=r.tail}}((function(e){return ci(t,e)}),r)}),r=function t(e,n){return ji(Pi((function(n){var r=0|Ci(n);switch(r){case 0:case 1:case 2:return e;default:return null==_u(n)?t(e,mi(wu(new ot,r-1,n))):new ot(si(n,{Compare:E}),e)}}),n),{Equals:function(t,e){return t.Equals(e)},GetHashCode:C})}(new ot,new ot(t,new ot))))):[],sn((function(){var t;return on(5===s?null!=(t=Si((function(t){return t[0]}),Ki((function(t){return t[1]}),c,{Equals:V,GetHashCode:C}))).tail&&null==t.tail.tail?ln(new Ju(3,"FiveFlush",si(c,{Compare:E}))):[]:[],sn((function(){if(V(n[0],new mu(2,"Jack")))return[];var t=[new mu(2,"Jack"),n[1]];return ei(e,t)?ln(new Ju(4,"Nob",t)):[]})))})))})))})))})))}function Xu(t){return 1*(1===t.tag?2:2===t.tag?ti(t.fields[0]):3===t.tag?5:4===t.tag?1:2)}function Qu(t){switch(t.tag){case 1:var e=Tu(t.fields[0]),n=0|Xu(t);return qn(Gn("Pair (%s) for %i"))(e)(n);case 2:var r=Tu(t.fields[0]),i=0|Xu(t);return qn(Gn("Run (%s) for %i"))(r)(i);case 3:var o=Tu(t.fields[0]),u=0|Xu(t);return qn(Gn("Flush (%s) for %i"))(o)(u);case 4:var a=0|Xu(t),s=Lu(t.fields[0][0],t.fields[0][1]);return qn(Gn("%i for his nob (%s)"))(a)(s);default:var l=Tu(t.fields[0]),c=0|Xu(t);return qn(Gn("Fifteen (%s) for %i"))(l)(c)}}var Yu=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function ta(t,e){return mi(sn((function(){return on(Si((function(t){return new Yu(0,"CommonScoreEvent",t)}),$u(!1,t,e)),sn((function(){var n;switch(null!=(n=Si((function(t){return t[0]}),Ki((function(t){return t[1]}),mi(t),{Equals:V,GetHashCode:C}))).tail&&null==n.tail.tail?V(n.head,e[1])?1:0:1){case 0:return ln(new Yu(1,"FourFlush",t));case 1:return[]}})))})))}function ea(t){return 1===t.tag?4:0|Xu(t.fields[0])}function na(t){if(1===t.tag){var e=Tu(t.fields[0]),n=0|ea(t);return qn(Gn("Flush (%s) for %i"))(e)(n)}return Qu(t.fields[0])}var ra=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);nt((function(t){this.Data0=t}),yt);nt((function(t){this.Data0=t}),yt);var ia=nt((function(t,e,n,r,i,o,u){this.PreviouslyPegged=t,this.Pegged=e,this.Peggable=n,this.NotPeggable=r,this.CutCard=i,this.SelfCrib=o,this.IsDealer=u}),ct);var oa=nt((function(){}));oa.prototype.Compare=function(t,e){return D(t,e)};var ua=nt((function(){}));ua.prototype.Equals=function(t,e){return V(t,e)},ua.prototype.GetHashCode=function(t){return C(t)};var aa=nt((function(){}));function sa(){return aa.instance}aa.instance={GetHashCode:function(t){return b(t)},Equals:function(t,e){return t===e}},aa.prototype.GetHashCode=function(t){return aa.instance.GetHashCode(t)},aa.prototype.Equals=function(t,e){return aa.instance.Equals(t,e)};var la=nt((function(){}));la.created=0,la.unchecked={GetEqualityComparer:function(){return{GetHashCode:function(t){return C(t)},Equals:function(t,e){return V(t,e)}}}},la.system={GetEqualityComparer:function(){return{Equals:function(t,e){return V(t,e)},GetHashCode:function(t){return C(t)}}}},la.shallow={GetEqualityComparer:function(){return sa()}},la.defaultCreator=la.unchecked;var ca=nt((function(){}));function fa(){return ca.cmp}ca.cmp=(la.created=1,la.defaultCreator.GetEqualityComparer());var ha=nt((function(){}));function pa(t,e){var n=0|t.contents.length;if(e<n)t.contents=function(t,e,n){if(t<0)throw new Error("The input must be non-negative\\nParameter name: count");if(t>e.length)throw new Error("count is greater than array length\\nParameter name: count");return 0===t?new n(0):e.slice(0,0+t)}(e,t.contents,Array);else if(e>n){var r=hi(new Array(e),0,e,null);!function(t,e,n,r){for(var i=0|Ft(e,0),o=0|Ft(n,0),u=(o>0?o:t.length-1)-i|0,a=0;a<=u;a++)t[a+i]=r[a]}(r,0,n-1,t.contents),t.contents=r}}ha.cmp={GetHashCode:function(t){return b(t)},Equals:function(t,e){return t===e}};var da=nt((function(t){this.create=t}));da.prototype[Symbol.iterator]=function(){return nn(this.create())};var ya=nt((function(t,e){this.Next=t,this.Value=e}));var va=nt((function(t,e,n){this.Next=t,this.Key=e,this.Value=n}));function ga(t){return new ya(null,t)}function wa(t,e){return new ya(e,t)}function ma(t,e,n){return null==n?ga(e):t.Equals(n.Value,e)||ma(t,e,n.Next)===n.Next?n:wa(n.Value,ma(t,e,n.Next))}function ba(t){return null==t?void 0:[t.Value,t.Next]}function Ca(t,e){for(;;){var n=t,r=e;if(null==r)return null;if(n(r.Value)){var i=Ca(n,r.Next);return r.Next===i?r:wa(r.Value,Ca(n,r.Next))}t=n,e=r.Next}}function Pa(t,e){for(;;){var n=t,r=e;if(null==r)return null;var i=n(r.Value);if(null!=i){var o=jt(i);return Ga(r.Value,o,Pa(n,r.Next))}t=n,e=r.Next}}function Sa(t,e){for(;;){var n=t,r=e;if(null==r)return null;var i=n(r.Value);if(null!=i){var o=jt(i);return Ga(r.Value,o,Sa(n,r.Next))}t=n,e=r.Next}}var Va=nt((function(){}));function Na(){return this instanceof Va?Va.call(this):new Va}var ka=nt((function(){Na.call(this)}),Va);function xa(){return this instanceof ka?ka.call(this):new ka}var Ea=nt((function(){Na.call(this)}),Va);function Da(){return Ea.instance}Ea.instance=function(){return this instanceof Ea?Ea.call(this):new Ea}(),Ea.prototype.ComputeHash=function(){return 0},Object.defineProperty(Ea.prototype,"Count",{get:function(){return 0}}),Ea.prototype.ToArray=function(t,e){},Ea.prototype.Accept=function(t){return t.VisitEmpty(this)},Object.defineProperty(Ea.prototype,"IsEmpty",{get:function(){return!0}}),Ea.prototype.Contains=function(t,e,n){return!1},Ea.prototype.Remove=function(t,e,n){return this},Ea.prototype.TryRemove=function(t,e,n){},Ea.prototype.AddInPlaceUnsafe=function(t,e,n){return La(e,n)},Ea.prototype.Add=function(t,e,n){return La(e,n)},Ea.prototype.Alter=function(t,e,n,r){return r(!1)?La(e,n):this},Ea.prototype.MapToMap=function(t){return Ya()},Ea.prototype.ChooseToMap=function(t){return Ya()},Ea.prototype.ChooseToMapV=function(t){return Ya()},Ea.prototype.ChooseToMapV2=function(t){return[Ya(),Ya()]},Ea.prototype.Filter=function(t){return Da()},Ea.prototype.Iter=function(t){},Ea.prototype.Fold=function(t,e){return e},Ea.prototype.Exists=function(t){return!1},Ea.prototype.Forall=function(t){return!0},Ea.prototype.CopyTo=function(t,e){};var Ha=nt((function(){xa.call(this)}),ka);function Aa(){return this instanceof Ha?Ha.call(this):new Ha}function La(t,e){var n;return(n=Aa()).Hash=t,n.Value=e,n}Object.defineProperty(Ha.prototype,"Count",{get:function(){return 1}}),Object.defineProperty(Ha.prototype,"LHash",{get:function(){return this.Hash}}),Object.defineProperty(Ha.prototype,"LValue",{get:function(){return this.Value}}),Object.defineProperty(Ha.prototype,"LNext",{get:function(){return null}}),Ha.prototype.ComputeHash=function(){return 0|~~this.Hash},Ha.prototype.ToArray=function(t,e){e.contents>=t.contents.length&&pa(t,2*e.contents),t.contents[e.contents]=this.Value,e.contents=e.contents+1},Object.defineProperty(Ha.prototype,"IsEmpty",{get:function(){return!1}}),Ha.prototype.Accept=function(t){return t.VisitNoCollision(this)},Ha.prototype.Contains=function(t,e,n){return!(e!==this.Hash||!t.Equals(n,this.Value))},Ha.prototype.Remove=function(t,e,n){return e===this.Hash&&t.Equals(n,this.Value)?Da():this},Ha.prototype.TryRemove=function(t,e,n){return e===this.Hash&&t.Equals(n,this.Value)?Da():void 0},Ha.prototype.AddInPlaceUnsafe=function(t,e,n){return this.Hash===e?t.Equals(n,this.Value)?(this.Value=n,this):Ma(this.Hash,this.Value,wa(n,null)):ja(e,La(e,n),this.Hash,this)},Ha.prototype.Add=function(t,e,n){return this.Hash===e?t.Equals(n,this.Value)?this:Ma(this.Hash,this.Value,ma(t,n,null)):ja(e,La(e,n),this.Hash,this)},Ha.prototype.Alter=function(t,e,n,r){return this.Hash===e?t.Equals(n,this.Value)?r(!0)?this:Da():r(!1)?Ma(this.Hash,this.Value,wa(n,null)):this:r(!1)?ja(e,La(e,n),this.Hash,this):this},Ha.prototype.MapToMap=function(t){var e=t(this.Value);return os(this.Hash,this.Value,e)},Ha.prototype.ChooseToMap=function(t){var e=t(this.Value);if(null==e)return Ya();var n=jt(e);return os(this.Hash,this.Value,n)},Ha.prototype.ChooseToMapV=function(t){var e=t(this.Value);if(null==e)return Ya();var n=jt(e);return os(this.Hash,this.Value,n)},Ha.prototype.ChooseToMapV2=function(t){var e,n,r=t(this.Value);if(null!=r[0]){var i=jt(r[0]);e=os(this.Hash,this.Value,i)}else e=Ya();if(null!=r[1]){var o=jt(r[1]);n=os(this.Hash,this.Value,o)}else n=Ya();return[e,n]},Ha.prototype.Filter=function(t){return t(this.Value)?this:Da()},Ha.prototype.Iter=function(t){t(this.Value)},Ha.prototype.Fold=function(t,e){return t(e,this.Value)},Ha.prototype.Exists=function(t){return t(this.Value)},Ha.prototype.Forall=function(t){return t(this.Value)},Ha.prototype.CopyTo=function(t,e){t[e.contents]=this.Value,e.contents=e.contents+1};var Ta=nt((function(){xa.call(this)}),ka);function Oa(){return this instanceof Ta?Ta.call(this):new Ta}function Ma(t,e,n){var r;return(r=Oa()).Hash=t,r.Value=e,r.Next=n,r}Object.defineProperty(Ta.prototype,"Count",{get:function(){for(var t=1,e=this.Next;null!=e;)e=e.Next,t+=1;return 0|t}}),Object.defineProperty(Ta.prototype,"LHash",{get:function(){return this.Hash}}),Object.defineProperty(Ta.prototype,"LValue",{get:function(){return this.Value}}),Object.defineProperty(Ta.prototype,"LNext",{get:function(){return this.Next}}),Ta.prototype.ComputeHash=function(){for(var t=1,e=this.Next;null!=e;)e=e.Next,t+=1;var n=0|t;return 0|~~((n>>>0^2654435769+((0|~~this.Hash)>>>0)+(n>>>0<<6>>>0)+(n>>>0>>>2))>>>0)},Ta.prototype.ToArray=function(t,e){e.contents>=t.contents.length&&pa(t,2*e.contents),t.contents[e.contents]=this.Value,e.contents=e.contents+1;for(var n=this.Next;null!=n;)e.contents>=t.contents.length&&pa(t,2*e.contents),t.contents[e.contents]=n.Value,e.contents=e.contents+1,n=n.Next},Ta.prototype.Accept=function(t){return t.VisitLeaf(this)},Object.defineProperty(Ta.prototype,"IsEmpty",{get:function(){return!1}}),Ta.prototype.Contains=function(t,e,n){return e===this.Hash&&(!!t.Equals(n,this.Value)||function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)return!1;if(r.Equals(o.Value,i))return!0;t=r,e=i,n=o.Next}}(t,n,this.Next))},Ta.prototype.Remove=function(t,e,n){var r,i,o,u;if(e===this.Hash){if(t.Equals(n,this.Value)){var a,s,l=ba(this.Next);return null==l?Da():(a=l[0],null==(s=l[1])?((r=Aa()).Hash=e,r.Value=a,r):((i=Oa()).Hash=e,i.Value=a,i.Next=s,i))}var c=function t(e,n,r){if(null==r)return null;if(e.Equals(r.Value,n))return r.Next;var i=t(e,n,r.Next);return i===r.Next?r:wa(r.Value,i)}(t,n,this.Next);if(c===this.Next)return this;var f=this.Hash,h=this.Value;return null==c?((o=Aa()).Hash=f,o.Value=h,o):((u=Oa()).Hash=f,u.Value=h,u.Next=c,u)}return this},Ta.prototype.TryRemove=function(t,e,n){var r,i,o,u,a,s;if(e===this.Hash){if(t.Equals(n,this.Value)){var l,c,f=ba(this.Next);return null==f?Da():(l=f[0],null==(c=f[1])?((r=Aa()).Hash=e,r.Value=l,r):((i=Oa()).Hash=e,i.Value=l,i.Next=c,i))}var h=function t(e,n,r){if(null!=r){if(e.Equals(r.Value,n))return r.Next;var i=t(e,n,r.Next);if(null!=i){var o=i;return wa(r.Value,o)}}}(t,n,this.Next);if(null==h)return;var p=h;return o=this.Hash,u=this.Value,null==p?((a=Aa()).Hash=o,a.Value=u,a):((s=Oa()).Hash=o,s.Value=u,s.Next=p,s)}},Ta.prototype.AddInPlaceUnsafe=function(t,e,n){return this.Hash===e?t.Equals(n,this.Value)?(this.Value=n,this):(this.Next=function t(e,n,r){return null==r?ga(n):e.Equals(r.Value,n)?(r.Value=n,r):(r.Next=t(e,n,r.Next),r)}(t,n,this.Next),this):ja(e,La(e,n),this.Hash,this)},Ta.prototype.Add=function(t,e,n){return this.Hash===e?t.Equals(n,this.Value)?this:Ma(this.Hash,this.Value,ma(t,n,this.Next)):ja(e,La(e,n),this.Hash,this)},Ta.prototype.Alter=function(t,e,n,r){var i,o,u,a;if(this.Hash===e){if(t.Equals(n,this.Value)){if(r(!0))return this;var s,l,c=ba(this.Next);if(null==c)return Da();s=c[0],l=c[1];var f=this.Hash;return null==l?((i=Aa()).Hash=f,i.Value=s,i):((o=Oa()).Hash=f,o.Value=s,o.Next=l,o)}var h=function t(e,n,r,i){if(null==i)return r(!1)?ga(n):null;if(e.Equals(i.Value,n))return r(!0)?i:i.Next;var o=t(e,n,r,i.Next);return o===i.Next?i:wa(i.Value,o)}(t,n,r,this.Next);if(h===this.Next)return this;var p=this.Hash,d=this.Value;return null==h?((u=Aa()).Hash=p,u.Value=d,u):((a=Oa()).Hash=p,a.Value=d,a.Next=h,a)}return r(!1)?ja(e,La(e,n),this.Hash,this):this},Ta.prototype.MapToMap=function(t){var e=t(this.Value);return ns(this.Hash,this.Value,e,function t(e,n){if(null==n)return null;var r=e(n.Value);return Ga(n.Value,r,t(e,n.Next))}(t,this.Next))},Ta.prototype.ChooseToMap=function(t){var e=t(this.Value);if(null==e){var n,r,i,o=_a(Pa(t,this.Next));return null==o?Ya():(n=o[1],r=o[2],i=o[0],Xa(this.Hash,i,n,r))}var u=jt(e);return Xa(this.Hash,this.Value,u,Pa(t,this.Next))},Ta.prototype.ChooseToMapV=function(t){var e=t(this.Value);if(null==e){var n,r,i,o=_a(Sa(t,this.Next));return null==o?Ya():(n=o[1],r=o[2],i=o[0],Xa(this.Hash,i,n,r))}var u=jt(e);return Xa(this.Hash,this.Value,u,Sa(t,this.Next))},Ta.prototype.ChooseToMapV2=function(t){var e,n,r=t(this.Value),i=function t(e,n){if(null==n)return[null,null];var r,i,o=e(n.Value),u=t(e,n.Next);if(null==o[0])r=u[0];else{var a=jt(o[0]);r=Ga(n.Value,a,u[0])}if(null==o[1])i=u[1];else{var s=jt(o[1]);i=Ga(n.Value,s,u[1])}return[r,i]}(t,this.Next);if(null==r[0]){var o,u,a,s=_a(i[0]);if(null==s)e=Ya();else o=s[1],u=s[2],a=s[0],e=Xa(this.Hash,a,o,u)}else{var l=jt(r[0]);e=Xa(this.Hash,this.Value,l,i[0])}if(null==r[1]){var c,f,h,p=_a(i[1]);if(null==p)n=Ya();else c=p[1],f=p[2],h=p[0],n=Xa(this.Hash,h,c,f)}else{var d=jt(r[1]);n=Xa(this.Hash,this.Value,d,i[1])}return[e,n]},Ta.prototype.Filter=function(t){var e,n,r,i;if(t(this.Value)){var o=this.Hash,u=this.Value,a=Ca(t,this.Next);return null==a?((e=Aa()).Hash=o,e.Value=u,e):((n=Oa()).Hash=o,n.Value=u,n.Next=a,n)}var s,l,c=ba(Ca(t,this.Next));if(null==c)return Da();s=c[0],l=c[1];var f=this.Hash;return null==l?((r=Aa()).Hash=f,r.Value=s,r):((i=Oa()).Hash=f,i.Value=s,i.Next=l,i)},Ta.prototype.Iter=function(t){t(this.Value);for(var e=this.Next;null!=e;)t(e.Value),e=e.Next},Ta.prototype.Fold=function(t,e){for(var n=t(e,this.Value),r=this.Next;null!=r;)n=t(n,r.Value),r=r.Next;return n},Ta.prototype.Exists=function(t){return!!t(this.Value)||function(t,e){for(;;){var n=t,r=e;if(null==r)return!1;if(n(r.Value))return!0;t=n,e=r.Next}}(t,this.Next)},Ta.prototype.Forall=function(t){return!!t(this.Value)&&function(t,e){for(;;){var n=t,r=e;if(null==r)return!0;if(!n(r.Value))return!1;t=n,e=r.Next}}(t,this.Next)},Ta.prototype.CopyTo=function(t,e){t[e.contents]=this.Value,e.contents=e.contents+1,function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)break;i[r.contents]=o.Value,r.contents=r.contents+1,t=r,e=i,n=o.Next}}(e,t,this.Next)};var Ra=nt((function(){Na.call(this)}),Va);function ja(t,e,n,r){if(e.IsEmpty)return r;if(r.IsEmpty)return e;var i,o=(t^n)>>>0;return 0==((t&(i=((o=((o=((o=((o=((o=(o|o>>>1)>>>0)|o>>>2)>>>0)|o>>>4)>>>0)|o>>>8)>>>0)|o>>>16)>>>0)^o>>>1)>>>0))>>>0!=0?1:0)?Fa((t&~((i<<1>>>0)-1)>>>0)>>>0,i,e,r):Fa((t&~((i<<1>>>0)-1)>>>0)>>>0,i,r,e)}function Ka(t,e,n,r){return r.IsEmpty?n:n.IsEmpty?r:Fa(t,e,n,r)}function Fa(t,e,n,r){var i;return(i=function(){return this instanceof Ra?Ra.call(this):new Ra}()).Prefix=t,i.Mask=e,i.Left=n,i.Right=r,i._Count=n.Count+r.Count|0,i}function Ia(t,e){return new va(null,t,e)}function Ga(t,e,n){return new va(n,t,e)}function qa(t,e,n,r){return null==r?Ia(e,n):t.Equals(r.Key,e)?Ga(e,n,r.Next):Ga(r.Key,r.Value,qa(t,e,n,r.Next))}function _a(t){return null==t?void 0:[t.Key,t.Value,t.Next]}function Ua(t,e){for(;;){var n=t,r=e;if(null==r)return null;var i=n(r.Key,r.Value);if(null!=i){var o=jt(i);return Ga(r.Key,o,Ua(n,r.Next))}t=n,e=r.Next}}function Za(t,e){for(;;){var n=t,r=e;if(null==r)return null;var i=n(r.Key,r.Value);if(null!=i){var o=jt(i);return Ga(r.Key,o,Za(n,r.Next))}t=n,e=r.Next}}function Wa(t,e){for(;;){var n=t,r=e;if(null==r)return null;if(n(r.Key,r.Value))return Ga(r.Key,r.Value,Wa(n,r.Next));t=n,e=r.Next}}Object.defineProperty(Ra.prototype,"Count",{get:function(){return 0|this._Count}}),Ra.prototype.ToArray=function(t,e){this.Left.ToArray(t,e),this.Right.ToArray(t,e)},Ra.prototype.ComputeHash=function(){var t=0|~~this.Mask,e=0|this.Left.ComputeHash();return 0|~~((t>>>0^2654435769+(~~((e>>>0^2654435769+((0|this.Right.ComputeHash())>>>0)+(e>>>0<<6>>>0)+(e>>>0>>>2))>>>0)>>>0)+(t>>>0<<6>>>0)+(t>>>0>>>2))>>>0)},Object.defineProperty(Ra.prototype,"IsEmpty",{get:function(){return!1}}),Ra.prototype.Accept=function(t){return t.VisitNode(this)},Ra.prototype.Contains=function(t,e,n){return 0===((e&this.Mask)>>>0!=0?1:0)?this.Left.Contains(t,e,n):this.Right.Contains(t,e,n)},Ra.prototype.Remove=function(t,e,n){var r,i=this.Prefix,o=this.Mask;if(0===(r=(e&~((o<<1>>>0)-1)>>>0)>>>0===i?(e&o)>>>0!=0?1:0:2)){var u=this.Left.Remove(t,e,n);return u===this.Left?this:Ka(this.Prefix,this.Mask,u,this.Right)}if(1===r){var a=this.Right.Remove(t,e,n);return a===this.Right?this:Ka(this.Prefix,this.Mask,this.Left,a)}return this},Ra.prototype.TryRemove=function(t,e,n){var r,i=this.Prefix,o=this.Mask;if(0===(r=(e&~((o<<1>>>0)-1)>>>0)>>>0===i?(e&o)>>>0!=0?1:0:2)){var u=this.Left.TryRemove(t,e,n);if(null==u)return;var a=u;return Ka(this.Prefix,this.Mask,a,this.Right)}if(1===r){var s=this.Right.TryRemove(t,e,n);if(null==s)return;var l=s;return Ka(this.Prefix,this.Mask,this.Left,l)}},Ra.prototype.AddInPlaceUnsafe=function(t,e,n){var r,i=this.Prefix,o=this.Mask;if(0===(r=(e&~((o<<1>>>0)-1)>>>0)>>>0===i?(e&o)>>>0!=0?1:0:2))return this.Left=this.Left.AddInPlaceUnsafe(t,e,n),this._Count=this.Left.Count+this.Right.Count,this;if(1===r)return this.Right=this.Right.AddInPlaceUnsafe(t,e,n),this._Count=this.Left.Count+this.Right.Count,this;var u=La(e,n);return ja(this.Prefix,this,e,u)},Ra.prototype.Add=function(t,e,n){var r,i=this.Prefix,o=this.Mask;if(0===(r=(e&~((o<<1>>>0)-1)>>>0)>>>0===i?(e&o)>>>0!=0?1:0:2))return Fa(this.Prefix,this.Mask,this.Left.Add(t,e,n),this.Right);if(1===r)return Fa(this.Prefix,this.Mask,this.Left,this.Right.Add(t,e,n));var u=La(e,n);return ja(this.Prefix,this,e,u)},Ra.prototype.Alter=function(t,e,n,r){var i,o=this.Prefix,u=this.Mask;if(0===(i=(e&~((u<<1>>>0)-1)>>>0)>>>0===o?(e&u)>>>0!=0?1:0:2)){var a=this.Left.Alter(t,e,n,r);return a===this.Left?this:Ka(this.Prefix,this.Mask,a,this.Right)}if(1===i){var s=this.Right.Alter(t,e,n,r);return s===this.Right?this:Ka(this.Prefix,this.Mask,this.Left,s)}if(r(!1)){var l=La(e,n);return ja(this.Prefix,this,e,l)}return this},Ra.prototype.MapToMap=function(t){return ls(this.Prefix,this.Mask,this.Left.MapToMap(t),this.Right.MapToMap(t))},Ra.prototype.ChooseToMap=function(t){return ss(this.Prefix,this.Mask,this.Left.ChooseToMap(t),this.Right.ChooseToMap(t))},Ra.prototype.ChooseToMapV=function(t){return ss(this.Prefix,this.Mask,this.Left.ChooseToMapV(t),this.Right.ChooseToMapV(t))},Ra.prototype.ChooseToMapV2=function(t){var e=this.Left.ChooseToMapV2(t),n=this.Right.ChooseToMapV2(t);return[ss(this.Prefix,this.Mask,e[0],n[0]),ss(this.Prefix,this.Mask,e[1],n[1])]},Ra.prototype.Filter=function(t){return Ka(this.Prefix,this.Mask,this.Left.Filter(t),this.Right.Filter(t))},Ra.prototype.Iter=function(t){this.Left.Iter(t),this.Right.Iter(t)},Ra.prototype.Fold=function(t,e){var n=this.Left.Fold(t,e);return this.Right.Fold(t,n)},Ra.prototype.Exists=function(t){return!!this.Left.Exists(t)||this.Right.Exists(t)},Ra.prototype.Forall=function(t){return!!this.Left.Forall(t)&&this.Right.Forall(t)},Ra.prototype.CopyTo=function(t,e){this.Left.CopyTo(t,e),this.Right.CopyTo(t,e)};var za=nt((function(){}));function Ja(){return this instanceof za?za.call(this):new za}var Ba=nt((function(){Ja.call(this)}),za);function $a(){return this instanceof Ba?Ba.call(this):new Ba}function Xa(t,e,n,r){var i,o;return null==r?((i=is()).Hash=t,i.Key=e,i.Value=n,i):((o=es()).Hash=t,o.Key=e,o.Value=n,o.Next=r,o)}var Qa=nt((function(){Ja.call(this)}),za);function Ya(){return Qa.instance}Qa.instance=function(){return this instanceof Qa?Qa.call(this):new Qa}(),Object.defineProperty(Qa.prototype,"Count",{get:function(){return 0}}),Qa.prototype.ComputeHash=function(){return 0},Qa.prototype.ToArray=function(t,e){},Qa.prototype.GetKeys=function(){return Da()},Qa.prototype.Accept=function(t){return t.VisitEmpty(this)},Object.defineProperty(Qa.prototype,"IsEmpty",{get:function(){return!0}}),Qa.prototype.TryFind=function(t,e,n){},Qa.prototype.TryFindV=function(t,e,n){},Qa.prototype.ContainsKey=function(t,e,n){return!1},Qa.prototype.Remove=function(t,e,n){return this},Qa.prototype.TryRemove=function(t,e,n){},Qa.prototype.AddInPlaceUnsafe=function(t,e,n,r){return os(e,n,r)},Qa.prototype.Add=function(t,e,n,r){return os(e,n,r)},Qa.prototype.Alter=function(t,e,n,r){var i=r(void 0);return null!=i?os(e,n,jt(i)):this},Qa.prototype.AlterV=function(t,e,n,r){var i=r(void 0);return null!=i?os(e,n,jt(i)):this},Qa.prototype.Map=function(t){return Ya()},Qa.prototype.Choose=function(t){return Ya()},Qa.prototype.ChooseV=function(t){return Ya()},Qa.prototype.ChooseV2=function(t){return[Ya(),Ya()]},Qa.prototype.ChooseSV2=function(t){return[Da(),Ya()]},Qa.prototype.Filter=function(t){return Ya()},Qa.prototype.Iter=function(t){},Qa.prototype.Fold=function(t,e){return e},Qa.prototype.Exists=function(t){return!1},Qa.prototype.Forall=function(t){return!0},Qa.prototype.CopyTo=function(t,e){},Qa.prototype.CopyToV=function(t,e){};var ts=nt((function(){$a.call(this)}),Ba);function es(){return this instanceof ts?ts.call(this):new ts}function ns(t,e,n,r){var i;return(i=es()).Hash=t,i.Key=e,i.Value=n,i.Next=r,i}Object.defineProperty(ts.prototype,"Count",{get:function(){for(var t=1,e=this.Next;null!=e;)e=e.Next,t+=1;return 0|t}}),Object.defineProperty(ts.prototype,"LHash",{get:function(){return this.Hash}}),Object.defineProperty(ts.prototype,"LKey",{get:function(){return this.Key}}),Object.defineProperty(ts.prototype,"LValue",{get:function(){return this.Value}}),Object.defineProperty(ts.prototype,"LNext",{get:function(){return this.Next}}),ts.prototype.ComputeHash=function(){var t,e,n=this.Value;e=fa().GetHashCode(n);for(var r=this.Next;null!=r;)e^=(t=r.Value,fa().GetHashCode(t)),r=r.Next;var i=0|~~this.Hash;return 0|~~((i>>>0^2654435769+((0|e)>>>0)+(i>>>0<<6>>>0)+(i>>>0>>>2))>>>0)},ts.prototype.ToArray=function(t,e){e.contents>=t.contents.length&&pa(t,2*e.contents),t.contents[e.contents]=[this.Key,this.Value],e.contents=e.contents+1;for(var n=this.Next;null!=n;)e.contents>=t.contents.length&&pa(t,2*e.contents),t.contents[e.contents]=[n.Key,n.Value],e.contents=e.contents+1,n=n.Next},ts.prototype.GetKeys=function(){return Ma(this.Hash,this.Key,function t(e){return null==e?null:wa(e.Key,t(e.Next))}(this.Next))},ts.prototype.Accept=function(t){return t.VisitLeaf(this)},Object.defineProperty(ts.prototype,"IsEmpty",{get:function(){return!1}}),ts.prototype.TryFind=function(t,e,n){return e===this.Hash?t.Equals(n,this.Key)?Rt(this.Value):function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)return;if(r.Equals(o.Key,i))return Rt(o.Value);t=r,e=i,n=o.Next}}(t,n,this.Next):void 0},ts.prototype.TryFindV=function(t,e,n){return e===this.Hash?t.Equals(n,this.Key)?Rt(this.Value):function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)return;if(r.Equals(o.Key,i))return Rt(o.Value);t=r,e=i,n=o.Next}}(t,n,this.Next):void 0},ts.prototype.ContainsKey=function(t,e,n){return e===this.Hash&&(!!t.Equals(n,this.Key)||function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)return!1;if(r.Equals(o.Key,i))return!0;t=r,e=i,n=o.Next}}(t,n,this.Next))},ts.prototype.Remove=function(t,e,n){if(e===this.Hash){if(t.Equals(n,this.Key)){var r,i,o=_a(this.Next);return null==o?Ya():(r=o[1],i=o[2],Xa(e,o[0],r,i))}var u=function t(e,n,r){if(null==r)return null;if(e.Equals(r.Key,n))return r.Next;var i=t(e,n,r.Next);return i===r.Next?r:Ga(r.Key,r.Value,i)}(t,n,this.Next);return u===this.Next?this:Xa(this.Hash,this.Key,this.Value,u)}return this},ts.prototype.TryRemove=function(t,e,n){if(e===this.Hash){if(t.Equals(n,this.Key)){var r,i,o,u=_a(this.Next);return null==u?[this.Value,Ya()]:(r=u[1],i=u[2],o=u[0],[this.Value,Xa(e,o,r,i)])}var a,s,l=function t(e,n,r){if(null!=r){if(e.Equals(r.Key,n))return[r.Value,r.Next];var i,o,u=t(e,n,r.Next);if(null!=u)return i=u[0],o=u[1],[i,Ga(r.Key,r.Value,o)]}}(t,n,this.Next);if(null==l)return;return a=l[0],s=l[1],[a,Xa(this.Hash,this.Key,this.Value,s)]}},ts.prototype.AddInPlaceUnsafe=function(t,e,n,r){return this.Hash===e?t.Equals(n,this.Key)?(this.Key=n,this.Value=r,this):(this.Next=function t(e,n,r,i){return null==i?Ia(n,r):e.Equals(i.Key,n)?(i.Key=n,i.Value=r,i):(i.Next=t(e,n,r,i.Next),i)}(t,n,r,this.Next),this):as(e,os(e,n,r),this.Hash,this)},ts.prototype.Add=function(t,e,n,r){return this.Hash===e?t.Equals(n,this.Key)?ns(this.Hash,n,r,this.Next):ns(this.Hash,this.Key,this.Value,qa(t,n,r,this.Next)):as(e,os(e,n,r),this.Hash,this)},ts.prototype.Alter=function(t,e,n,r){if(this.Hash===e){if(t.Equals(n,this.Key)){var i=r(Rt(this.Value));if(null!=i){var o=jt(i);return ns(this.Hash,this.Key,o,this.Next)}var u,a,s,l=_a(this.Next);return null==l?Ya():(u=l[1],a=l[2],s=l[0],Xa(this.Hash,s,u,a))}var c=function t(e,n,r,i){if(null==i){var o=r(void 0);return null==o?null:Ia(n,jt(o))}if(e.Equals(i.Key,n)){var u=r(Rt(i.Value));return null==u?i.Next:Ga(n,jt(u),i.Next)}var a=t(e,n,r,i.Next);return a===i.Next?i:Ga(i.Key,i.Value,a)}(t,n,r,this.Next);return c===this.Next?this:Xa(this.Hash,this.Key,this.Value,c)}var f=r(void 0);return null!=f?as(e,os(e,n,jt(f)),this.Hash,this):this},ts.prototype.AlterV=function(t,e,n,r){if(this.Hash===e){if(t.Equals(n,this.Key)){var i=r(Rt(this.Value));if(null!=i){var o=jt(i);return ns(this.Hash,this.Key,o,this.Next)}var u,a,s,l=_a(this.Next);return null==l?Ya():(u=l[1],a=l[2],s=l[0],Xa(this.Hash,s,u,a))}var c=function t(e,n,r,i){if(null==i){var o=r(void 0);return null==o?null:Ia(n,jt(o))}if(e.Equals(i.Key,n)){var u=r(Rt(i.Value));return null==u?i.Next:Ga(n,jt(u),i.Next)}var a=t(e,n,r,i.Next);return a===i.Next?i:Ga(i.Key,i.Value,a)}(t,n,r,this.Next);return c===this.Next?this:Xa(this.Hash,this.Key,this.Value,c)}var f=r(void 0);return null!=f?as(e,os(e,n,jt(f)),this.Hash,this):this},ts.prototype.Map=function(t){var e=t(this.Key,this.Value);return ns(this.Hash,this.Key,e,function t(e,n){if(null==n)return null;var r=e(n.Key,n.Value);return Ga(n.Key,r,t(e,n.Next))}(t,this.Next))},ts.prototype.Choose=function(t){var e=t(this.Key,this.Value);if(null==e){var n,r,i,o=_a(Ua(t,this.Next));return null==o?Ya():(n=o[1],r=o[2],i=o[0],Xa(this.Hash,i,n,r))}var u=jt(e);return Xa(this.Hash,this.Key,u,Ua(t,this.Next))},ts.prototype.ChooseV=function(t){var e=t(this.Key,this.Value);if(null==e){var n,r,i,o=_a(Za(t,this.Next));return null==o?Ya():(n=o[1],r=o[2],i=o[0],Xa(this.Hash,i,n,r))}var u=jt(e);return Xa(this.Hash,this.Key,u,Za(t,this.Next))},ts.prototype.ChooseV2=function(t){var e,n,r=t(this.Key,this.Value),i=function t(e,n){if(null==n)return[null,null];var r,i,o=e(n.Key,n.Value),u=t(e,n.Next);if(null==o[0])r=u[0];else{var a=jt(o[0]);r=Ga(n.Key,a,u[0])}if(null==o[1])i=u[1];else{var s=jt(o[1]);i=Ga(n.Key,s,u[1])}return[r,i]}(t,this.Next);if(null==r[0]){var o,u,a,s=_a(i[0]);if(null==s)e=Ya();else o=s[1],u=s[2],a=s[0],e=Xa(this.Hash,a,o,u)}else{var l=jt(r[0]);e=Xa(this.Hash,this.Key,l,i[0])}if(null==r[1]){var c,f,h,p=_a(i[1]);if(null==p)n=Ya();else c=p[1],f=p[2],h=p[0],n=Xa(this.Hash,h,c,f)}else{var d=jt(r[1]);n=Xa(this.Hash,this.Key,d,i[1])}return[e,n]},ts.prototype.ChooseSV2=function(t){var e,n,r,i,o,u,a=t(this.Key,this.Value),s=function t(e,n){if(null==n)return[null,null];var r,i=e(n.Key,n.Value),o=t(e,n.Next),u=i[0]?wa(n.Key,o[0]):o[0];if(null==i[1])r=o[1];else{var a=jt(i[1]);r=Ga(n.Key,a,o[1])}return[u,r]}(t,this.Next);if(a[0]){var l=this.Hash,c=this.Key;o=null==s[0]?((e=Aa()).Hash=l,e.Value=c,e):((n=Oa()).Hash=l,n.Value=c,n.Next=s[0],n)}else{var f=ba(s[0]);if(null==f)o=Da();else{var h,p;h=f[0],p=f[1];var d=this.Hash;o=null==p?((r=Aa()).Hash=d,r.Value=h,r):((i=Oa()).Hash=d,i.Value=h,i.Next=p,i)}}if(null==a[1]){var y,v,g,w=_a(s[1]);if(null==w)u=Ya();else y=w[1],v=w[2],g=w[0],u=Xa(this.Hash,g,y,v)}else{var m=jt(a[1]);u=Xa(this.Hash,this.Key,m,s[1])}return[o,u]},ts.prototype.Filter=function(t){if(t(this.Key,this.Value))return Xa(this.Hash,this.Key,this.Value,Wa(t,this.Next));var e,n,r,i=_a(Wa(t,this.Next));return null==i?Ya():(e=i[1],n=i[2],r=i[0],Xa(this.Hash,r,e,n))},ts.prototype.Iter=function(t){t(this.Key,this.Value);for(var e=this.Next;null!=e;)t(e.Key,e.Value),e=e.Next},ts.prototype.Fold=function(t,e){for(var n=t(e,this.Key,this.Value),r=this.Next;null!=r;)n=t(n,r.Key,r.Value),r=r.Next;return n},ts.prototype.Exists=function(t){return!!t(this.Key,this.Value)||function(t,e){for(;;){var n=t,r=e;if(null==r)return!1;if(n(r.Key,r.Value))return!0;t=n,e=r.Next}}(t,this.Next)},ts.prototype.Forall=function(t){return!!t(this.Key,this.Value)&&function(t,e){for(;;){var n=t,r=e;if(null==r)return!0;if(!n(r.Key,r.Value))return!1;t=n,e=r.Next}}(t,this.Next)},ts.prototype.CopyTo=function(t,e){t[e.contents]=[this.Key,this.Value],e.contents=e.contents+1,function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)break;i[r.contents]=[o.Key,o.Value],r.contents=r.contents+1,t=r,e=i,n=o.Next}}(e,t,this.Next)},ts.prototype.CopyToV=function(t,e){t[e.contents]=[this.Key,this.Value],e.contents=e.contents+1,function(t,e,n){for(;;){var r=t,i=e,o=n;if(null==o)break;i[r.contents]=[o.Key,o.Value],r.contents=r.contents+1,t=r,e=i,n=o.Next}}(e,t,this.Next)};var rs=nt((function(){$a.call(this)}),Ba);function is(){return this instanceof rs?rs.call(this):new rs}function os(t,e,n){var r;return(r=is()).Hash=t,r.Key=e,r.Value=n,r}Object.defineProperty(rs.prototype,"Count",{get:function(){return 1}}),Object.defineProperty(rs.prototype,"LHash",{get:function(){return this.Hash}}),Object.defineProperty(rs.prototype,"LKey",{get:function(){return this.Key}}),Object.defineProperty(rs.prototype,"LValue",{get:function(){return this.Value}}),Object.defineProperty(rs.prototype,"LNext",{get:function(){return null}}),rs.prototype.ComputeHash=function(){var t=0|~~this.Hash,e=this.Value;return 0|~~((t>>>0^2654435769+(fa().GetHashCode(e)>>>0)+(t>>>0<<6>>>0)+(t>>>0>>>2))>>>0)},rs.prototype.GetKeys=function(){return La(this.Hash,this.Key)},rs.prototype.ToArray=function(t,e){e.contents>=t.contents.length&&pa(t,2*e.contents),t.contents[e.contents]=[this.Key,this.Value],e.contents=e.contents+1},Object.defineProperty(rs.prototype,"IsEmpty",{get:function(){return!1}}),rs.prototype.Accept=function(t){return t.VisitNoCollision(this)},rs.prototype.TryFind=function(t,e,n){return e===this.Hash&&t.Equals(n,this.Key)?Rt(this.Value):void 0},rs.prototype.TryFindV=function(t,e,n){return e===this.Hash&&t.Equals(n,this.Key)?Rt(this.Value):void 0},rs.prototype.ContainsKey=function(t,e,n){return!(e!==this.Hash||!t.Equals(n,this.Key))},rs.prototype.Remove=function(t,e,n){return e===this.Hash&&t.Equals(n,this.Key)?Ya():this},rs.prototype.TryRemove=function(t,e,n){return e===this.Hash&&t.Equals(n,this.Key)?[this.Value,Ya()]:void 0},rs.prototype.AddInPlaceUnsafe=function(t,e,n,r){return this.Hash===e?t.Equals(n,this.Key)?(this.Key=n,this.Value=r,this):ns(this.Hash,this.Key,this.Value,Ga(n,r,null)):as(e,os(e,n,r),this.Hash,this)},rs.prototype.Add=function(t,e,n,r){return this.Hash===e?t.Equals(n,this.Key)?os(this.Hash,n,r):ns(this.Hash,this.Key,this.Value,qa(t,n,r,null)):as(e,os(e,n,r),this.Hash,this)},rs.prototype.Alter=function(t,e,n,r){if(this.Hash===e){if(t.Equals(n,this.Key)){var i=r(Rt(this.Value));if(null==i)return Ya();var o=jt(i);return os(this.Hash,this.Key,o)}var u=r(void 0);if(null!=u){var a=jt(u);return ns(this.Hash,this.Key,this.Value,Ga(n,a,null))}return this}var s=r(void 0);return null!=s?as(e,os(e,n,jt(s)),this.Hash,this):this},rs.prototype.AlterV=function(t,e,n,r){if(this.Hash===e){if(t.Equals(n,this.Key)){var i=r(Rt(this.Value));if(null==i)return Ya();var o=jt(i);return os(this.Hash,this.Key,o)}var u=r(void 0);if(null!=u){var a=jt(u);return ns(this.Hash,this.Key,this.Value,Ga(n,a,null))}return this}var s=r(void 0);return null!=s?as(e,os(e,n,jt(s)),this.Hash,this):this},rs.prototype.Map=function(t){var e=t(this.Key,this.Value);return os(this.Hash,this.Key,e)},rs.prototype.Choose=function(t){var e=t(this.Key,this.Value);if(null==e)return Ya();var n=jt(e);return os(this.Hash,this.Key,n)},rs.prototype.ChooseV=function(t){var e=t(this.Key,this.Value);if(null==e)return Ya();var n=jt(e);return os(this.Hash,this.Key,n)},rs.prototype.ChooseV2=function(t){var e,n,r=t(this.Key,this.Value);if(null!=r[0]){var i=jt(r[0]);e=os(this.Hash,this.Key,i)}else e=Ya();if(null!=r[1]){var o=jt(r[1]);n=os(this.Hash,this.Key,o)}else n=Ya();return[e,n]},rs.prototype.ChooseSV2=function(t){var e,n=t(this.Key,this.Value),r=n[0]?La(this.Hash,this.Key):Da();if(null!=n[1]){var i=jt(n[1]);e=os(this.Hash,this.Key,i)}else e=Ya();return[r,e]},rs.prototype.Filter=function(t){return t(this.Key,this.Value)?os(this.Hash,this.Key,this.Value):Ya()},rs.prototype.Iter=function(t){t(this.Key,this.Value)},rs.prototype.Fold=function(t,e){return t(e,this.Key,this.Value)},rs.prototype.Exists=function(t){return t(this.Key,this.Value)},rs.prototype.Forall=function(t){return t(this.Key,this.Value)},rs.prototype.CopyTo=function(t,e){t[e.contents]=[this.Key,this.Value],e.contents=e.contents+1},rs.prototype.CopyToV=function(t,e){t[e.contents]=[this.Key,this.Value],e.contents=e.contents+1};var us=nt((function(){Ja.call(this)}),za);function as(t,e,n,r){if(e.IsEmpty)return r;if(r.IsEmpty)return e;var i,o=(t^n)>>>0;return 0==((t&(i=((o=((o=((o=((o=((o=(o|o>>>1)>>>0)|o>>>2)>>>0)|o>>>4)>>>0)|o>>>8)>>>0)|o>>>16)>>>0)^o>>>1)>>>0))>>>0!=0?1:0)?ls((t&~((i<<1>>>0)-1)>>>0)>>>0,i,e,r):ls((t&~((i<<1>>>0)-1)>>>0)>>>0,i,r,e)}function ss(t,e,n,r){return r.IsEmpty?n:n.IsEmpty?r:ls(t,e,n,r)}function ls(t,e,n,r){var i;return(i=function(){return this instanceof us?us.call(this):new us}()).Prefix=t,i.Mask=e,i.Left=n,i.Right=r,i._Count=n.Count+r.Count|0,i}us.prototype.ComputeHash=function(){var t=0|~~this.Mask,e=0|this.Left.ComputeHash();return 0|~~((t>>>0^2654435769+(~~((e>>>0^2654435769+((0|this.Right.ComputeHash())>>>0)+(e>>>0<<6>>>0)+(e>>>0>>>2))>>>0)>>>0)+(t>>>0<<6>>>0)+(t>>>0>>>2))>>>0)},us.prototype.GetKeys=function(){return Fa(this.Prefix,this.Mask,this.Left.GetKeys(),this.Right.GetKeys())},Object.defineProperty(us.prototype,"Count",{get:function(){return 0|this._Count}}),us.prototype.ToArray=function(t,e){this.Left.ToArray(t,e),this.Right.ToArray(t,e)},Object.defineProperty(us.prototype,"IsEmpty",{get:function(){return!1}}),us.prototype.Accept=function(t){return t.VisitNode(this)},us.prototype.TryFind=function(t,e,n){return 0===((e&this.Mask)>>>0!=0?1:0)?this.Left.TryFind(t,e,n):this.Right.TryFind(t,e,n)},us.prototype.TryFindV=function(t,e,n){return 0===((e&this.Mask)>>>0!=0?1:0)?this.Left.TryFindV(t,e,n):this.Right.TryFindV(t,e,n)},us.prototype.ContainsKey=function(t,e,n){return 0===((e&this.Mask)>>>0!=0?1:0)?this.Left.ContainsKey(t,e,n):this.Right.ContainsKey(t,e,n)},us.prototype.Remove=function(t,e,n){var r,i=this.Prefix,o=this.Mask;if(0===(r=(e&~((o<<1>>>0)-1)>>>0)>>>0===i?(e&o)>>>0!=0?1:0:2)){var u=this.Left.Remove(t,e,n);return u===this.Left?this:ss(this.Prefix,this.Mask,u,this.Right)}if(1===r){var a=this.Right.Remove(t,e,n);return a===this.Right?this:ss(this.Prefix,this.Mask,this.Left,a)}return this},us.prototype.TryRemove=function(t,e,n){var r,i=this.Prefix,o=this.Mask;if(0===(r=(e&~((o<<1>>>0)-1)>>>0)>>>0===i?(e&o)>>>0!=0?1:0:2)){var u,a,s=this.Left.TryRemove(t,e,n);if(null==s)return;return u=s[0],a=s[1],[u,ss(this.Prefix,this.Mask,a,this.Right)]}if(1===r){var l,c,f=this.Right.TryRemove(t,e,n);if(null==f)return;return l=f[0],c=f[1],[l,ss(this.Prefix,this.Mask,this.Left,c)]}},us.prototype.AddInPlaceUnsafe=function(t,e,n,r){var i,o=this.Prefix,u=this.Mask;if(0===(i=(e&~((u<<1>>>0)-1)>>>0)>>>0===o?(e&u)>>>0!=0?1:0:2))return this.Left=this.Left.AddInPlaceUnsafe(t,e,n,r),this._Count=this.Left.Count+this.Right.Count,this;if(1===i)return this.Right=this.Right.AddInPlaceUnsafe(t,e,n,r),this._Count=this.Left.Count+this.Right.Count,this;var a=os(e,n,r);return as(this.Prefix,this,e,a)},us.prototype.Add=function(t,e,n,r){var i,o=this.Prefix,u=this.Mask;if(0===(i=(e&~((u<<1>>>0)-1)>>>0)>>>0===o?(e&u)>>>0!=0?1:0:2))return ls(this.Prefix,this.Mask,this.Left.Add(t,e,n,r),this.Right);if(1===i)return ls(this.Prefix,this.Mask,this.Left,this.Right.Add(t,e,n,r));var a=os(e,n,r);return as(this.Prefix,this,e,a)},us.prototype.Alter=function(t,e,n,r){var i,o=this.Prefix,u=this.Mask;if(0===(i=(e&~((u<<1>>>0)-1)>>>0)>>>0===o?(e&u)>>>0!=0?1:0:2)){var a=this.Left.Alter(t,e,n,r);return a===this.Left?this:ss(this.Prefix,this.Mask,a,this.Right)}if(1===i){var s=this.Right.Alter(t,e,n,r);return s===this.Right?this:ss(this.Prefix,this.Mask,this.Left,s)}var l=r(void 0);if(null!=l){var c=os(e,n,jt(l));return as(this.Prefix,this,e,c)}return this},us.prototype.AlterV=function(t,e,n,r){var i,o=this.Prefix,u=this.Mask;if(0===(i=(e&~((u<<1>>>0)-1)>>>0)>>>0===o?(e&u)>>>0!=0?1:0:2)){var a=this.Left.AlterV(t,e,n,r);return a===this.Left?this:ss(this.Prefix,this.Mask,a,this.Right)}if(1===i){var s=this.Right.AlterV(t,e,n,r);return s===this.Right?this:ss(this.Prefix,this.Mask,this.Left,s)}var l=r(void 0);if(null!=l){var c=os(e,n,jt(l));return as(this.Prefix,this,e,c)}return this},us.prototype.Map=function(t){return ls(this.Prefix,this.Mask,this.Left.Map(t),this.Right.Map(t))},us.prototype.Choose=function(t){return ss(this.Prefix,this.Mask,this.Left.Choose(t),this.Right.Choose(t))},us.prototype.ChooseV=function(t){return ss(this.Prefix,this.Mask,this.Left.ChooseV(t),this.Right.ChooseV(t))},us.prototype.ChooseV2=function(t){var e=this.Left.ChooseV2(t),n=this.Right.ChooseV2(t);return[ss(this.Prefix,this.Mask,e[0],n[0]),ss(this.Prefix,this.Mask,e[1],n[1])]},us.prototype.ChooseSV2=function(t){var e=this.Left.ChooseSV2(t),n=this.Right.ChooseSV2(t);return[Ka(this.Prefix,this.Mask,e[0],n[0]),ss(this.Prefix,this.Mask,e[1],n[1])]},us.prototype.Filter=function(t){return ss(this.Prefix,this.Mask,this.Left.Filter(t),this.Right.Filter(t))},us.prototype.Iter=function(t){this.Left.Iter(t),this.Right.Iter(t)},us.prototype.Fold=function(t,e){var n=this.Left.Fold(t,e);return this.Right.Fold(t,n)},us.prototype.Exists=function(t){return!!this.Left.Exists(t)||this.Right.Exists(t)},us.prototype.Forall=function(t){return!!this.Left.Forall(t)&&this.Right.Forall(t)},us.prototype.CopyTo=function(t,e){this.Left.CopyTo(t,e),this.Right.CopyTo(t,e)},us.prototype.CopyToV=function(t,e){this.Left.CopyToV(t,e),this.Right.CopyToV(t,e)};var cs=nt((function(){}));function fs(){return this instanceof cs?cs.call(this):new cs}var hs=nt((function(){}));function ps(){return this instanceof hs?hs.call(this):new hs}var ds=nt((function(){}));function ys(){return this instanceof ds?ds.call(this):new ds}nt((function(){}));var vs=nt((function(){}));function gs(){return this instanceof vs?vs.call(this):new vs}var ws=nt((function(t,e){ps.call(this),this.real=t,this.node=e}),hs);ws.prototype.VisitLeaf=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitLL(t,n)},VisitNode:function(n){return e.real.VisitLN(t,n)},VisitNoCollision:function(n){return e.real.VisitLL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},ws.prototype.VisitNode=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitNL(t,n)},VisitNode:function(n){return e.real.VisitNN(t,n)},VisitNoCollision:function(n){return e.real.VisitNL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},ws.prototype.VisitNoCollision=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitLL(t,n)},VisitNode:function(n){return e.real.VisitLN(t,n)},VisitNoCollision:function(n){return e.real.VisitLL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},ws.prototype.VisitEmpty=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitEA(t,n)},VisitNode:function(n){return e.real.VisitEA(t,n)},VisitNoCollision:function(n){return e.real.VisitEA(t,n)},VisitEmpty:function(n){return e.real.VisitEE(t,n)}}))};var ms=nt((function(t,e){fs.call(this),this.real=t,this.node=e}),cs);ms.prototype.VisitLeaf=function(t){var e=this;return e.node.Accept(l(fs(),{VisitLeaf:function(n){return e.real.VisitLL(t,n)},VisitNode:function(n){return e.real.VisitLN(t,n)},VisitNoCollision:function(n){return e.real.VisitLL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},ms.prototype.VisitNode=function(t){var e=this;return e.node.Accept(l(fs(),{VisitLeaf:function(n){return e.real.VisitNL(t,n)},VisitNode:function(n){return e.real.VisitNN(t,n)},VisitNoCollision:function(n){return e.real.VisitNL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},ms.prototype.VisitNoCollision=function(t){var e=this;return e.node.Accept(l(fs(),{VisitLeaf:function(n){return e.real.VisitLL(t,n)},VisitNode:function(n){return e.real.VisitLN(t,n)},VisitNoCollision:function(n){return e.real.VisitLL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},ms.prototype.VisitEmpty=function(t){var e=this;return e.node.Accept(l(fs(),{VisitLeaf:function(n){return e.real.VisitEA(t,n)},VisitNode:function(n){return e.real.VisitEA(t,n)},VisitNoCollision:function(n){return e.real.VisitEA(t,n)},VisitEmpty:function(n){return e.real.VisitEE(t,n)}}))};var bs=nt((function(t,e){fs.call(this),this.real=t,this.node=e}),cs);function Cs(t,e,n){return e.Accept(function(t,e){return this instanceof ws?ws.call(this,t,e):new ws(t,e)}(t,n))}function Ps(t,e,n){var r=new ht(0),i=new ht(hi(new Array(4),0,4,null)),o=l(ys(),{VisitEA:function(t,e){return!1},VisitAE:function(t,e){return!1},VisitLN:function(t,e){return!1},VisitNL:function(t,e){return!1},VisitEE:function(t,e){return!0},VisitLL:function(e,n){if(e===n)return!0;if(e.LHash===n.LHash){var o=n,u=e.LHash;r.contents=0,e.ToArray(i,r);for(var a=0|r.contents,s=0,l=!0;l&&s<a;){var c=i.contents[s],f=o.TryRemove(t,u,c[0]);if(null==f)l=!1;else{var h;h=f[0];var p;p=f[1],l=fa().Equals(c[1],h),o=p}s+=1}return!!l&&o.IsEmpty}return!1},VisitNN:function(t,e){return t===e||!(t.Mask!==e.Mask||t.Prefix!==e.Prefix||!Cs(this,t.Left,e.Left))&&Cs(this,t.Right,e.Right)}});return Cs(o,e,n)}function Ss(t,e,n){return e.Accept(function(t,e){return this instanceof ms?ms.call(this,t,e):new ms(t,e)}(t,n))}function Vs(t,e,n){var r=new ht(0),i=new ht(hi(new Array(4),0,4,null)),o=l(gs(),{VisitEA:function(t,e){return!1},VisitAE:function(t,e){return!1},VisitLN:function(t,e){return!1},VisitNL:function(t,e){return!1},VisitEE:function(t,e){return!0},VisitLL:function(e,n){if(e===n)return!0;if(e.LHash===n.LHash){r.contents=0;var o=n,u=e.LHash;e.ToArray(i,r);for(var a=0|r.contents,s=0,l=!0;l&&s<a;){var c=i.contents[s],f=o.TryRemove(t,u,c);if(null==f)l=!1;else o=f;s+=1}return!!l&&o.IsEmpty}return!1},VisitNN:function(t,e){return t===e||!(t.Mask!==e.Mask||t.Prefix!==e.Prefix||!Ss(this,t.Left,e.Left))&&Ss(this,t.Right,e.Right)}});return Ss(o,e,n)}bs.prototype.VisitLeaf=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitLL(t,n)},VisitNode:function(n){return e.real.VisitLN(t,n)},VisitNoCollision:function(n){return e.real.VisitLL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},bs.prototype.VisitNode=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitNL(t,n)},VisitNode:function(n){return e.real.VisitNN(t,n)},VisitNoCollision:function(n){return e.real.VisitNL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},bs.prototype.VisitNoCollision=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitLL(t,n)},VisitNode:function(n){return e.real.VisitLN(t,n)},VisitNoCollision:function(n){return e.real.VisitLL(t,n)},VisitEmpty:function(n){return e.real.VisitAE(t,n)}}))},bs.prototype.VisitEmpty=function(t){var e=this;return e.node.Accept(l(ps(),{VisitLeaf:function(n){return e.real.VisitEA(t,n)},VisitNode:function(n){return e.real.VisitEA(t,n)},VisitNoCollision:function(n){return e.real.VisitEA(t,n)},VisitEmpty:function(n){return e.real.VisitEE(t,n)}}))};var Ns=nt((function(t,e){this.cmp=t,this.root=e}),ct);function ks(t){return t.root}Ns.prototype.toString=function(){if(this.root.Count>8){var t,e;e=Cn(8,this);var n=qn(Gn("%A"));return t=Zn("; ",yn((function(t){return n(t)}),e)),qn(Gn("HashSet [%s; ...]"))(t)}var r,i=qn(Gn("%A"));return r=Zn("; ",yn((function(t){return i(t)}),this)),qn(Gn("HashSet [%s]"))(r)},Ns.prototype.GetHashCode=function(){return 0|this.root.ComputeHash()},Ns.prototype.Equals=function(t){return t instanceof Ns&&Vs(this.cmp,this.root,ks(t))},Ns.prototype[Symbol.iterator]=function(){return nn(function(t){return this instanceof xs?xs.call(this,t):new xs(t)}(this.root))};var xs=nt((function(t){this.root=t,this.stack=new ot(this.root,new ot),this.linked=null,this.current=null}));xs.prototype.MoveNext=function(){return function t(e){if(null!=e.linked)return e.current=e.linked.Value,e.linked=e.linked.Next,!0;var n,r,i,o,u,a,s,l,c=e.stack;switch(null!=c.tail?c.head instanceof Ea?(n=0,r=c.tail):c.head instanceof Ha?(n=1,i=c.head,o=c.tail):c.head instanceof Ta?(n=2,u=c.head,a=c.tail):c.head instanceof Ra?(n=3,s=c.head,l=c.tail):n=4:n=4,n){case 0:return e.stack=r,t(e);case 1:return e.stack=o,e.current=i.Value,!0;case 2:return e.stack=a,e.current=u.Value,e.linked=u.Next,!0;case 3:return e.stack=new ot(s.Left,new ot(s.Right,l)),t(e);case 4:return!1}}(this)},xs.prototype.Reset=function(){var t;(t=this).stack=new ot(t.root,new ot),t.linked=null,t.current=null},xs.prototype.Dispose=function(){var t;(t=this).stack=new ot,t.linked=null,t.current=null},Object.defineProperty(xs.prototype,"Current",{get:function(){return this.current}});var Es=nt((function(t,e){this.cmp=t,this.root=e}),ct);function Ds(t){return t.root}Es.prototype.toString=function(){if(this.root.Count>8){var t,e;e=Cn(8,this);var n=qn(Gn("%A"));return t=Zn("; ",yn((function(t){return n([t[0],t[1]])}),e)),qn(Gn("HashMap [%s; ...]"))(t)}var r,i=qn(Gn("%A"));return r=Zn("; ",yn((function(t){return i([t[0],t[1]])}),this)),qn(Gn("HashMap [%s]"))(r)},Es.prototype.GetHashCode=function(){return 0|this.root.ComputeHash()},Es.prototype.Equals=function(t){return t instanceof Es&&Ps(this.cmp,this.root,Ds(t))},Es.prototype[Symbol.iterator]=function(){return nn(function(t){return this instanceof Hs?Hs.call(this,t):new Hs(t)}(this.root))};var Hs=nt((function(t){this.root=t,this.stack=new ot(this.root,new ot),this.linked=null,this.current=null}));Hs.prototype.MoveNext=function(){return function t(e){if(null!=e.linked)return e.current=[e.linked.Key,e.linked.Value],e.linked=e.linked.Next,!0;var n,r,i,o,u,a,s,l,c=e.stack;switch(null!=c.tail?c.head instanceof Qa?(n=0,r=c.tail):c.head instanceof rs?(n=1,i=c.head,o=c.tail):c.head instanceof ts?(n=2,u=c.head,a=c.tail):c.head instanceof us?(n=3,s=c.head,l=c.tail):n=4:n=4,n){case 0:return e.stack=r,t(e);case 1:return e.stack=o,e.current=[i.Key,i.Value],!0;case 2:return e.stack=a,e.current=[u.Key,u.Value],e.linked=u.Next,!0;case 3:return e.stack=new ot(s.Left,new ot(s.Right,l)),t(e);case 4:return!1}}(this)},Hs.prototype.Reset=function(){var t;(t=this).stack=new ot(t.root,new ot),t.linked=null,t.current=null},Hs.prototype.Dispose=function(){var t;(t=this).stack=new ot,t.linked=null,t.current=null},Object.defineProperty(Hs.prototype,"Current",{get:function(){return this.current}});var As=nt((function(t){this.root=t,this.stack=new ot(this.root,new ot),this.linked=null,this.current=null}));As.prototype.MoveNext=function(){return function t(e){if(null!=e.linked)return e.current=[e.linked.Key,e.linked.Value],e.linked=e.linked.Next,!0;var n,r,i,o,u,a,s,l,c=e.stack;switch(null!=c.tail?c.head instanceof Qa?(n=0,r=c.tail):c.head instanceof rs?(n=1,i=c.head,o=c.tail):c.head instanceof ts?(n=2,u=c.head,a=c.tail):c.head instanceof us?(n=3,s=c.head,l=c.tail):n=4:n=4,n){case 0:return e.stack=r,t(e);case 1:return e.stack=o,e.current=[i.Key,i.Value],!0;case 2:return e.stack=a,e.current=[u.Key,u.Value],e.linked=u.Next,!0;case 3:return e.stack=new ot(s.Left,new ot(s.Right,l)),t(e);case 4:return!1}}(this)},As.prototype.Reset=function(){var t;(t=this).stack=new ot(t.root,new ot),t.linked=null,t.current=null},As.prototype.Dispose=function(){var t;(t=this).stack=new ot,t.linked=null,t.current=null},Object.defineProperty(As.prototype,"Current",{get:function(){return this.current}});var Ls=nt((function(){this.cnt=0,this.data=null}));function Ts(t,e){if(0===t.cnt)return t.data=e,t.cnt=1,!0;if(1===t.cnt){if(t.data===e)return!1;var n=hi(new Array(Ls.arrayThreshold),0,Ls.arrayThreshold,null);return n[0]=t.data,n[1]=e,t.data=n,t.cnt=2,!0}if(t.cnt<=Ls.arrayThreshold){for(var r=t.data,i=!0,o=0;i&&o<t.cnt;)r[o]===e&&(i=!1),o+=1;if(i){if(t.cnt<r.length)return r[t.cnt]=e,t.cnt=t.cnt+1,!0;for(var u=fi([],ha.cmp),a=0;a<=r.length-1;a++)p(r[a],u);return t.cnt=t.cnt+1,t.data=u,p(e,u)}return!1}return p(e,t.data)}Ls.arrayThreshold=8,Object.defineProperty(Ls.prototype,"IsEmpty",{get:function(){return 0===this.cnt}}),Ls.prototype.Add=function(t){return Ts(this,t)},Ls.prototype.Remove=function(t){return function(t,e){if(0===t.cnt)return!1;if(1===t.cnt)return t.data===e&&(t.cnt=0,t.data=null,!0);if(t.cnt<=Ls.arrayThreshold){for(var n=t.data,r=!1,i=0;!r&&i<t.cnt;){if(n[i]===e){var o=t.cnt-1|0;1===o?t.data=0===i?n[1]:n[0]:i===o?n[i]=null:(n[i]=n[o],n[o]=null),t.cnt=o,r=!0}i+=1}return r}var u=t.data;return!!u.delete(e)&&(t.cnt=u.size,t.cnt<=Ls.arrayThreshold&&(t.data=di(u,Array)),!0)}(this,t)},Ls.prototype.Consume=function(t){return 0|function(t,e){if(0===t.cnt)return 0;if(1===t.cnt){var n=t.data;return t.data=null,t.cnt=0,e.contents[0]=n,1}if(t.cnt<=Ls.arrayThreshold){var r=t.data,i=0|t.cnt;t.data=null,t.cnt=0,i>=e.contents.length&&pa(e,2*r.length);for(var o=0;o<=i-1;o++)e.contents[o]=r[o];return 0|i}var u=t.data;t.data=null,t.cnt=0;var a=0;return hn((function(t){a>=e.contents.length&&pa(e,2*a),e.contents[a]=t,a+=1}),u),0|a}(this,t)},Ls.prototype.Clear=function(){this.data=null,this.cnt=0};var Os=nt((function(){}));Object.defineProperty(Os.prototype,"IsEmpty",{get:function(){return!0}}),Os.prototype.Add=function(t){return!1},Os.prototype.Remove=function(t){return!1},Os.prototype.Consume=function(t){return 0},Os.prototype.Clear=function(){};nt((function(){this.store=hi(new Array(16),0,16,null),this.next=0,this.first=0,this.count=0}));var Ms=nt((function(t){this.value=t}));function Rs(t){return this instanceof Ms?Ms.call(this,t):new Ms(t)}nt((function(){}));nt((function(t){this["value@59"]=t}));nt((function(t){this["value@64"]=t}));nt((function(){this.m=new WeakMap([])}));var js=new Int32Array([7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647]),Ks=nt((function(){}));var Fs=nt((function(){this.capacityIndex=0,this.count=0,this.store=hi(new Array(js[this.capacityIndex]),0,js[this.capacityIndex],null),this.heap=[],this.reuse=null}));function Is(t,e,n){!function(t,e,n){var r,i,o=0|b(n),u=(r=o>>>0)%(t.store.length>>>0);i=~~u;var a=!1,s=t.store[i];for(;!a&&null!=s;)s.Value===n?a=!0:s=s.Next;if(!a){if(t.count>=t.store.length){var l=2+t.capacityIndex|0;!function(t,e){if(e!==t.capacityIndex){t.capacityIndex=e;for(var n=hi(new Array(js[e]),0,js[e],null),r=0;r<=t.heap.length-1;r++){var i,o=t.heap[r],u=o.Hash%(n.length>>>0),a=n[i=~~u];null!=a&&(a.Prev=o),o.Slot=i,o.Prev=null,o.Next=a,n[i]=o}t.store=n}}(t,l);var c=r%(t.store.length>>>0);i=~~c}var f=t.store[i],h=function(t){if(null==t.reuse)return function(){return this instanceof Ks?Ks.call(this):new Ks}();var e=t.reuse;return t.reuse=e.Next,e}(t);h.Hash=r,h.Slot=i,h.Key=e,h.Value=n,h.Next=t.store[i],h.Prev=null,null!=f&&(f.Prev=h),t.store[i]=h,t.count=t.count+1;var p=t.heap,d=0|p.length;p.push(h),function(t,e,n){t:for(;;){var r=t,i=e,o=n;if(i>0){var u=i-1>>1|0;if(r[u].Key>o.Key){var a=r[u];r[u]=r[i],r[i]=a,t=r,e=u,n=o;continue t}}break}}(p,d,h)}}(t,e,n)}function Gs(t){return function(t){var e,n=t.heap,r=n[0],i=n.length-1|0,o=n[i];n[0]=o,n.splice(i,1),function(t,e,n){t:for(;;){var r=t,i=e,o=n,u=1+(i<<1)|0,a=u+1|0,s=!(u<r.length)||o.Key<=r[u].Key,l=!(a<r.length)||o.Key<=r[a].Key;if(!s||l)if(s||!l){if(s||l)break;if(r[u].Key<r[a].Key){var c=r[u];r[u]=r[i],r[i]=c,t=r,e=u,n=o;continue t}var f=r[a];r[a]=r[i],r[i]=f,t=r,e=a,n=o}else{var h=r[u];r[u]=r[i],r[i]=h,t=r,e=u,n=o}else{var p=r[a];r[a]=r[i],r[i]=p,t=r,e=a,n=o}}}(n,0,o);var u=(e=r).Prev,a=e.Next;if(null==u){var s=0|e.Slot;null!=a&&(a.Prev=null),t.store[s]=a}else u.Next=a,null!=a&&(a.Prev=u);return function(t,e){e.Next=t.reuse,t.reuse=e}(t,e),t.count=t.count-1,[e.Key,e.Value]}(t)}function qs(){return t=D,{Compare:function(e,n){return t(e,n)}};var t}var _s=nt((function(t,e){var n;this.buf=[],"string"==typeof(n=t)&&0!==n.length&&this.buf.push(t)}));_s.prototype.toString=function(){return Zn("",this.buf)};function Us(){return qs()}function Zs(t,e){return e()}var Ws=nt((function(t){this.newLevel=0|t}),yt);var zs=nt((function(){this.q=function(){return this instanceof Fs?Fs.call(this):new Fs}(),this.current=null,this.currentLevel=0,this.finalizers=new ot}));function Js(){return zs.CurrentTransaction}function Bs(t){zs.CurrentTransaction=t}function $s(){return null!=zs.RunningTransaction}function Xs(){var t=zs.RunningTransaction;return null!=t?0|t.currentLevel:2147483646}function Qs(t,e){Is(t.q,e.Level,e)}function Ys(t){var e,n;n=(e=t).finalizers,e.finalizers=new ot,hn((function(t){t()}),n)}function tl(){var t=zs.RunningTransaction;if(null==t){var e=Js();if(null==e)return;return e}return t}function el(t){var e=function(){return this instanceof zs?zs.call(this):new zs}();try{var n,r=Js();try{Bs(e),n=t()}finally{Bs(r)}return function(t){var e=zs.RunningTransaction;zs.RunningTransaction=t;for(var n=new ht(hi(new Array(8),0,8,null)),r=0;0!==t.q.count;){var i=Gs(t.q);if(t.current=i[1],t.currentLevel=i[0],i[1],i[1].OutOfDate)i[1].AllInputsProcessed(t);else{i[1];try{if(r=0,i[1].OutOfDate)i[1].AllInputsProcessed(t);else if(t.currentLevel!==i[1].Level)Is(t.q,i[1].Level,i[1]);else{i[1].OutOfDate=!0,i[1].AllInputsProcessed(t);try{i[1].Mark()?r=i[1].Outputs.Consume(n):i[1].OutOfDate=!1}catch(e){if(!(e instanceof Ws))throw e;var o=0|e.newLevel;i[1].Level=H(k,i[1].Level,o),i[1].OutOfDate=!1,Is(t.q,i[1].Level,i[1])}}}finally{i[1]}for(var u=0;u<=r-1;u++){var a=n.contents[u];a.InputChanged(t,i[1]),Qs(t,a)}}t.current=null}zs.RunningTransaction=e,t.currentLevel=0}(e),n}finally{f(e)&&e.Dispose()}}function nl(t){var e=tl();null==e?Zs(0,(function(){if(t.OutOfDate);else{if(!t.Outputs.IsEmpty)throw new Error("cannot mark object without transaction");t.OutOfDate=!0}})):Qs(e,t)}zs.prototype.Dispose=function(){Ys(this)};var rl=nt((function(){this.outOfDate=!0,this.level=0,this.outputs=function(){return this instanceof Ls?Ls.call(this):new Ls}(),this.weak=null,this.tag=null}));function il(){return this instanceof rl?rl.call(this):new rl}function ol(){return rl.CurrentEvaluationDepth}function ul(t){rl.CurrentEvaluationDepth=t}function al(t){return t.outOfDate}function sl(t,e){t.outOfDate=e}function ll(t){return t.level}function cl(t){return t.outputs}rl.prototype.MarkObject=function(){return!0},rl.prototype.AllInputProcessedObject=function(t){},rl.prototype.InputChangedObject=function(t,e){},Object.defineProperty(rl.prototype,"IsConstant",{get:function(){return!1}}),Object.defineProperty(rl.prototype,"Weak",{get:function(){return function(t){var e=t.weak;if(null==e){var n=Rs(t);return t.weak=n,n}return e}(this)}}),Object.defineProperty(rl.prototype,"Outputs",{get:function(){return cl(this)}}),rl.prototype.Mark=function(){return this.MarkObject()},rl.prototype.AllInputsProcessed=function(t){this.AllInputProcessedObject(t)},rl.prototype.InputChanged=function(t,e){this.InputChangedObject(t,e)},Object.defineProperty(rl.prototype,"Tag",{get:function(){return this.tag},set:function(t){var e;e=t,this.tag=e}}),Object.defineProperty(rl.prototype,"OutOfDate",{get:function(){return al(this)},set:function(t){sl(this,t)}}),Object.defineProperty(rl.prototype,"Level",{get:function(){return 0|ll(this)},set:function(t){var e;e=t,this.level=e}});var fl=nt((function(t){this._Callbacks=t}));function hl(){if(null!=fl._Callbacks){var t=fl._Callbacks;null==t.tail||(fl._Callbacks=new ot,el((function(){Vi((function(t){t()}),t)})))}}var pl=nt((function(){this.weak=null}));function dl(){return this instanceof pl?pl.call(this):new pl}pl.outputs=function(){return this instanceof Os?Os.call(this):new Os}(),Object.defineProperty(pl.prototype,"Tag",{get:function(){return null},set:function(t){}}),Object.defineProperty(pl.prototype,"IsConstant",{get:function(){return!0}}),Object.defineProperty(pl.prototype,"Weak",{get:function(){var t=this.weak;if(null==t){var e=Rs(this);return this.weak=e,e}return t}}),Object.defineProperty(pl.prototype,"Outputs",{get:function(){return pl.outputs}}),pl.prototype.Mark=function(){return!1},pl.prototype.AllInputsProcessed=function(t){},pl.prototype.InputChanged=function(t,e){},Object.defineProperty(pl.prototype,"OutOfDate",{get:function(){return!1},set:function(t){}}),Object.defineProperty(pl.prototype,"Level",{get:function(){return 0},set:function(t){}});var yl=nt((function(t){this.caller=t}),ct);function vl(t,e){return gl(e)}function gl(t){return new yl(t)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ml=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var bl=nt((function(t){this.get=t}));function Cl(t){switch(t.tag){case 1:return 1;case 2:return 0|t.fields[5];default:return 0}}bl.prototype[Symbol.iterator]=function(){return nn(this.get())};var Pl=nt((function(t,e){this.stack=t,this.started=e}),ct);function Sl(t){for(;;){var e=t;if(null==e.tail)return new ot;if(1===e.head.tag)return e;2!==e.head.tag?t=e.tail:t=new ot(e.head.fields[2],new ot(new ml(1,"MapOne",e.head.fields[0],e.head.fields[1]),new ot(e.head.fields[3],e.tail)))}}function Vl(t){return new Pl(Sl(new ot(t,new ot)),!1)}function Nl(t){if(t.started){var e=t.stack;if(null==e.tail)return function(){throw new Error("enumeration finished")}();if(1===e.head.tag)return[e.head.fields[0],e.head.fields[1]];throw new Error("Please report error: MapExt iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}function kl(t){var e,n,r=new ht(Vl(t));return e={get Current(){return Nl(r.contents)}},"Current",(n={}).Current=n.Current||{},n.Current.get=function(){return Nl(r.contents)},wl(e,"MoveNext",(function(){return function(t){if(t.started){var e=t.stack;if(null==e.tail)return!1;if(1===e.head.tag)return t.stack=Sl(e.tail),!(null==t.stack.tail);throw new Error("Please report error: MapExt iterator, unexpected stack for moveNext")}return t.started=!0,!(null==t.stack.tail)}(r.contents)})),wl(e,"Reset",(function(){r.contents=Vl(t)})),wl(e,"Dispose",(function(){})),function(t,e){for(var n in e){(o=e[n]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n,o)}if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),i=0;i<r.length;i++){var o,u=r[i];(o=e[u]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,u,o)}}(e,n),e}var xl=nt((function(t){this.m=t,this.stack=new ot(this.m,new ot),this.current=null}));xl.prototype.MoveNext=function(){return function t(e){var n=e.stack;return null!=n.tail&&(1===n.head.tag?(e.stack=n.tail,e.current=[n.head.fields[0],n.head.fields[1]],!0):2===n.head.tag?(e.stack=new ot(n.head.fields[2],new ot(new ml(1,"MapOne",n.head.fields[0],n.head.fields[1]),new ot(n.head.fields[3],n.tail))),t(e)):(e.stack=n.tail,t(e)))}(this)},xl.prototype.Reset=function(){this.stack=new ot(this.m,new ot),this.current=null},xl.prototype.Dispose=function(){this.stack=new ot,this.current=null},Object.defineProperty(xl.prototype,"Current",{get:function(){return this.current}});var El=nt((function(t){this.m=t,this.stack=new ot(this.m,new ot),this.current=null}));El.prototype.MoveNext=function(){return function t(e){var n=e.stack;return null!=n.tail&&(1===n.head.tag?(e.stack=n.tail,e.current=[n.head.fields[0],n.head.fields[1]],!0):2===n.head.tag?(e.stack=new ot(n.head.fields[3],new ot(new ml(1,"MapOne",n.head.fields[0],n.head.fields[1]),new ot(n.head.fields[2],n.tail))),t(e)):(e.stack=n.tail,t(e)))}(this)},El.prototype.Reset=function(){this.stack=new ot(this.m,new ot),this.current=null},El.prototype.Dispose=function(){this.stack=new ot,this.current=null},Object.defineProperty(El.prototype,"Current",{get:function(){return this.current}});var Dl,Hl=nt((function(t,e){this.comparer=t,this.tree=e}));function Al(t,e){return this instanceof Hl?Hl.call(this,t,e):new Hl(t,e)}function Ll(){return Hl.empty}function Tl(t){return Cl(t.tree)}Dl=Us(),Hl.empty=Al(Dl,new ml(0,"MapEmpty")),Hl.prototype.Equals=function(t){if(this===t)return!0;if(!(t instanceof Hl))return!1;var e=en(this);try{var n=en(t);try{return function t(){var r=e.MoveNext();if(r===n.MoveNext()){if(r){var i=[e.Current,n.Current];return!(!V(i[0][0],i[1][0])||!fa().Equals(i[0][1],i[1][1]))&&t()}return!0}return!1}()}finally{f(n)&&n.Dispose()}}finally{f(e)&&e.Dispose()}},Hl.prototype.GetHashCode=function(){var t,e;return 0|(t=function(t,e){return(t<<1)+e+631},e=0,hn((function(n){var r=n;e=t(e,C(r[0])),e=t(e,fa().GetHashCode(r[1]))}),this),0|Math.abs(e))},Hl.prototype.toString=function(){var t=Tl(this)>4?"; ...":"";return"map ["+Zn("; ",yn((function(t){var e=t;return qn(Gn("%A"))([e[0],e[1]])}),Pn(4,this)))+t+"]"},Hl.prototype[Symbol.iterator]=function(){return nn(kl(this.tree))},Hl.prototype.CompareTo=function(t){var e,n,r,i=this;if(t instanceof Hl)return 0|(null!=(r=Sn((function(t){return 0!==t}),gn((function(t,e){var n=0|i.comparer.Compare(t[0],e[0]);return 0|(0!==n?n:D(t[1],e[1]))}),e=i,n=t)))?jt(r):dn(e)-dn(n));throw new Error("SR.GetString(SR.notComparable)\\nParameter name: obj")};nt((function(t){this.v=t}));function Ol(){return Ll()}n(286);var Ml=nt((function(t,e,n,r,i){this.Root=t,this.Prev=e,this.Next=n,this.Tag=r,this.RefCount=0|i}));function Rl(t){return _e(t.Tag,t.Root.Tag)}Ml.prototype.GetHashCode=function(){return 0|b(this)},Ml.prototype.Equals=function(t){return this===t},Ml.prototype.toString=function(){var t=$e(Rl(this))/$e(ze(4294967295,4294967295,!0));return qn(Gn("%f"))(t)},Ml.prototype.CompareTo=function(t){return t instanceof Ml?0|function(t,e){t:for(;;){var n=t,r=e,i=[(n,!0),(r,!0)];if(i[0]){if(i[1]){try{return 0|We(Rl(n),Rl(r))}finally{}break}t=n,e=r}else{if(i[1]){t=n,e=r;continue t}t=n,e=r}}}(this,t):0|Gn("[Real] cannot compare real to %A").cont((function(t){throw new Error(t)}))(t)};var jl=nt((function(t){this["data@258"]=function(t){var e=0;for(;e<t.length&&0===t[e];)e+=1;return e>0?function(t,e,n){if(t>e.length)throw new Error("count is greater than array length\\nParameter name: count");if(t===e.length)return new n(0);var r=0|(t<0?0:t);return e.slice(r)}(e,t,Uint32Array):t}(t)}));function Kl(t){return this instanceof jl?jl.call(this,t):new jl(t)}function Fl(t){return t["data@258"]}function Il(){return Kl(new Uint32Array([]))}function Gl(t,e){if(0===e)return t;if(e<0)return ql(t,Qt(e));var n=32*Fl(t).length+e|0,r=new Uint32Array(_l(n)),i=31&e|0;if(0===i){for(var o=r.length-1-(e>>5)|0,u=Fl(t).length-1|0;u>=0&&o>=0;)r[o]=Fl(t)[u],o-=1,u-=1;return Kl(r)}for(var a=r.length-1-(e>>5)|0,s=Fl(t).length-1|0,l=0;s>=0&&a>=0;)r[a]=(Fl(t)[s]<<i>>>0|l)>>>0,l=Fl(t)[s]>>>32-i,a-=1,s-=1;return a>=0&&0!==l&&(r[a]=l),Kl(r)}function ql(t,e){if(0===e)return t;if(e<0)return Gl(t,Qt(e));var n=32*Fl(t).length-e|0,r=new Uint32Array(_l(n)),i=31&e|0;if(0===i){for(var o=0,u=0;u<Fl(t).length&&o<r.length;)r[o]=Fl(t)[u],o+=1,u+=1;return Kl(r)}for(var a=(1<<i>>>0)-1,s=0,l=0,c=0;l<Fl(t).length&&s<r.length;)r[s]=(Fl(t)[l]>>>i|c)>>>0,c=(Fl(t)[l]&a)>>>0<<32-i>>>0,s+=1,l+=1;return Kl(r)}function _l(t){return t<0?0:0==(31&t)?0|~~(t/32):1+~~(t/32)|0}jl.prototype.toString=function(){return Zn("",vn((function(t,e){return 0===t?qn(Gn("%X"))(e):qn(Gn("%08X"))(e)}),this["data@258"]))},jl.prototype.GetHashCode=function(){var t,e;return 0|(t=function(t,e){return 0|~~((t>>>0^2654435769+((0|fa().GetHashCode(e))>>>0)+(t>>>0<<6>>>0)+(t>>>0>>>2))>>>0)},e=0,this["data@258"].reduce((function(e,n){return t(e,n)}),e))},jl.prototype.Equals=function(t){var e,n,r;return t instanceof jl&&(this["data@258"].length===Fl(t).length&&(e=function(t,e){return t===e},n=this["data@258"],r=Fl(t),pi((function(t,n,r){return!!t&&e(n,r)}),!0,n,r)))},jl.prototype.CompareTo=function(t){if(t instanceof jl){var e=0|k(this["data@258"].length,Fl(t).length);if(0!==e)return 0|e;return 0|function(t,e,n){for(;;){var r=t,i=e,o=n;if(!(r<i.length))return 0;var u=0|k(i[r],o[r]);if(0!==u)return 0|u;t=r+1,e=i,n=o}}(0,this["data@258"],Fl(t))}throw new Error("uncomparable")};var Ul=nt((function(t,e){var n,r,i,o,u;if(0===t["data@258"].length)n=[t,0];else{for(var a=t,s=0|e;0==(i=0,o=void 0,u=void 0,o=(r=a)["data@258"].length-1-(i>>5)|0,u=31&i|0,o>=0&&o<=r["data@258"].length?(r["data@258"][o]>>>u&1)>>>0:0);)a=ql(a,1),s-=1;n=[a,s]}this["number@466"]=n[0],this["dexp@466"]=n[1]}));function Zl(t,e){return this instanceof Ul?Ul.call(this,t,e):new Ul(t,e)}function Wl(t){return t["number@466"]}function zl(t){return t["dexp@466"]}Ul.prototype.toString=function(){var t=String(this["number@466"]),e=Ze(ze(1,0,!1),this["dexp@466"]);return qn(Gn("0x%s/0x%X"))(t)(e)},Ul.prototype.GetHashCode=function(){var t=0|b(this["number@466"]);return 0|~~((t>>>0^2654435769+((0|C(this["dexp@466"]))>>>0)+(t>>>0<<6>>>0)+(t>>>0>>>2))>>>0)},Ul.prototype.Equals=function(t){return t instanceof Ul&&(!!V(this["number@466"],Wl(t))&&this["dexp@466"]===zl(t))},Ul.prototype.CompareTo=function(t){if(t instanceof Ul){if(this["dexp@466"]<zl(t)){var e=Gl(this["number@466"],zl(t)-this["dexp@466"]),n=Wl(t);return 0|e.CompareTo(n)}if(zl(t)<this["dexp@466"]){var r=Gl(Wl(t),this["dexp@466"]-zl(t));return 0|this["number@466"].CompareTo(r)}return 0|this["number@466"].CompareTo(Wl(t))}throw new Error("uncomparable")};!function(){Zl.call(this,Il(),0)}();function Jl(t,e){return sa().Equals(t,e)}var Bl=nt((function(t,e){this.compare=t,this.value=e}),ct);function $l(t){return t.value}Bl.prototype.GetHashCode=function(){return 0|fa().GetHashCode(this.value)},Bl.prototype.Equals=function(t){if(t instanceof Bl){var e=$l(t);return fa().Equals(this.value,e)}return!1},Bl.prototype.CompareTo=function(t){return 0|(t instanceof Bl?this.compare(this.value,$l(t)):0)};nt((function(){this.store=Ol()}));nt((function(t){this.cmp=t,this.store=Ol()}));nt((function(t,e){this.f=t,this.release=e,this.store=dr([],fa())}));var Xl=nt((function(t){var e;this.value=t,this.id=(e=0|Xl.currentId,Xl.currentId=e+1,0|e)}));function Ql(t){return t.value}function Yl(t){return t.id}Xl.currentId=0,Xl.prototype.toString=function(){var t=this.value;return String(t)},Xl.prototype.GetHashCode=function(){var t=0|fa().GetHashCode(this.value);return 0|~~((t>>>0^2654435769+(this.id>>>0)+(t>>>0<<6>>>0)+(t>>>0>>>2))>>>0)},Xl.prototype.Equals=function(t){var e;return t instanceof Xl&&(e=Ql(t),!!fa().Equals(this.value,e)&&this.id===Yl(t))},Xl.prototype.CompareTo=function(t){if(t instanceof Xl){var e=0|D(this.value,Ql(t));return 0|(0===e?k(this.id,Yl(t)):e)}throw new Error("uncomparable")};var tc=nt((function(t){il.call(this),this["value@19"]=t}),rl);function ec(t){return this instanceof tc?tc.call(this,t):new tc(t)}function nc(t){return t["value@19"]}function rc(t,e){var n;n=t["value@19"],fa().Equals(n,e)||(t["value@19"]=e,nl(t))}function ic(t,e){var n=e.caller,r=0|ol(),i=null;try{ul(r+1);var o=(e,vl(0,t),t["value@19"]);sl(t,!1);var u=0|(r>1?Xs()-1:Xs());if(ll(t)>u)throw new Ws(ll(t)+r);if(i=o,null!=n){cl(t).Add(n);n.Level=H(k,n.Level,ll(t)+1)}}catch(t){ul(r);throw t}ul(r);return 0!==r||null!=e.caller||$s()||hl(),i}tc.prototype.toString=function(){return Un("cval({0})",nc(this))},tc.prototype.GetValueUntyped=function(t){return ic(this,t)},Object.defineProperty(tc.prototype,"ContentType",{get:function(){return Dt}}),tc.prototype.GetValue=function(t){return ic(this,t)};var oc=nt((function(){il.call(this),this.valueCache=null}),rl);function uc(){return this instanceof oc?oc.call(this):new oc}function ac(t,e){var n=e.caller,r=0|ol(),i=null;try{ul(r+1);var o=function(e){if(al(t)){var n=t.Compute(e);return t.valueCache=n,n}return t.valueCache}((e,vl(0,t)));sl(t,!1);var u=0|(r>1?Xs()-1:Xs());if(ll(t)>u)throw new Ws(ll(t)+r);if(i=o,null!=n){cl(t).Add(n);n.Level=H(k,n.Level,ll(t)+1)}}catch(t){ul(r);throw t}ul(r);return 0!==r||null!=e.caller||$s()||hl(),i}oc.prototype.toString=function(){return al(this)?Un("aval*({0})",this.valueCache):Un("aval({0})",this.valueCache)},oc.prototype.GetValueUntyped=function(t){return ac(this,t)},Object.defineProperty(oc.prototype,"ContentType",{get:function(){return Dt}}),oc.prototype.GetValue=function(t){return ac(this,t)};nt((function(t,e,n){this.Create=t,this.Value=e,this.IsValue=n}));var sc=nt((function(t){dl.call(this),this["data@111"]=t}),pl);function lc(t){if(t["data@111"].IsValue)return t["data@111"].Value;var e=t["data@111"].Create();return t["data@111"].IsValue=!0,t["data@111"].Value=e,t["data@111"].Create=null,e}function cc(t,e){return lc(t)}sc.prototype.toString=function(){return Un("constval({0})",lc(this))},sc.prototype.GetHashCode=function(){var t=lc(this);return 0|fa().GetHashCode(t)},sc.prototype.Equals=function(t){if(t instanceof sc){var e=lc(this),n=lc(t);return fa().Equals(e,n)}return!1},sc.prototype.GetValueUntyped=function(t){return cc(this)},Object.defineProperty(sc.prototype,"ContentType",{get:function(){return Dt}}),sc.prototype.GetValue=function(t){return cc(this)};var fc=nt((function(t,e){uc.call(this),this.mapping=t,this.input=e,this.cache=void 0}),oc);fc.prototype.Compute=function(t){var e,n=this.input.GetValue(t),r=this.cache;switch(null!=r?(r[1],e=Jl(r[0],n)?0:1):e=1,e){case 0:var i;return i=r[1],r[0],i;case 1:var o=this.mapping(n);return this.cache=[n,o],o}};var hc=nt((function(t,e,n){uc.call(this),this.a=e,this.b=n,this["mapping@183"]=t,this.cache=void 0}),oc);hc.prototype.Compute=function(t){var e,n,r=this.a.GetValue(t),i=this.b.GetValue(t),o=this.cache;switch(null!=o?(o[2],e=o[1],n=Jl(o[0],r)&&Jl(e,i)?0:1):n=1,n){case 0:var u;return u=o[2],o[1],o[0],u;case 1:var a=this["mapping@183"](r,i);return this.cache=[r,i,a],a}};var pc=nt((function(t,e,n,r){uc.call(this),this.a=e,this.b=n,this.c=r,this["mapping@201"]=t,this.cache=void 0}),oc);pc.prototype.Compute=function(t){var e,n,r,i=this.a.GetValue(t),o=this.b.GetValue(t),u=this.c.GetValue(t),a=this.cache;switch(null!=a?(a[3],e=a[2],n=a[1],r=Jl(a[0],i)&&Jl(n,o)&&Jl(e,u)?0:1):r=1,r){case 0:var s;return s=a[3],a[2],a[1],a[0],s;case 1:var l=this["mapping@201"](i,o,u);return this.cache=[i,o,u,l],l}};var dc=nt((function(t,e){uc.call(this),this.mapping=t,this.input=e,this.inner=void 0,this.inputDirty=1}),oc);dc.prototype.InputChangedObject=function(t,e){e===this.input&&(this.inputDirty=1)},dc.prototype.Compute=function(t){var e,n,r=this.input.GetValue(t),i=0|this.inputDirty;this.inputDirty=0,n=0!==i;var o=this.inner;if(null!=o){var u;if(o[1],e=o[0],!n||Jl(e,r))return u=o[1],o[0],u.GetValue(t);if(null!=o){o[1].Outputs.Remove(this);var a=this.mapping(r);return this.inner=[r,a],a.GetValue(t)}throw new Error("The match cases were incomplete")}var s=this.mapping(r);return this.inner=[r,s],s.GetValue(t)};var yc=nt((function(t,e,n){uc.call(this),this.value1=e,this.value2=n,this["mapping@253"]=t,this.inner=void 0,this.inputDirty=1}),oc);yc.prototype.InputChangedObject=function(t,e){e!==this.value1&&e!==this.value2||(this.inputDirty=1)},yc.prototype.Compute=function(t){var e,n,r,i=this.value1.GetValue(t),o=this.value2.GetValue(t),u=0|this.inputDirty;this.inputDirty=0,r=0!==u;var a=this.inner;if(null!=a){var s;if(a[2],e=a[1],n=a[0],!r||Jl(n,i)&&Jl(e,o))return s=a[2],a[1],a[0],s.GetValue(t);if(null!=a){a[2].Outputs.Remove(this);var l=this["mapping@253"](i,o);return this.inner=[i,o,l],l.GetValue(t)}throw new Error("The match cases were incomplete")}var c=this["mapping@253"](i,o);return this.inner=[i,o,c],c.GetValue(t)};var vc=nt((function(t,e,n,r){uc.call(this),this.value1=e,this.value2=n,this.value3=r,this["mapping@289"]=t,this.inner=void 0,this.inputDirty=1}),oc);vc.prototype.InputChangedObject=function(t,e){e!==this.value1&&e!==this.value2&&e!==this.value3||(this.inputDirty=1)},vc.prototype.Compute=function(t){var e,n,r,i,o=this.value1.GetValue(t),u=this.value2.GetValue(t),a=this.value3.GetValue(t),s=0|this.inputDirty;this.inputDirty=0,i=0!==s;var l=this.inner;if(null!=l){var c;if(l[3],e=l[2],n=l[1],r=l[0],!i||Jl(r,o)&&Jl(n,u)&&Jl(e,a))return c=l[3],l[2],l[1],l[0],c.GetValue(t);if(null!=l){l[3].Outputs.Remove(this);var f=this["mapping@289"](o,u,a);return this.inner=[o,u,a,f],f.GetValue(t)}throw new Error("The match cases were incomplete")}var h=this["mapping@289"](o,u,a);return this.inner=[o,u,a,h],h.GetValue(t)};var gc=nt((function(t){uc.call(this),this.compute=t}),oc);function wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}gc.prototype.Compute=function(t){return this.compute(t)};var bc=function t(e){mc(this,t),this.value=e},Cc=function(){function t(){mc(this,t)}var e,n,r;return e=t,(n=[{key:"add",value:function(t){var e=new bc(t);this.firstAndLast?(this.firstAndLast[1].next=e,this.firstAndLast=[this.firstAndLast[0],e]):this.firstAndLast=[e,e]}},{key:"tryGet",value:function(){if(this.firstAndLast){var t=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,t}}}])&&wc(e.prototype,n),r&&wc(e,r),t}(),Pc=function t(e,n){mc(this,t),this.body=e,this.cancellationToken=n||ao,this.messages=new Cc};function Sc(t){if(t.continuation){var e=t.messages.tryGet();if(e){var n=t.continuation;delete t.continuation,n(e)}}}function Vc(t,e){t.messages.add(e),Sc(t)}function Nc(t,e){var n,r=new Pc(t,e);return lo((n=r).body(n),n.cancellationToken),r}var kc=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var xc=nt((function(){}),yt);var Ec=nt((function(){}),yt);var Dc=nt((function(){}),yt);var Hc=nt((function(){}),yt);var Ac=nt((function(){}),yt);var Lc=nt((function(){}),yt);var Tc=nt((function(){}),yt);var Oc=nt((function(){}),yt);var Mc=nt((function(t){this.Data0=t}),yt);var Rc=nt((function(t){this.Data0=t}),yt);var jc=nt((function(t){this.Data0=t}),yt);var Kc=nt((function(t){this.Data0=t}),yt);var Fc=nt((function(t){this.Data0=t}),yt);var Ic=nt((function(){}),yt);var Gc=nt((function(t){this.Data0=t}),yt);var qc=nt((function(){}));function _c(t,e){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];(n=console).log.apply(n,[Rt(e)].concat(i))}nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var Uc=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var Zc=nt((function(t,e,n,r,i,o,u,a){this.Player1Hand=t,this.Player2Hand=e,this.Player1Knocked=n,this.Player2Knocked=r,this.Player1Score=i,this.Player2Score=o,this.CurrentPegging=u,this.PreviousPegging=a}),ct);function Wc(t){return Au(Si((function(t){return t[0]}),t.CurrentPegging))}function zc(t,e,n,r){var i,o,u,a=function(t,e){return null==e?t:Mu(t,Xr({Compare:E},new Sr(2,"SetOne",e)))},s=function(t,e){return null==e?0|t:t+(0|e)|0};if(null==n);else{var l=n,c=0|Wc(t);if(c+Cu(l[0])>31)throw new Iu((i=Lu(l[0],l[1]),o=0|c,qn(Gn("Cannot play %s when running total is %i"))(i)(o)))}null==n?u=[!0,t.CurrentPegging]:u=[!1,new ot([n,e],t.CurrentPegging)];if(V(e,new kc(0,"Player1"))){var f=a(t.Player1Hand,n),h=0|s(t.Player1Score,r);return new Zc(f,t.Player2Hand,u[0],t.Player2Knocked,h,t.Player2Score,u[1],t.PreviousPegging)}var p=a(t.Player2Hand,n),d=0|s(t.Player2Score,r);return new Zc(t.Player1Hand,p,t.Player1Knocked,u[0],t.Player1Score,d,u[1],t.PreviousPegging)}function Jc(t,e,n,r,i){var o,u=function(t){return Si((function(t){return[t[0],V(t[1],e)]}),t)};o=Si(u,t.PreviousPegging);var a,s=u(t.CurrentPegging),l=V(e,new kc(0,"Player1"))?t.Player1Hand:t.Player2Hand,c=0|Au(Si((function(t){return t[0]}),t.CurrentPegging));return a=ai((function(t){return c+Cu(t[0])<=31}),l),new ia(o,s,a[0],a[1],n,r,i)}var Bc=nt((function(t,e,n,r,i,o,u,a,s,l,c,f){this.Dealer=t,this.Deck=e,this.DealerHand=n,this.NonDealerHand=r,this.DealerForCrib=i,this.NonDealerForCrib=o,this.CutCard=u,this.NibsScore=a,this.PeggingState=s,this.DealerHandScore=l,this.NonDealerHandScore=c,this.CribScore=f}),ct);function $c(t,e){return V(t.Dealer,e)}function Xc(t,e){return $c(t,e)?t.DealerHand:t.NonDealerHand}function Qc(t,e){var n,r=function(t){return 0|Ft(t,0)};if(null==t.PeggingState)n=void 0;else{var i=t.PeggingState;n=V(e,new kc(0,"Player1"))?i.Player1Score:i.Player2Score}return $c(t,e)?r(t.NibsScore)+r(n)+r(t.DealerHandScore)+r(t.CribScore)|0:r(n)+r(t.NonDealerHandScore)|0}function Yc(t,e){if(null==t.CutCard)throw new Tc;return[t.CutCard,$c(t,e)?t.DealerForCrib:t.NonDealerForCrib]}var tf=nt((function(t,e,n,r,i){this.WasDealer=t,this.NibsScore=e,this.PeggingScore=n,this.HandScore=r,this.CribScore=i}),ct);function ef(t){var e=function(t){return 0|Ft(t,0)};return e(t.NibsScore)+(null==t.PeggingScore?0:0|t.PeggingScore[0])+e(t.HandScore)+e(t.CribScore)|0}var nf=nt((function(t,e){this.Player1DealSummary=t,this.Player2DealSummary=e}),ct);function rf(t){return ef(t.Player1DealSummary)}function of(t){return ef(t.Player2DealSummary)}var uf=nt((function(t,e,n){this.FirstDealer=t,this.PreviousDeals=e,this.CurrentDeal=n}),ct);function af(t){return[Li((function(t){return rf(t)}),t.PreviousDeals,{GetZero:function(){return 0},Add:function(t,e){return t+e}})+Qc(t.CurrentDeal,new kc(0,"Player1"))|0,Li((function(t){return of(t)}),t.PreviousDeals,{GetZero:function(){return 0},Add:function(t,e){return t+e}})+Qc(t.CurrentDeal,new kc(1,"Player2"))|0]}function sf(t){var e=af(t);return e[0]>=121||e[1]>=121}var lf=nt((function(t,e,n,r,i,o){this.Score=t,this.PeggingDealerMean=e,this.PeggingNotDealerMean=n,this.HandDealerMean=r,this.HandNotDealerMean=i,this.CribMean=o}),ct);function cf(t){var e=function(e){return vu(xi((function(t){var n,r;if(t.WasDealer===e)switch(null!=t.PeggingScore&&t.PeggingScore[1]?(n=0,r=t.PeggingScore[0]):n=1,n){case 0:return r;case 1:return}}),t))},n=function(e){return vu(xi((function(t){return t.WasDealer===e&&null!=t.HandScore?0|t.HandScore:void 0}),t))};return new lf(Li((function(t){return ef(t)}),t,{GetZero:function(){return 0},Add:function(t,e){return t+e}}),e(!0),e(!1),n(!0),n(!1),vu(xi((function(t){return t.CribScore}),t)))}var ff=nt((function(t,e,n){this.Deals=0|t,this.Player1GameSummary=e,this.Player2GameSummary=n}),ct);var hf=nt((function(t,e){var n,r=this;if(r.player1Name=t,r.player2Name=e,r.player1Name===r.player2Name)throw new Oc;r.sourcedLogger=function(){return this instanceof qc?qc.call(this):new qc}(),_c(r.sourcedLogger,"Initializing for {player1} vs. {player2}...",r.player1Name,r.player2Name),r.gameState=ec((n=Math.abs(vi(gu(1))/2147483647)<.5?new kc(0,"Player1"):new kc(1,"Player2"),vf(r,n))),r.awaitingForCribPlayer1=ec(void 0),r.awaitingForCribPlayer2=ec(void 0),r.awaitingPegPlayer1=ec(void 0),r.awaitingPegPlayer2=ec(void 0),r.awaitingCannotPegPlayer1=ec(!1),r.awaitingCannotPegPlayer2=ec(!1),r.awaitingNewDealPlayer1=ec(!1),r.awaitingNewDealPlayer2=ec(!1),r.awaitingNewGamePlayer1=ec(!1),r.awaitingNewGamePlayer2=ec(!1),r.nibsScoreEvent=new po,r.peggingScoreEvent=new po,r.handScoreEvent=new po,r.cribScoreEvent=new po,r.gameOverEvent=new po,r.agent=Nc((function(t){return function e(){return oo.Delay((function(){var n;return oo.Combine(null==nc(r.awaitingForCribPlayer1)?(n=new kc(0,"Player1"),gf(r,n),oo.Zero()):(_c(r.sourcedLogger,"Awaiting cards for crib from {player}...",r.player1Name),oo.Zero()),oo.Delay((function(){var n;return oo.Combine(null==nc(r.awaitingForCribPlayer2)?(n=new kc(1,"Player2"),gf(r,n),oo.Zero()):(_c(r.sourcedLogger,"Awaiting cards for crib from {player}...",r.player2Name),oo.Zero()),oo.Delay((function(){var n,i;return oo.Combine((null==(n=nc(r.awaitingPegPlayer1))||(i=n,_c(r.sourcedLogger,"Awaiting {cardOrGo} from {player}...",ti(i.Peggable)>0?"pegging card":"go",r.player1Name)),oo.Zero()),oo.Delay((function(){var n,i;return oo.Combine((null==(n=nc(r.awaitingPegPlayer2))||(i=n,_c(r.sourcedLogger,"Awaiting {cardOrGo} from {player}...",ti(i.Peggable)>0?"pegging card":"go",r.player2Name)),oo.Zero()),oo.Delay((function(){return oo.Combine(nc(r.awaitingCannotPegPlayer1)?(_c(r.sourcedLogger,"Awaiting cannot peg from {player}...",r.player1Name),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.Combine(nc(r.awaitingCannotPegPlayer2)?(_c(r.sourcedLogger,"Awaiting cannot peg from {player}...",r.player2Name),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.Combine(nc(r.awaitingNewDealPlayer1)?(_c(r.sourcedLogger,"Awaiting new deal request from {player}...",r.player1Name),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.Combine(nc(r.awaitingNewDealPlayer2)?(_c(r.sourcedLogger,"Awaiting new deal request from {player}...",r.player2Name),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.Combine(nc(r.awaitingNewGamePlayer1)?(_c(r.sourcedLogger,"Awaiting new game request from {player}...",r.player1Name),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.Combine(nc(r.awaitingNewGamePlayer2)?(_c(r.sourcedLogger,"Awaiting new game request from {player}...",r.player2Name),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.Bind((n=t,so((function(t){if(n.continuation)throw new Error("Receive can only be called once!");n.continuation=t[0],Sc(n)}))),(function(n){var i,o,u,a,s,l,c,f,h;if(1===n.tag){var p=nc(r.gameState).CurrentDeal;return oo.Combine(null!=p.CutCard?(function(){throw new xc}(),oo.Zero()):oo.Zero(),oo.Delay((function(){var n,i,o,u,a,s,l,c,f,h=(o=p.Deck,a=mi(ju(1,si(o,{Compare:E}))),[u=vi(a),ki((function(t){return!S(t,u)}),o)]),d=V((l=h[0])[0],new mu(2,"Jack"))?new ra(0,"Nibs",l):void 0;if(null==d)_c(r.sourcedLogger,"Cut: {cutCard}",Lu(h[0][0],h[0][1])),s=p;else{var y=d;_c(r.sourcedLogger,"Cut: {cutCard} -> {dealer} scores {event}",Lu(h[0][0],h[0][1]),df(r,p.Dealer),(f=Lu((c=y).fields[0][0],c.fields[0][1]),qn(Gn("%i for his nibs (%s)"))(2)(f))),r.nibsScoreEvent.Trigger([p.Dealer,h[0],y]);s=new Bc(p.Dealer,p.Deck,p.DealerHand,p.NonDealerHand,p.DealerForCrib,p.NonDealerForCrib,p.CutCard,2,p.PeggingState,p.DealerHandScore,p.NonDealerHandScore,p.CribScore)}return el((function(){var t,e,n;rc(r.gameState,(t=nc(r.gameState),n=h[0],e=new Bc(s.Dealer,h[1],s.DealerHand,s.NonDealerHand,s.DealerForCrib,s.NonDealerForCrib,n,s.NibsScore,s.PeggingState,s.DealerHandScore,s.NonDealerHandScore,s.CribScore),new uf(t.FirstDealer,t.PreviousDeals,e)))})),oo.Combine(sf(nc(r.gameState))?(Vc(t,new Uc(7,"ProcessGame")),oo.Zero()):(n=nc(r.gameState).CurrentDeal,i=new Zc(Xc(n,new kc(0,"Player1")),Xc(n,new kc(1,"Player2")),!1,!1,0,0,new ot,new ot),el((function(){var t,e,o;rc(r.gameState,(t=nc(r.gameState),o=i,e=new Bc(n.Dealer,n.Deck,n.DealerHand,n.NonDealerHand,n.DealerForCrib,n.NonDealerForCrib,n.CutCard,n.NibsScore,o,n.DealerHandScore,n.NonDealerHandScore,n.CribScore),new uf(t.FirstDealer,t.PreviousDeals,e)))})),Vc(t,new Uc(2,"Pegging")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))})))}if(2===n.tag){var d=nc(r.gameState).CurrentDeal;if(null==d.PeggingState)throw new Ic;var y=d.PeggingState;return oo.Combine(0===ti((h=y).Player1Hand)&&0===ti(h.Player2Hand)&&h.Player1Knocked&&h.Player2Knocked?(_c(r.sourcedLogger,"Pegging: {player} scored {score}",r.player1Name,y.Player1Score),_c(r.sourcedLogger,"Pegging: {player} scored {score}",r.player2Name,y.Player2Score),Vc(t,new Uc(3,"ScoreNonDealerHand")),oo.Zero()):(o=[31===Wc(y),0===Ci(y.CurrentPegging)],u=(i=y.Player1Knocked?y.Player2Knocked?[null==y.CurrentPegging.tail?function(){throw new Ac}():pf(r,y.CurrentPegging.head[1]),!1,!0]:[o[0]?new kc(0,"Player1"):new kc(1,"Player2"),!(o[0]||o[1]),o[0]]:y.Player2Knocked?[o[0]?new kc(1,"Player2"):new kc(0,"Player1"),!(o[0]||o[1]),o[0]]:[null==y.CurrentPegging.tail?pf(r,d.Dealer):pf(r,y.CurrentPegging.head[1]),!1,o[0]])[2]?(a=new ot,s=new ot(y.CurrentPegging,y.PreviousPegging),new Zc(y.Player1Hand,y.Player2Hand,!1,!1,y.Player1Score,y.Player2Score,a,s)):y,l=0===i[0].tag?0!==ti(u.Player1Hand)||u.Player2Knocked?1===i[0].tag?0!==ti(u.Player2Hand)||u.Player1Knocked?(0===ti(V(i[0],new kc(0,"Player1"))?u.Player1Hand:u.Player2Hand)&&_c(r.sourcedLogger,"...{player} has no more cards to peg",df(r,i[0])),c=Yc(d,i[0]),ti((f=Jc(u,i[0],c[0],c[1],$c(d,i[0]))).Peggable)>0||i[1]?[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingPegPlayer1:r.awaitingPegPlayer2,f)}]:[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingCannotPegPlayer1:r.awaitingCannotPegPlayer2,!0)}]):(_c(r.sourcedLogger,"...{player} has no more cards to peg",r.player2Name),[new Zc(u.Player1Hand,u.Player2Hand,u.Player1Knocked,!0,u.Player1Score,u.Player2Score,u.CurrentPegging,u.PreviousPegging),void 0]):(0===ti(V(i[0],new kc(0,"Player1"))?u.Player1Hand:u.Player2Hand)&&_c(r.sourcedLogger,"...{player} has no more cards to peg",df(r,i[0])),c=Yc(d,i[0]),ti((f=Jc(u,i[0],c[0],c[1],$c(d,i[0]))).Peggable)>0||i[1]?[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingPegPlayer1:r.awaitingPegPlayer2,f)}]:[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingCannotPegPlayer1:r.awaitingCannotPegPlayer2,!0)}]):(_c(r.sourcedLogger,"...{player} has no more cards to peg",r.player1Name),[new Zc(u.Player1Hand,u.Player2Hand,!0,u.Player2Knocked,u.Player1Score,u.Player2Score,u.CurrentPegging,u.PreviousPegging),void 0]):1===i[0].tag?0!==ti(u.Player2Hand)||u.Player1Knocked?(0===ti(V(i[0],new kc(0,"Player1"))?u.Player1Hand:u.Player2Hand)&&_c(r.sourcedLogger,"...{player} has no more cards to peg",df(r,i[0])),c=Yc(d,i[0]),ti((f=Jc(u,i[0],c[0],c[1],$c(d,i[0]))).Peggable)>0||i[1]?[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingPegPlayer1:r.awaitingPegPlayer2,f)}]:[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingCannotPegPlayer1:r.awaitingCannotPegPlayer2,!0)}]):(_c(r.sourcedLogger,"...{player} has no more cards to peg",r.player2Name),[new Zc(u.Player1Hand,u.Player2Hand,u.Player1Knocked,!0,u.Player1Score,u.Player2Score,u.CurrentPegging,u.PreviousPegging),void 0]):(0===ti(V(i[0],new kc(0,"Player1"))?u.Player1Hand:u.Player2Hand)&&_c(r.sourcedLogger,"...{player} has no more cards to peg",df(r,i[0])),c=Yc(d,i[0]),ti((f=Jc(u,i[0],c[0],c[1],$c(d,i[0]))).Peggable)>0||i[1]?[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingPegPlayer1:r.awaitingPegPlayer2,f)}]:[u,function(){rc(V(i[0],new kc(0,"Player1"))?r.awaitingCannotPegPlayer1:r.awaitingCannotPegPlayer2,!0)}]),el((function(){var t,e,n;(rc(r.gameState,(t=nc(r.gameState),n=l[0],e=new Bc(d.Dealer,d.Deck,d.DealerHand,d.NonDealerHand,d.DealerForCrib,d.NonDealerForCrib,d.CutCard,d.NibsScore,n,d.DealerHandScore,d.NonDealerHandScore,d.CribScore),new uf(t.FirstDealer,t.PreviousDeals,e))),null==l[1])||(0,l[1])()})),sf(nc(r.gameState))?(Vc(t,new Uc(7,"ProcessGame")),oo.Zero()):null==l[1]?(Vc(t,new Uc(2,"Pegging")),oo.Zero()):oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}if(3===n.tag){var v,g=nc(r.gameState).CurrentDeal;if(null==g.CutCard)throw new Tc;if(null!=g.NonDealerHandScore)throw new Ec;var w,m=g.CutCard,b=[$c(g,new kc(0,"Player1"))?new kc(1,"Player2"):new kc(0,"Player1"),g.NonDealerHand],C=ta(b[1],m);w=Li((function(t){return ea(t)}),C,{GetZero:function(){return 0},Add:function(t,e){return t+e}}),_c(r.sourcedLogger,"Hand: {hand} | {cutCard} -> {nonDealer} scores {score}",Tu(b[1]),Lu(m[0],m[1]),df(r,b[0]),w),Vi((function(t){_c(r.sourcedLogger,"\t{event}",na(t))}),C),r.handScoreEvent.Trigger([b[0],b[1],m,C]);var P=w;return v=new Bc(g.Dealer,g.Deck,g.DealerHand,g.NonDealerHand,g.DealerForCrib,g.NonDealerForCrib,g.CutCard,g.NibsScore,g.PeggingState,g.DealerHandScore,P,g.CribScore),el((function(){var t;rc(r.gameState,(t=nc(r.gameState),new uf(t.FirstDealer,t.PreviousDeals,v)))})),oo.Combine(sf(nc(r.gameState))?(Vc(t,new Uc(7,"ProcessGame")),oo.Zero()):(Vc(t,new Uc(4,"ScoreDealerHand")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}if(4===n.tag){var N,k=nc(r.gameState).CurrentDeal;if(null==k.CutCard)throw new Tc;if(null!=k.DealerHandScore)throw new Ec;var x,D=k.CutCard,H=ta(k.DealerHand,D);x=Li((function(t){return ea(t)}),H,{GetZero:function(){return 0},Add:function(t,e){return t+e}}),_c(r.sourcedLogger,"Hand: {hand} | {cutCard} -> {dealer} scores {score}",Tu(k.DealerHand),Lu(D[0],D[1]),df(r,k.Dealer),x),Vi((function(t){_c(r.sourcedLogger,"\t{event}",na(t))}),H),r.handScoreEvent.Trigger([k.Dealer,k.DealerHand,D,H]);var A=x;return N=new Bc(k.Dealer,k.Deck,k.DealerHand,k.NonDealerHand,k.DealerForCrib,k.NonDealerForCrib,k.CutCard,k.NibsScore,k.PeggingState,A,k.NonDealerHandScore,k.CribScore),el((function(){var t;rc(r.gameState,(t=nc(r.gameState),new uf(t.FirstDealer,t.PreviousDeals,N)))})),oo.Combine(sf(nc(r.gameState))?(Vc(t,new Uc(7,"ProcessGame")),oo.Zero()):(Vc(t,new Uc(5,"ScoreCrib")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}if(5===n.tag){var L,T=nc(r.gameState).CurrentDeal;if(null==T.CutCard)throw new Tc;if(null!=T.CribScore)throw new Ec;var O,M=T.CutCard,R=Ru(ui({Compare:E}),T.DealerForCrib),j=Ru(R,T.NonDealerForCrib),K=function(t,e){return Si((function(t){return new Bu(0,"CribScoreEvent",t)}),$u(!0,t,e))}(j,M);O=Li((function(t){return Xu(t.fields[0])}),K,{GetZero:function(){return 0},Add:function(t,e){return t+e}}),_c(r.sourcedLogger,"Crib: {crib} | {cutCard} -> {dealer} scores {score}",Tu(j),Lu(M[0],M[1]),df(r,T.Dealer),O),Vi((function(t){_c(r.sourcedLogger,"\t{event}",Qu(t.fields[0]))}),K),r.cribScoreEvent.Trigger([T.Dealer,j,M,K]);var F=O,I=[Qc(L=new Bc(T.Dealer,T.Deck,T.DealerHand,T.NonDealerHand,T.DealerForCrib,T.NonDealerForCrib,T.CutCard,T.NibsScore,T.PeggingState,T.DealerHandScore,T.NonDealerHandScore,F),new kc(0,"Player1")),Qc(L,new kc(1,"Player2"))];return _c(r.sourcedLogger,"...deal finished -> {player1} scored {player1Score} and {player2} scored {player2Score}",r.player1Name,I[0],r.player2Name,I[1]),el((function(){var t;rc(r.gameState,(t=nc(r.gameState),new uf(t.FirstDealer,t.PreviousDeals,L)))})),oo.Combine(sf(nc(r.gameState))?(Vc(t,new Uc(7,"ProcessGame")),oo.Zero()):(el((function(){rc(r.awaitingNewDealPlayer1,!0),rc(r.awaitingNewDealPlayer2,!0)})),nc(r.awaitingNewDealPlayer1)||nc(r.awaitingNewDealPlayer2)||Vc(t,new Uc(6,"NewDeal")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}if(6===n.tag){var G=nc(r.gameState).CurrentDeal,q=wf(r,G);return el((function(){var t,e,n,i;rc(r.gameState,(t=nc(r.gameState),e=new ot(q,nc(r.gameState).PreviousDeals),i=pf(r,G.Dealer),n=yf(r,i),new uf(t.FirstDealer,e,n)))})),oo.ReturnFrom(e())}if(7===n.tag){var _,U=af(nc(r.gameState));_c(r.sourcedLogger,"...game finished -> {player1} {player1Score} - {games2} {player2Score}",r.player1Name,U[0],U[1],r.player2Name);var Z=nc(r.gameState).CurrentDeal;return _=wf(r,Z),r.gameOverEvent.Trigger(function(t){var e=[Li((function(t){return rf(t)}),t,{GetZero:function(){return 0},Add:function(t,e){return t+e}}),Li((function(t){return of(t)}),t,{GetZero:function(){return 0},Add:function(t,e){return t+e}})];if(e[0]<121&&e[1]<121)throw new Dc;return new ff(Ci(t),cf(Si((function(t){return t.Player1DealSummary}),t)),cf(Si((function(t){return t.Player2DealSummary}),t)))}(new ot(_,nc(r.gameState).PreviousDeals))),el((function(){rc(r.awaitingNewGamePlayer1,!0),rc(r.awaitingNewGamePlayer2,!0)})),oo.Combine((nc(r.awaitingNewGamePlayer1)||nc(r.awaitingNewGamePlayer2)||Vc(t,new Uc(8,"NewGame")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}return 8===n.tag?(el((function(){var t,e;rc(r.gameState,(e=nc(r.gameState).FirstDealer,t=pf(r,e),vf(r,t)))})),oo.ReturnFrom(e())):1===n.fields[0].tag?oo.Combine(null==nc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingPegPlayer1:r.awaitingPegPlayer2)?(function(){throw new Gc(n.fields[0].fields[0])}(),oo.Zero()):oo.Zero(),oo.Delay((function(){var i=nc(r.gameState).CurrentDeal;return el((function(){var t,e,o;rc(r.gameState,(t=nc(r.gameState),o=function(t,e,n,r){if(null==e)throw new Fc(n);var i,o,u,a,s,l,c=e;if(o=wi(c.CurrentPegging),i=Si((function(t){return t[0]}),o),null==(a=Si((function(t){return Lu(t[0],t[1])}),i)).tail)u="";else{var f,h=new ot(a.head,a.tail);f=Zn(" ",h);var p=qn(Gn("(%s) "));u=p(f)}if(null==r)s=[void 0,Wc(c)];else{var d=r;s=[Lu(d[0],d[1]),Wc(c)+Cu(d[0])]}var y=Zu(Si((function(t){return t[0]}),c.CurrentPegging),r);if(null==y.tail){if(null==s[0])throw new Lc;var v=s[0];_c(t.sourcedLogger,"...{player} plays {previous}{played} = {runningTotal}",df(t,n),u,v,s[1]),l=void 0}else{var g,w=new ot(y.head,y.tail);if(g=Li((function(t){return Wu(t)}),w,{GetZero:function(){return 0},Add:function(t,e){return t+e}}),null==s[0])_c(t.sourcedLogger,"...{player} claims a go -> scores {score}",df(t,n),g);else{var m=s[0];_c(t.sourcedLogger,"...{player} plays {previous}{played} = {runningTotal} -> scores {score}",df(t,n),u,m,s[1],g)}Vi((function(e){_c(t.sourcedLogger,"\t{event}",function(t){switch(t.tag){case 1:var e=bu(t.fields[0]),n=0|Wu(t);return qn(Gn("Three %ss for %i"))(e)(n);case 2:var r=bu(t.fields[0]),i=0|Wu(t);return qn(Gn("Four %ss for %i"))(r)(i);case 3:var o=bu(t.fields[0]),u=bu(t.fields[1]),a=0|Wu(t);return qn(Gn("Run from %s to %s for %i"))(o)(u)(a);case 4:var s=0|Wu(t);return qn(Gn("Fifteen for %i"))(s);case 5:var l=0|Wu(t);return qn(Gn("Thirty-one for %i"))(l);case 6:var c=0|Wu(t);return qn(Gn("Go for %i"))(c);default:var f=bu(t.fields[0]),h=0|Wu(t);return qn(Gn("Pair of %ss for %i"))(f)(h)}}(e))}),new ot(y.head,y.tail)),t.peggingScoreEvent.Trigger([n,r,i,new ot(y.head,y.tail)]),l=g}var b=zc(c,n,r,l),C=V(n,new kc(0,"Player1"))?b.Player1Hand:b.Player2Hand;return ti(C)>0&&_c(t.sourcedLogger,"...{player} now has {cards}",df(t,n),Tu(C)),b}(r,i.PeggingState,n.fields[0].fields[0],n.fields[0].fields[1]),e=new Bc(i.Dealer,i.Deck,i.DealerHand,i.NonDealerHand,i.DealerForCrib,i.NonDealerForCrib,i.CutCard,i.NibsScore,o,i.DealerHandScore,i.NonDealerHandScore,i.CribScore),new uf(t.FirstDealer,t.PreviousDeals,e))),rc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingPegPlayer1:r.awaitingPegPlayer2,void 0)})),oo.Combine(sf(nc(r.gameState))?(Vc(t,new Uc(7,"ProcessGame")),oo.Zero()):(Vc(t,new Uc(2,"Pegging")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}))):2===n.fields[0].tag?oo.Combine((nc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingCannotPegPlayer1:r.awaitingCannotPegPlayer2)||function(){throw new Mc(n.fields[0].fields[0])}(),oo.Zero()),oo.Delay((function(){var i=nc(r.gameState).CurrentDeal;if(null==i.PeggingState)throw new Mc(n.fields[0].fields[0]);var o=i.PeggingState;_c(r.sourcedLogger,"...{player} cannot peg",df(r,n.fields[0].fields[0]));var u=V(n.fields[0].fields[0],new kc(0,"Player1"))?new Zc(o.Player1Hand,o.Player2Hand,!0,o.Player2Knocked,o.Player1Score,o.Player2Score,o.CurrentPegging,o.PreviousPegging):new Zc(o.Player1Hand,o.Player2Hand,o.Player1Knocked,!0,o.Player1Score,o.Player2Score,o.CurrentPegging,o.PreviousPegging);return el((function(){var t,e,o;rc(r.gameState,(t=nc(r.gameState),o=u,e=new Bc(i.Dealer,i.Deck,i.DealerHand,i.NonDealerHand,i.DealerForCrib,i.NonDealerForCrib,i.CutCard,i.NibsScore,o,i.DealerHandScore,i.NonDealerHandScore,i.CribScore),new uf(t.FirstDealer,t.PreviousDeals,e))),rc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingCannotPegPlayer1:r.awaitingCannotPegPlayer2,!1)})),Vc(t,new Uc(2,"Pegging")),oo.ReturnFrom(e())}))):3===n.fields[0].tag?oo.Combine((nc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingNewDealPlayer1:r.awaitingNewDealPlayer2)||function(){throw new jc(n.fields[0].fields[0])}(),oo.Zero()),oo.Delay((function(){return _c(r.sourcedLogger,"...new deal requested by {name}",df(r,n.fields[0].fields[0])),el((function(){rc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingNewDealPlayer1:r.awaitingNewDealPlayer2,!1)})),oo.Combine((nc(r.awaitingNewDealPlayer1)||nc(r.awaitingNewDealPlayer2)||Vc(t,new Uc(6,"NewDeal")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}))):4===n.fields[0].tag?oo.Combine((nc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingNewGamePlayer1:r.awaitingNewGamePlayer2)||function(){throw new Kc(n.fields[0].fields[0])}(),oo.Zero()),oo.Delay((function(){return _c(r.sourcedLogger,"...new game requested by {name}",df(r,n.fields[0].fields[0])),el((function(){rc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingNewGamePlayer1:r.awaitingNewGamePlayer2,!1)})),oo.Combine((nc(r.awaitingNewGamePlayer1)||nc(r.awaitingNewGamePlayer2)||Vc(t,new Uc(8,"NewGame")),oo.Zero()),oo.Delay((function(){return oo.ReturnFrom(e())})))}))):5===n.fields[0].tag?(_c(r.sourcedLogger,"...{name} has quit",df(r,n.fields[0].fields[0])),oo.Return()):oo.Combine(null==nc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingForCribPlayer1:r.awaitingForCribPlayer2)?(function(){throw new Rc(n.fields[0].fields[0])}(),oo.Zero()):oo.Zero(),oo.Delay((function(){var i,o=nc(r.gameState).CurrentDeal,u=function(t,e,n,r){var i=Xc(e,n);!function(t,e){if(6!==ti(e))throw new Hc}(0,i);var o=Mu(i,r);return _c(t.sourcedLogger,"...{player} adds {forCrib} to crib -> hand is {hand}",df(t,n),Tu(r),Tu(o)),o}(r,o,n.fields[0].fields[0],n.fields[0].fields[1]);return el((function(){var t,e;rc(r.gameState,(t=nc(r.gameState),e=function(t,e,n,r){return $c(t,e)?new Bc(t.Dealer,t.Deck,n,t.NonDealerHand,r,t.NonDealerForCrib,t.CutCard,t.NibsScore,t.PeggingState,t.DealerHandScore,t.NonDealerHandScore,t.CribScore):new Bc(t.Dealer,t.Deck,t.DealerHand,n,t.DealerForCrib,r,t.CutCard,t.NibsScore,t.PeggingState,t.DealerHandScore,t.NonDealerHandScore,t.CribScore)}(o,n.fields[0].fields[0],u,n.fields[0].fields[1]),new uf(t.FirstDealer,t.PreviousDeals,e))),rc(V(n.fields[0].fields[0],new kc(0,"Player1"))?r.awaitingForCribPlayer1:r.awaitingForCribPlayer2,void 0)})),oo.Combine(6!==ti(Xc((i=nc(r.gameState)).CurrentDeal,new kc(0,"Player1")))&&6!==ti(Xc(i.CurrentDeal,new kc(1,"Player2")))?(Vc(t,new Uc(1,"Cut")),oo.Zero()):oo.Zero(),oo.Delay((function(){return oo.ReturnFrom(e())})))})))}));var n})))})))})))})))})))})))})))})))})))})))}))}()}))}));function pf(t,e){return 1===e.tag?new kc(0,"Player1"):new kc(1,"Player2")}function df(t,e){return 1===e.tag?t.player2Name:t.player1Name}function yf(t,e){var n=pf(0,e),r=[df(t,e),df(t,n)];_c(t.sourcedLogger,"Dealing hands ({dealer} is dealer)...",r[0]);var i,o=Ou(6,(i=mi(Hu),Si((function(t){return t[1]}),Ai((function(t){return t[0]}),Hi(gu(ti(Hu)),i),{Compare:k}))),ui({Compare:E})),u=Ou(6,o[0],ui({Compare:E}));return _c(t.sourcedLogger,"...dealt to {dealer} -> {dealerHand}",r[0],Tu(o[1])),_c(t.sourcedLogger,"...dealt to {nonDealer} -> {nonDealerHand}",r[1],Tu(u[1])),new Bc(e,u[0],o[1],u[1],ui({Compare:E}),ui({Compare:E}),void 0,void 0,void 0,void 0,void 0,void 0)}function vf(t,e){return _c(t.sourcedLogger,"Starting game ({dealer} is first dealer)...",df(t,e)),new uf(e,new ot,yf(t,e))}function gf(t,e){var n=nc(t.gameState).CurrentDeal;if(V(e,new kc(0,"Player1"))){if(null==nc(t.awaitingForCribPlayer1)){var r=Xc(n,new kc(0,"Player1"));6===ti(r)&&(_c(t.sourcedLogger,"Awaiting cards for crib from {player}...",t.player1Name),el((function(){rc(t.awaitingForCribPlayer1,[$c(n,new kc(0,"Player1")),r])})))}}else if(null==nc(t.awaitingForCribPlayer2)){var i=Xc(n,new kc(1,"Player2"));6===ti(i)&&(_c(t.sourcedLogger,"Awaiting cards for crib from {player}...",t.player2Name),el((function(){rc(t.awaitingForCribPlayer2,[$c(n,new kc(1,"Player2")),i])})))}}function wf(t,e){var n=function(t){if(null!=e.PeggingState){var n=e.PeggingState,r=V(t,new kc(0,"Player1"))?[n.Player1Score,n.Player1Hand]:[n.Player2Score,n.Player2Hand];return[r[0],0===ti(r[1])]}},r=$c(e,new kc(0,"Player1")),i=new tf(r,r?e.NibsScore:void 0,n(new kc(0,"Player1")),r?e.DealerHandScore:e.NonDealerHandScore,r?e.CribScore:void 0),o=new tf(!r,r?void 0:e.NibsScore,n(new kc(1,"Player2")),r?e.NonDealerHandScore:e.DealerHandScore,r?void 0:e.CribScore);return new nf(i,o)}var mf=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);var bf=nt((function(t){this.state=new mf(0,"Writable",hi(new Array(H(k,t,10)),0,H(k,t,10),null),0)}));function Cf(t,e){var n,r,i=t.state;if(1===i.tag){i.fields[0][i.fields[1]]=e;var o=(i.fields[1]+1)%i.fields[0].length|0,u=o===i.fields[2];t.state=u?new mf(1,"ReadWritable",(n=i.fields[2],r=i.fields[0],di(sn((function(){return on(mn(n,r),sn((function(){return on(Cn(n,r),sn((function(){return an((function(t){return ln(null)}),wn(0,1,r.length))})))})))})),Array)),i.fields[0].length,0):new mf(1,"ReadWritable",i.fields[0],o,i.fields[2])}else{i.fields[0][i.fields[1]]=e;var a=(i.fields[1]+1)%i.fields[0].length|0;t.state=new mf(1,"ReadWritable",i.fields[0],a,i.fields[1])}}var Pf=nt((function(t,e,n,r,i,o,u){this.init=t,this.update=e,this.subscribe=n,this.view=r,this.setState=i,this.onError=o,this.syncDispatch=u}),ct);function Sf(t,e){return new Pf(e.init,e.update,e.subscribe,e.view,t,e.onError,e.syncDispatch)}function Vf(t){return I(2,t.view)}function Nf(t,e){var n,r=e.init(t),i=function(t){return this instanceof bf?bf.call(this,t):new bf(t)}(10),o=!1,u=r[0],a=G(1,e.syncDispatch,[function(t){var n;if(o)Cf(i,t);else{o=!0;for(var r=Rt(t),s=function(){var t=jt(r);try{var o=e.update(t,u);e.setState(o[0],a),vo((function(n){var r;e.onError([(r=qn(Gn("Error in command while handling: %A")),r(t)),n])}),a,o[1]),u=o[0]}catch(r){e.onError([(n=qn(Gn("Unable to process the message: %A")),n(t)),r])}r=function(t){var e=t.state;if(1===e.tag){var n=(e.fields[2]+1)%e.fields[0].length|0,r=n===e.fields[1];return t.state=r?new mf(0,"Writable",e.fields[0],e.fields[1]):new mf(1,"ReadWritable",e.fields[0],e.fields[1],n),Rt(e.fields[0][e.fields[2]])}}(i)};null!=r;)s();o=!1}}]);e.setState(r[0],a);try{n=e.subscribe(r[0])}catch(t){e.onError(["Unable to subscribe:",t]),n=go()}var s=wo(Ni([n,r[1]]));vo((function(t){e.onError(["Error intitializing:",t])}),a,s)}var kf=n(30),xf=nt((function(t,e,n){this.model=t,this.render=e,this.equal=n}),ct);var Ef=nt((function(t){Ro.Component.call(this,t)}),Ro.Component);function Df(t,e,n,r){var i,o=new xf(n,(function(){return e(n,r)}),t);return i=Ef,Ro.createElement.apply(Ro,[i,o].concat([]))}function Hf(t,e,n){return Sf((function(r,i){kf.render(t((function(t,e){return t===e}),F(2,Vf(n)),r,i),document.getElementById(e))}),n)}function Af(t){return function(t){if(Array.isArray(t))return Lf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Lf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lf(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ef.prototype.shouldComponentUpdate=function(t,e){return!this.props.equal(this.props.model,t.model)},Ef.prototype.render=function(){return this.props.render()};var Tf=nt((function(t,e){this.tag=0|t,this.name=e;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.fields=r}),ut);function Of(){return xt("Aornota.Cribbage.Ui.App.Msg",[],Tf,(function(){return[["SettingsMsg",[["Item",xt("Aornota.Cribbage.Ui.Settings.Msg",[],bo,(function(){return["ToggleUseDarkTheme"]}))]]]]}))}var Mf=nt((function(t){this.Settings=t}),ct);function Rf(){return kt("Aornota.Cribbage.Ui.App.State",[],Mf,(function(){return[["Settings",kt("Aornota.Cribbage.Ui.Settings.State",[],Co,(function(){return[["UseDarkTheme",Et(Ht)]]}))]]}))}function jf(t,e){var n,r,i=Vo(t.fields[0],e.Settings);return[new Mf(i[0]),(n=function(t){return new Tf(0,"SettingsMsg",t)},r=i[1],Si((function(t){return function(e){t((function(t){e(n(t))}))}}),r))]}var Kf,Ff,If=function(t,e){return hu(t,void 0,e)}((function(t){var e,n,r,i,o,u,a,s,l,c,f,h,p,d,y,v,g,w,m,b,C,P,S,V,N=ko("@media (prefers-color-scheme: dark)"),k=[Zo(Ft(t.state.Settings.UseDarkTheme,N)),Wo()],x=[Fo("theme",k[0]),(e=[(n=Ni([Fo("className",k[1].root),(r=[(i=[],Xo(zo.a,i)),(o=[["classes.root",k[1].appBar],Fo("color","secondary"),Fo("position","fixed"),(u=[(a=[["classes.root",k[1].toolbar],(s=[(l=[["classes.root",k[1].title],Fo("variant","h6"),(c=[(f=Ni([(h=new ot(Io("verticalAlign","middle"),new ot),Fo("style",K(h,0))),Fo("src","tpoc-32x32.png"),Fo("alt","cribbage")]),Ko("img",K(f,0)))," | ",Ko("strong",{children:["cribbage"]})," (",Ko("em",{children:[""]}),")"],Fo("children",jo.Children.toArray(di(c,Array))))],Xo(Qo.a,l)),(p=[(d=null==t.state.Settings.UseDarkTheme?"Using system light/dark theme":t.state.Settings.UseDarkTheme?"Using dark theme":"Using light theme",Fo("title",d)),(v=[Fo("onClick",(function(e){var n;t.dispatch((n=new bo(0,"ToggleUseDarkTheme"),new Tf(0,"SettingsMsg",n)))})),Fo("color","inherit"),(g=mi(sn((function(){var e,n,r,i,o,u;return null==t.state.Settings.UseDarkTheme?ln((e=K([],1),n=[],Ro.createElement.apply(Ro,[tu.a,e].concat(Af(n))))):t.state.Settings.UseDarkTheme?ln((r=K([],1),i=[],Ro.createElement.apply(Ro,[nu.a,r].concat(Af(i))))):ln((o=K([],1),u=[],Ro.createElement.apply(Ro,[iu.a,o].concat(Af(u)))))}))),Fo("children",jo.Children.toArray(di(g,Array))))],y=Xo(ou.a,v),Fo("children",y))],Xo(uu.a,p)),(w=[Fo("title","aornota/cribbage on GitHub"),(b=[Fo("href","https://github.com/aornota/cribbage"),Fo("target","_blank"),Fo("color","inherit"),(C=[(P=[],S=K(P,1),V=[],Ro.createElement.apply(Ro,[su.a,S].concat(Af(V))))],Fo("children",jo.Children.toArray(di(C,Array))))],m=Xo(ou.a,b),Fo("children",m))],Xo(uu.a,w))],Fo("children",jo.Children.toArray(di(s,Array))))],Xo(lu.a,a))],Fo("children",jo.Children.toArray(di(u,Array))))],Xo(cu.a,o))],Fo("children",jo.Children.toArray(di(r,Array))))]),Ko("div",K(n,0)))],Fo("children",jo.Children.toArray(di(e,Array))))];return Xo(fu.a,x)}));function Gf(t,e){return If(ft({dispatch:e,state:t}))}!function(t,e){this instanceof hf?hf.call(this,t,e):new hf(t,e)}("Basic","Neph"),Ff=new Pf((function(){return[new Mf(new Co(Po(new mo(0,"UseDarkTheme"),So))),go()]}),jf,(function(t){return go()}),Kf=Gf,(function(t,e){Kf(t,e)}),(function(t){yo(t[0],t[1])}),F(2,(function(t){return t}))),Nf(void 0,Hf(Df,"app",Ff))}});